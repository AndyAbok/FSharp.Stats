<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Clustering
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="F#-first linear algebra, machine learning, fitting, signal processing, and statistical testing."/>
    <meta name="author" content="Benedikt Venn, Timo Muehlhaus, Heinrich Lukas Weil, David Zimmer, Kevin Schneider, open source contributors"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/FSharp.Stats/content/style.css" />
    <link type="text/css" rel="stylesheet" href="/FSharp.Stats/style/CSBStyle.css" /> <!--/FSharp.Stats-->
    <script type="text/javascript" src="/FSharp.Stats/content/tips.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="https://github.com/fslaborg/FSharp.Stats">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/FSharp.Stats/index.html">FSharp.Stats</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Clustering" class="anchor" href="#Clustering">Clustering</a></h1>
<p>For demonstration of several clustering methods, the classic iris data set is used, which consists of 150 records, each of which contains four measurements and a species identifier.
Since the species identifier occur several times (<em>Iris-irginica</em>, <em>Iris-versicolor</em>, and <em>Iris-setosa</em>), the first step is to generate unique labels:</p>
<ul>
<li>The data is shuffled and an index is appended to the data label, such that each label is unique.</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 35)" onmouseover="showTip(event, 'fs1', 35)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 36)" onmouseover="showTip(event, 'fs3', 36)" class="id">Stats</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 37)" onmouseover="showTip(event, 'fs1', 37)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 38)" onmouseover="showTip(event, 'fs2', 38)" class="id">Plotly</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 39)" onmouseover="showTip(event, 'fs19', 39)" class="fn">fromFileWithSep</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs20', 40)" onmouseover="showTip(event, 'fs20', 40)" class="id">separator</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs21', 41)" onmouseover="showTip(event, 'fs21', 41)" class="vt">char</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs22', 42)" onmouseover="showTip(event, 'fs22', 42)" class="id">filePath</span><span class="pn">)</span> <span class="o">=</span>     
    <span class="c">// The function is implemented using a sequence expression</span>
    <span onmouseout="hideTip(event, 'fs23', 43)" onmouseover="showTip(event, 'fs23', 43)" class="k">seq</span> <span class="pn">{</span>   <span class="k">let</span> <span onmouseout="hideTip(event, 'fs24', 44)" onmouseover="showTip(event, 'fs24', 44)" class="id">sr</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 45)" onmouseover="showTip(event, 'fs25', 45)" class="fn">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 46)" onmouseover="showTip(event, 'fs26', 46)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 47)" onmouseover="showTip(event, 'fs27', 47)" class="rt">File</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs28', 48)" onmouseover="showTip(event, 'fs28', 48)" class="id">OpenText</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs22', 49)" onmouseover="showTip(event, 'fs22', 49)" class="id">filePath</span><span class="pn">)</span>
            <span class="k">while</span> <span onmouseout="hideTip(event, 'fs29', 50)" onmouseover="showTip(event, 'fs29', 50)" class="fn">not</span> <span onmouseout="hideTip(event, 'fs24', 51)" onmouseover="showTip(event, 'fs24', 51)" class="id">sr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 52)" onmouseover="showTip(event, 'fs30', 52)" class="id">EndOfStream</span> <span class="k">do</span> 
                <span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 53)" onmouseover="showTip(event, 'fs31', 53)" class="id">line</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs24', 54)" onmouseover="showTip(event, 'fs24', 54)" class="fn">sr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 55)" onmouseover="showTip(event, 'fs32', 55)" class="id">ReadLine</span><span class="pn">(</span><span class="pn">)</span> 
                <span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 56)" onmouseover="showTip(event, 'fs33', 56)" class="id">words</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs31', 57)" onmouseover="showTip(event, 'fs31', 57)" class="fn">line</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 58)" onmouseover="showTip(event, 'fs34', 58)" class="id">Split</span> <span onmouseout="hideTip(event, 'fs20', 59)" onmouseover="showTip(event, 'fs20', 59)" class="id">separator</span><span class="c">//[|&#39;,&#39;;&#39; &#39;;&#39;\t&#39;|] </span>
                <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs33', 60)" onmouseover="showTip(event, 'fs33', 60)" class="id">words</span> <span class="pn">}</span>

                
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 61)" onmouseover="showTip(event, 'fs35', 61)" class="id">lables</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs36', 62)" onmouseover="showTip(event, 'fs36', 62)" class="id">data</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs19', 63)" onmouseover="showTip(event, 'fs19', 63)" class="fn">fromFileWithSep</span> <span class="s">&#39;,&#39;</span> <span class="pn">(</span><span class="k">__SOURCE_DIRECTORY__</span> <span class="o">+</span> <span class="s">&quot;/data/irisData.csv&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 64)" onmouseover="showTip(event, 'fs37', 64)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs38', 65)" onmouseover="showTip(event, 'fs38', 65)" class="id">skip</span> <span class="n">1</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 66)" onmouseover="showTip(event, 'fs37', 66)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 67)" onmouseover="showTip(event, 'fs39', 67)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs40', 68)" onmouseover="showTip(event, 'fs40', 68)" class="id">arr</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs40', 69)" onmouseover="showTip(event, 'fs40', 69)" class="id">arr</span><span class="m">.</span><span class="pn">[</span><span class="n">4</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[|</span> <span onmouseout="hideTip(event, 'fs41', 70)" onmouseover="showTip(event, 'fs41', 70)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs40', 71)" onmouseover="showTip(event, 'fs40', 71)" class="id">arr</span><span class="m">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs41', 72)" onmouseover="showTip(event, 'fs41', 72)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs40', 73)" onmouseover="showTip(event, 'fs40', 73)" class="id">arr</span><span class="m">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs41', 74)" onmouseover="showTip(event, 'fs41', 74)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs40', 75)" onmouseover="showTip(event, 'fs40', 75)" class="id">arr</span><span class="m">.</span><span class="pn">[</span><span class="n">2</span><span class="pn">]</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs41', 76)" onmouseover="showTip(event, 'fs41', 76)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs40', 77)" onmouseover="showTip(event, 'fs40', 77)" class="id">arr</span><span class="m">.</span><span class="pn">[</span><span class="n">3</span><span class="pn">]</span><span class="pn">;</span> <span class="pn">|]</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 78)" onmouseover="showTip(event, 'fs37', 78)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 79)" onmouseover="showTip(event, 'fs42', 79)" class="id">toArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 80)" onmouseover="showTip(event, 'fs43', 80)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 81)" onmouseover="showTip(event, 'fs44', 81)" class="id">shuffleFisherYates</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 82)" onmouseover="showTip(event, 'fs43', 82)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs45', 83)" onmouseover="showTip(event, 'fs45', 83)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs46', 84)" onmouseover="showTip(event, 'fs46', 84)" class="id">i</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs47', 85)" onmouseover="showTip(event, 'fs47', 85)" class="id">lable</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs48', 86)" onmouseover="showTip(event, 'fs48', 86)" class="id">data</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs49', 87)" onmouseover="showTip(event, 'fs49', 87)" class="fn">sprintf</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s">_</span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs47', 88)" onmouseover="showTip(event, 'fs47', 88)" class="id">lable</span> <span onmouseout="hideTip(event, 'fs46', 89)" onmouseover="showTip(event, 'fs46', 89)" class="id">i</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs48', 90)" onmouseover="showTip(event, 'fs48', 90)" class="id">data</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 91)" onmouseover="showTip(event, 'fs43', 91)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs50', 92)" onmouseover="showTip(event, 'fs50', 92)" class="id">unzip</span>
   
</code></pre></td>
</tr>
</table>
<div id="bc4e16cf-d56f-4ed9-8a0f-f9d7b95bc4b6" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"heatmap","z":[[5.2,3.5,1.5,0.2],[5.8,2.8,5.1,2.4],[6.2,2.8,4.8,1.8],[4.5,2.3,1.3,0.3],[4.4,3.2,1.3,0.2],[4.8,3.0,1.4,0.1],[6.4,2.7,5.3,1.9],[5.0,3.4,1.5,0.2],[6.2,2.9,4.3,1.3],[4.4,2.9,1.4,0.2],[5.5,2.4,3.7,1.0],[5.5,2.5,4.0,1.3],[7.2,3.2,6.0,1.8],[4.8,3.4,1.6,0.2],[5.7,2.9,4.2,1.3],[6.7,3.0,5.0,1.7],[6.3,2.8,5.1,1.5],[6.3,3.4,5.6,2.4],[7.7,3.8,6.7,2.2],[6.9,3.1,4.9,1.5],[6.0,2.9,4.5,1.5],[5.5,2.3,4.0,1.3],[5.1,3.8,1.5,0.3],[6.8,2.8,4.8,1.4],[6.1,2.6,5.6,1.4],[5.6,2.5,3.9,1.1],[4.9,2.4,3.3,1.0],[5.0,3.0,1.6,0.2],[7.2,3.0,5.8,1.6],[5.8,2.7,5.1,1.9],[5.0,3.4,1.6,0.4],[7.4,2.8,6.1,1.9],[5.4,3.0,4.5,1.5],[4.4,3.0,1.3,0.2],[6.4,3.2,5.3,2.3],[5.5,2.6,4.4,1.2],[6.7,3.1,5.6,2.4],[5.0,3.5,1.6,0.6],[4.8,3.0,1.4,0.3],[4.9,3.0,1.4,0.2],[4.6,3.6,1.0,0.2],[5.4,3.4,1.5,0.4],[6.3,3.3,6.0,2.5],[5.4,3.9,1.3,0.4],[5.1,3.5,1.4,0.2],[6.1,3.0,4.6,1.4],[6.5,3.0,5.5,1.8],[5.7,2.8,4.1,1.3],[5.7,3.8,1.7,0.3],[6.0,2.2,4.0,1.0],[5.0,3.2,1.2,0.2],[6.6,2.9,4.6,1.3],[4.7,3.2,1.3,0.2],[4.9,3.1,1.5,0.1],[5.6,2.7,4.2,1.3],[7.0,3.2,4.7,1.4],[5.7,2.8,4.5,1.3],[5.5,2.4,3.8,1.1],[5.2,3.4,1.4,0.2],[5.8,4.0,1.2,0.2],[6.9,3.2,5.7,2.3],[5.2,4.1,1.5,0.1],[7.7,2.6,6.9,2.3],[6.6,3.0,4.4,1.4],[4.3,3.0,1.1,0.1],[6.1,3.0,4.9,1.8],[5.1,2.5,3.0,1.1],[6.0,2.7,5.1,1.6],[4.6,3.2,1.4,0.2],[5.1,3.5,1.4,0.3],[5.8,2.6,4.0,1.2],[5.5,3.5,1.3,0.2],[6.7,2.5,5.8,1.8],[6.4,2.8,5.6,2.2],[7.9,3.8,6.4,2.0],[6.5,3.0,5.8,2.2],[6.0,2.2,5.0,1.5],[6.3,2.5,5.0,1.9],[6.9,3.1,5.4,2.1],[6.7,3.3,5.7,2.1],[6.1,2.8,4.7,1.2],[6.5,3.0,5.2,2.0],[4.9,3.1,1.5,0.1],[6.1,2.9,4.7,1.4],[6.0,3.0,4.8,1.8],[4.6,3.4,1.4,0.3],[6.7,3.1,4.4,1.4],[6.2,3.4,5.4,2.3],[7.3,2.9,6.3,1.8],[5.7,2.6,3.5,1.0],[5.2,2.7,3.9,1.4],[5.7,2.5,5.0,2.0],[6.3,2.3,4.4,1.3],[5.7,3.0,4.2,1.2],[6.0,3.4,4.5,1.6],[5.5,4.2,1.4,0.2],[5.3,3.7,1.5,0.2],[5.1,3.8,1.9,0.4],[5.1,3.7,1.5,0.4],[6.4,3.1,5.5,1.8],[6.7,3.0,5.2,2.3],[7.6,3.0,6.6,2.1],[5.0,2.3,3.3,1.0],[5.8,2.7,3.9,1.2],[6.3,3.3,4.7,1.6],[5.9,3.0,4.2,1.5],[7.7,2.8,6.7,2.0],[6.8,3.0,5.5,2.1],[4.8,3.4,1.9,0.2],[4.9,3.1,1.5,0.1],[5.6,3.0,4.1,1.3],[6.7,3.3,5.7,2.5],[6.4,2.8,5.6,2.1],[5.0,3.3,1.4,0.2],[7.7,3.0,6.1,2.3],[6.5,2.8,4.6,1.5],[5.8,2.7,5.1,1.9],[5.7,4.4,1.5,0.4],[5.1,3.4,1.5,0.2],[6.4,3.2,4.5,1.5],[6.3,2.9,5.6,1.8],[4.7,3.2,1.6,0.2],[5.6,3.0,4.5,1.5],[6.8,3.2,5.9,2.3],[5.4,3.9,1.7,0.4],[5.1,3.3,1.7,0.5],[5.4,3.7,1.5,0.2],[5.6,2.8,4.9,2.0],[6.9,3.1,5.1,2.3],[4.6,3.1,1.5,0.2],[7.2,3.6,6.1,2.5],[5.0,2.0,3.5,1.0],[5.6,2.9,3.6,1.3],[5.4,3.4,1.7,0.2],[5.8,2.7,4.1,1.0],[6.2,2.2,4.5,1.5],[6.3,2.5,4.9,1.5],[5.0,3.5,1.3,0.3],[6.3,2.7,4.9,1.8],[4.8,3.1,1.6,0.2],[5.9,3.2,4.8,1.8],[5.9,3.0,5.1,1.8],[6.5,3.2,5.1,2.0],[6.4,2.9,4.3,1.3],[6.1,2.8,4.0,1.3],[7.1,3.0,5.9,2.1],[4.9,2.5,4.5,1.7],[5.0,3.6,1.4,0.2],[5.1,3.8,1.6,0.2],[6.7,3.1,4.7,1.5]],"x":["Sepal length","Sepal width","Petal length","Petal width"],"y":["Iris-setosa_0","Iris-virginica_1","Iris-virginica_2","Iris-setosa_3","Iris-setosa_4","Iris-setosa_5","Iris-virginica_6","Iris-setosa_7","Iris-versicolor_8","Iris-setosa_9","Iris-versicolor_10","Iris-versicolor_11","Iris-virginica_12","Iris-setosa_13","Iris-versicolor_14","Iris-versicolor_15","Iris-virginica_16","Iris-virginica_17","Iris-virginica_18","Iris-versicolor_19","Iris-versicolor_20","Iris-versicolor_21","Iris-setosa_22","Iris-versicolor_23","Iris-virginica_24","Iris-versicolor_25","Iris-versicolor_26","Iris-setosa_27","Iris-virginica_28","Iris-virginica_29","Iris-setosa_30","Iris-virginica_31","Iris-versicolor_32","Iris-setosa_33","Iris-virginica_34","Iris-versicolor_35","Iris-virginica_36","Iris-setosa_37","Iris-setosa_38","Iris-setosa_39","Iris-setosa_40","Iris-setosa_41","Iris-virginica_42","Iris-setosa_43","Iris-setosa_44","Iris-versicolor_45","Iris-virginica_46","Iris-versicolor_47","Iris-setosa_48","Iris-versicolor_49","Iris-setosa_50","Iris-versicolor_51","Iris-setosa_52","Iris-setosa_53","Iris-versicolor_54","Iris-versicolor_55","Iris-versicolor_56","Iris-versicolor_57","Iris-setosa_58","Iris-setosa_59","Iris-virginica_60","Iris-setosa_61","Iris-virginica_62","Iris-versicolor_63","Iris-setosa_64","Iris-virginica_65","Iris-versicolor_66","Iris-versicolor_67","Iris-setosa_68","Iris-setosa_69","Iris-versicolor_70","Iris-setosa_71","Iris-virginica_72","Iris-virginica_73","Iris-virginica_74","Iris-virginica_75","Iris-virginica_76","Iris-virginica_77","Iris-virginica_78","Iris-virginica_79","Iris-versicolor_80","Iris-virginica_81","Iris-setosa_82","Iris-versicolor_83","Iris-virginica_84","Iris-setosa_85","Iris-versicolor_86","Iris-virginica_87","Iris-virginica_88","Iris-versicolor_89","Iris-versicolor_90","Iris-virginica_91","Iris-versicolor_92","Iris-versicolor_93","Iris-versicolor_94","Iris-setosa_95","Iris-setosa_96","Iris-setosa_97","Iris-setosa_98","Iris-virginica_99","Iris-virginica_100","Iris-virginica_101","Iris-versicolor_102","Iris-versicolor_103","Iris-versicolor_104","Iris-versicolor_105","Iris-virginica_106","Iris-virginica_107","Iris-setosa_108","Iris-setosa_109","Iris-versicolor_110","Iris-virginica_111","Iris-virginica_112","Iris-setosa_113","Iris-virginica_114","Iris-versicolor_115","Iris-virginica_116","Iris-setosa_117","Iris-setosa_118","Iris-versicolor_119","Iris-virginica_120","Iris-setosa_121","Iris-versicolor_122","Iris-virginica_123","Iris-setosa_124","Iris-setosa_125","Iris-setosa_126","Iris-virginica_127","Iris-virginica_128","Iris-setosa_129","Iris-virginica_130","Iris-versicolor_131","Iris-versicolor_132","Iris-setosa_133","Iris-versicolor_134","Iris-versicolor_135","Iris-versicolor_136","Iris-setosa_137","Iris-virginica_138","Iris-setosa_139","Iris-versicolor_140","Iris-virginica_141","Iris-virginica_142","Iris-versicolor_143","Iris-versicolor_144","Iris-virginica_145","Iris-virginica_146","Iris-setosa_147","Iris-setosa_148","Iris-versicolor_149"],"colorscale":"Electric","showscale":true}];
    var layout = {"margin":{"l":250.0},"title":"raw iris data"};
    var config = {};
    Plotly.newPlot('bc4e16cf-d56f-4ed9-8a0f-f9d7b95bc4b6', data, layout, config);
  </script>
<h2><a name="Iterative-Clustering" class="anchor" href="#Iterative-Clustering">Iterative Clustering</a></h2>
<h3><a name="k-means-clustering" class="anchor" href="#k-means-clustering">k-means clustering</a></h3>
<p>In k-means clustering a cluster number has to be specified prior to clustering the data. K centroids are randomly chosen.
After all data points are assigned to their nearest centroid, the algorithm iteratively approaches a centroid position configuration,
that minimizes the dispersion of every of the k clusters.
For cluster number determination see below (Determining the optimal number of clusters).</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 109)" onmouseover="showTip(event, 'fs1', 109)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 110)" onmouseover="showTip(event, 'fs3', 110)" class="id">Stats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 111)" onmouseover="showTip(event, 'fs60', 111)" class="id">ML</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 112)" onmouseover="showTip(event, 'fs1', 112)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 113)" onmouseover="showTip(event, 'fs3', 113)" class="id">Stats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 114)" onmouseover="showTip(event, 'fs60', 114)" class="id">ML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 115)" onmouseover="showTip(event, 'fs61', 115)" class="id">Unsupervised</span>


<span class="c">// Kmeans clustering</span>

<span class="c">// For random cluster inititalization use randomInitFactory:</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs62', 116)" onmouseover="showTip(event, 'fs62', 116)" class="id">rnd</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs25', 117)" onmouseover="showTip(event, 'fs25', 117)" class="rt">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs63', 118)" onmouseover="showTip(event, 'fs63', 118)" class="id">Random</span><span class="pn">(</span><span class="pn">)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs64', 119)" onmouseover="showTip(event, 'fs64', 119)" class="fn">randomInitFactory</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs65', 120)" onmouseover="showTip(event, 'fs65', 120)" class="m">IterativeClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs66', 121)" onmouseover="showTip(event, 'fs66', 121)" class="id">CentroidsFactory</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs41', 122)" onmouseover="showTip(event, 'fs41', 122)" class="vt">float</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">&gt;</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs65', 123)" onmouseover="showTip(event, 'fs65', 123)" class="m">IterativeClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 124)" onmouseover="showTip(event, 'fs67', 124)" class="id">randomCentroids</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs41', 125)" onmouseover="showTip(event, 'fs41', 125)" class="vt">float</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs62', 126)" onmouseover="showTip(event, 'fs62', 126)" class="id">rnd</span>

<span class="c">//let cvmaxFactory : IterativeClustering.CentroidsFactory&lt;float []&gt; = </span>
<span class="c">//    IterativeClustering.intitCVMAX</span>
  
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs68', 127)" onmouseover="showTip(event, 'fs68', 127)" class="id">kmeansResult</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs65', 128)" onmouseover="showTip(event, 'fs65', 128)" class="m">IterativeClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 129)" onmouseover="showTip(event, 'fs69', 129)" class="id">kmeans</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs70', 130)" onmouseover="showTip(event, 'fs70', 130)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs71', 131)" onmouseover="showTip(event, 'fs71', 131)" class="id">euclidean</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs64', 132)" onmouseover="showTip(event, 'fs64', 132)" class="fn">randomInitFactory</span> 
    <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs36', 133)" onmouseover="showTip(event, 'fs36', 133)" class="id">data</span> <span class="o">&lt;|</span> <span class="n">4</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs72', 134)" onmouseover="showTip(event, 'fs72', 134)" class="id">clusteredIrisData</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs43', 135)" onmouseover="showTip(event, 'fs43', 135)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs73', 136)" onmouseover="showTip(event, 'fs73', 136)" class="id">zip</span> <span onmouseout="hideTip(event, 'fs35', 137)" onmouseover="showTip(event, 'fs35', 137)" class="id">lables</span> <span onmouseout="hideTip(event, 'fs36', 138)" onmouseover="showTip(event, 'fs36', 138)" class="id">data</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 139)" onmouseover="showTip(event, 'fs43', 139)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 140)" onmouseover="showTip(event, 'fs74', 140)" class="id">sortBy</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs75', 141)" onmouseover="showTip(event, 'fs75', 141)" class="id">l</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs76', 142)" onmouseover="showTip(event, 'fs76', 142)" class="id">dataPoint</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs77', 143)" onmouseover="showTip(event, 'fs77', 143)" class="fn">fst</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs68', 144)" onmouseover="showTip(event, 'fs68', 144)" class="fn">kmeansResult</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs78', 145)" onmouseover="showTip(event, 'fs78', 145)" class="id">Classifier</span> <span onmouseout="hideTip(event, 'fs76', 146)" onmouseover="showTip(event, 'fs76', 146)" class="id">dataPoint</span><span class="pn">)</span><span class="pn">)</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 147)" onmouseover="showTip(event, 'fs43', 147)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs50', 148)" onmouseover="showTip(event, 'fs50', 148)" class="id">unzip</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs79', 149)" onmouseover="showTip(event, 'fs79', 149)" class="id">labels</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs80', 150)" onmouseover="showTip(event, 'fs80', 150)" class="id">d</span><span class="pn">)</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs56', 151)" onmouseover="showTip(event, 'fs56', 151)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs57', 152)" onmouseover="showTip(event, 'fs57', 152)" class="id">Heatmap</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs80', 153)" onmouseover="showTip(event, 'fs80', 153)" class="id">d</span><span class="pn">,</span><span class="id">ColNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs51', 154)" onmouseover="showTip(event, 'fs51', 154)" class="id">colnames</span><span class="pn">,</span><span class="id">RowNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs79', 155)" onmouseover="showTip(event, 'fs79', 155)" class="id">labels</span><span class="pn">,</span><span class="id">Colorscale</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs52', 156)" onmouseover="showTip(event, 'fs52', 156)" class="id">colorscaleValue</span><span class="pn">,</span><span class="id">Showscale</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 157)" onmouseover="showTip(event, 'fs56', 157)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs58', 158)" onmouseover="showTip(event, 'fs58', 158)" class="id">withMarginSize</span><span class="pn">(</span><span class="id">Left</span><span class="o">=</span><span class="n">250.</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 159)" onmouseover="showTip(event, 'fs56', 159)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 160)" onmouseover="showTip(event, 'fs59', 160)" class="id">withTitle</span> <span class="s">&quot;clustered iris data (k-means clustering)&quot;</span>
</code></pre></td>
</tr>
</table>
<div id="839e8fc2-9024-41e8-94d0-e945bc350c01" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"heatmap","z":[[6.7,3.1,4.7,1.5],[5.4,3.0,4.5,1.5],[5.6,3.0,4.5,1.5],[6.4,3.2,4.5,1.5],[5.5,2.6,4.4,1.2],[6.0,2.2,5.0,1.5],[6.1,3.0,4.9,1.8],[5.8,2.7,5.1,1.9],[6.5,2.8,4.6,1.5],[5.6,3.0,4.1,1.3],[5.9,3.0,4.2,1.5],[6.3,3.3,4.7,1.6],[5.8,2.7,3.9,1.2],[5.0,2.3,3.3,1.0],[6.1,3.0,4.6,1.4],[6.0,3.0,4.8,1.8],[5.7,2.8,4.1,1.3],[6.6,3.0,4.4,1.4],[6.0,2.2,4.0,1.0],[6.7,3.1,4.4,1.4],[6.6,2.9,4.6,1.3],[5.7,2.6,3.5,1.0],[6.0,3.4,4.5,1.6],[5.6,2.7,4.2,1.3],[5.7,3.0,4.2,1.2],[5.7,2.8,4.5,1.3],[5.5,2.4,3.8,1.1],[6.3,2.3,4.4,1.3],[5.1,2.5,3.0,1.1],[5.7,2.5,5.0,2.0],[6.0,2.7,5.1,1.6],[6.1,2.9,4.7,1.4],[5.8,2.8,5.1,2.4],[6.2,2.8,4.8,1.8],[6.3,2.5,5.0,1.9],[4.9,2.5,4.5,1.7],[6.1,2.8,4.0,1.3],[6.4,2.9,4.3,1.3],[5.9,3.0,5.1,1.8],[6.2,2.9,4.3,1.3],[5.9,3.2,4.8,1.8],[5.5,2.4,3.7,1.0],[5.5,2.5,4.0,1.3],[6.3,2.7,4.9,1.8],[5.8,2.6,4.0,1.2],[5.7,2.9,4.2,1.3],[6.3,2.5,4.9,1.5],[6.3,2.8,5.1,1.5],[6.2,2.2,4.5,1.5],[5.8,2.7,4.1,1.0],[6.1,2.8,4.7,1.2],[6.0,2.9,4.5,1.5],[5.5,2.3,4.0,1.3],[5.6,2.9,3.6,1.3],[6.8,2.8,4.8,1.4],[5.0,2.0,3.5,1.0],[5.6,2.5,3.9,1.1],[4.9,2.4,3.3,1.0],[5.6,2.8,4.9,2.0],[5.8,2.7,5.1,1.9],[5.2,2.7,3.9,1.4],[5.1,3.4,1.5,0.2],[5.3,3.7,1.5,0.2],[5.1,3.8,1.9,0.4],[5.1,3.7,1.5,0.4],[5.7,4.4,1.5,0.4],[5.4,3.9,1.7,0.4],[5.1,3.3,1.7,0.5],[5.4,3.7,1.5,0.2],[5.4,3.4,1.7,0.2],[5.0,3.5,1.3,0.3],[5.0,3.6,1.4,0.2],[5.5,4.2,1.4,0.2],[5.1,3.8,1.6,0.2],[5.2,3.5,1.5,0.2],[5.0,3.4,1.6,0.4],[5.1,3.5,1.4,0.2],[5.4,3.9,1.3,0.4],[5.2,3.4,1.4,0.2],[5.8,4.0,1.2,0.2],[5.4,3.4,1.5,0.4],[5.2,4.1,1.5,0.1],[5.1,3.8,1.5,0.3],[5.7,3.8,1.7,0.3],[5.1,3.5,1.4,0.3],[5.0,3.5,1.6,0.6],[5.5,3.5,1.3,0.2],[5.0,3.3,1.4,0.2],[4.4,3.0,1.3,0.2],[4.9,3.1,1.5,0.1],[4.8,3.4,1.9,0.2],[4.9,3.0,1.4,0.2],[4.8,3.0,1.4,0.3],[5.0,3.0,1.6,0.2],[4.7,3.2,1.6,0.2],[4.6,3.1,1.5,0.2],[4.6,3.6,1.0,0.2],[4.8,3.4,1.6,0.2],[4.6,3.4,1.4,0.3],[4.7,3.2,1.3,0.2],[4.5,2.3,1.3,0.3],[4.9,3.1,1.5,0.1],[4.8,3.1,1.6,0.2],[4.4,3.2,1.3,0.2],[4.4,2.9,1.4,0.2],[5.0,3.4,1.5,0.2],[4.8,3.0,1.4,0.1],[5.0,3.2,1.2,0.2],[4.9,3.1,1.5,0.1],[4.6,3.2,1.4,0.2],[4.3,3.0,1.1,0.1],[7.2,3.0,5.8,1.6],[6.9,3.1,5.1,2.3],[7.1,3.0,5.9,2.1],[7.2,3.2,6.0,1.8],[6.1,2.6,5.6,1.4],[6.4,2.7,5.3,1.9],[6.5,3.2,5.1,2.0],[6.9,3.1,4.9,1.5],[7.7,3.8,6.7,2.2],[6.3,3.4,5.6,2.4],[6.7,3.0,5.0,1.7],[7.2,3.6,6.1,2.5],[6.5,3.0,5.8,2.2],[6.4,2.8,5.6,2.1],[6.8,3.2,5.9,2.3],[6.7,2.5,5.8,1.8],[6.9,3.1,5.4,2.1],[6.7,3.3,5.7,2.1],[6.5,3.0,5.2,2.0],[7.7,2.6,6.9,2.3],[6.2,3.4,5.4,2.3],[7.3,2.9,6.3,1.8],[6.9,3.2,5.7,2.3],[7.0,3.2,4.7,1.4],[6.5,3.0,5.5,1.8],[7.4,2.8,6.1,1.9],[6.4,3.1,5.5,1.8],[7.6,3.0,6.6,2.1],[6.3,3.3,6.0,2.5],[7.7,2.8,6.7,2.0],[6.8,3.0,5.5,2.1],[6.7,3.3,5.7,2.5],[6.4,2.8,5.6,2.2],[7.7,3.0,6.1,2.3],[6.7,3.1,5.6,2.4],[6.4,3.2,5.3,2.3],[6.3,2.9,5.6,1.8],[6.7,3.0,5.2,2.3],[7.9,3.8,6.4,2.0]],"x":["Sepal length","Sepal width","Petal length","Petal width"],"y":["Iris-versicolor_149","Iris-versicolor_32","Iris-versicolor_122","Iris-versicolor_119","Iris-versicolor_35","Iris-virginica_76","Iris-virginica_65","Iris-virginica_116","Iris-versicolor_115","Iris-versicolor_110","Iris-versicolor_105","Iris-versicolor_104","Iris-versicolor_103","Iris-versicolor_102","Iris-versicolor_45","Iris-virginica_84","Iris-versicolor_47","Iris-versicolor_63","Iris-versicolor_49","Iris-versicolor_86","Iris-versicolor_51","Iris-versicolor_89","Iris-versicolor_94","Iris-versicolor_54","Iris-versicolor_93","Iris-versicolor_56","Iris-versicolor_57","Iris-versicolor_92","Iris-versicolor_66","Iris-virginica_91","Iris-versicolor_67","Iris-versicolor_83","Iris-virginica_1","Iris-virginica_2","Iris-virginica_77","Iris-virginica_146","Iris-versicolor_144","Iris-versicolor_143","Iris-virginica_141","Iris-versicolor_8","Iris-versicolor_140","Iris-versicolor_10","Iris-versicolor_11","Iris-virginica_138","Iris-versicolor_70","Iris-versicolor_14","Iris-versicolor_136","Iris-virginica_16","Iris-versicolor_135","Iris-versicolor_134","Iris-versicolor_80","Iris-versicolor_20","Iris-versicolor_21","Iris-versicolor_132","Iris-versicolor_23","Iris-versicolor_131","Iris-versicolor_25","Iris-versicolor_26","Iris-virginica_127","Iris-virginica_29","Iris-versicolor_90","Iris-setosa_118","Iris-setosa_96","Iris-setosa_97","Iris-setosa_98","Iris-setosa_117","Iris-setosa_124","Iris-setosa_125","Iris-setosa_126","Iris-setosa_133","Iris-setosa_137","Iris-setosa_147","Iris-setosa_95","Iris-setosa_148","Iris-setosa_0","Iris-setosa_30","Iris-setosa_44","Iris-setosa_43","Iris-setosa_58","Iris-setosa_59","Iris-setosa_41","Iris-setosa_61","Iris-setosa_22","Iris-setosa_48","Iris-setosa_69","Iris-setosa_37","Iris-setosa_71","Iris-setosa_113","Iris-setosa_33","Iris-setosa_109","Iris-setosa_108","Iris-setosa_39","Iris-setosa_38","Iris-setosa_27","Iris-setosa_121","Iris-setosa_129","Iris-setosa_40","Iris-setosa_13","Iris-setosa_85","Iris-setosa_52","Iris-setosa_3","Iris-setosa_53","Iris-setosa_139","Iris-setosa_4","Iris-setosa_9","Iris-setosa_7","Iris-setosa_5","Iris-setosa_50","Iris-setosa_82","Iris-setosa_68","Iris-setosa_64","Iris-virginica_28","Iris-virginica_128","Iris-virginica_145","Iris-virginica_12","Iris-virginica_24","Iris-virginica_6","Iris-virginica_142","Iris-versicolor_19","Iris-virginica_18","Iris-virginica_17","Iris-versicolor_15","Iris-virginica_130","Iris-virginica_75","Iris-virginica_112","Iris-virginica_123","Iris-virginica_72","Iris-virginica_78","Iris-virginica_79","Iris-virginica_81","Iris-virginica_62","Iris-virginica_87","Iris-virginica_88","Iris-virginica_60","Iris-versicolor_55","Iris-virginica_46","Iris-virginica_31","Iris-virginica_99","Iris-virginica_101","Iris-virginica_42","Iris-virginica_106","Iris-virginica_107","Iris-virginica_111","Iris-virginica_73","Iris-virginica_114","Iris-virginica_36","Iris-virginica_34","Iris-virginica_120","Iris-virginica_100","Iris-virginica_74"],"colorscale":"Electric","showscale":true}];
    var layout = {"margin":{"l":250.0},"title":"clustered iris data (k-means clustering)"};
    var config = {};
    Plotly.newPlot('839e8fc2-9024-41e8-94d0-e945bc350c01', data, layout, config);
  </script>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// To get the best kMeans clustering result in terms of the average squared distance of each point</span>
<span class="c">// to its centroid, perform the clustering b times and minimize the dispersion.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs81', 161)" onmouseover="showTip(event, 'fs81', 161)" class="fn">getBestkMeansClustering</span> <span onmouseout="hideTip(event, 'fs82', 162)" onmouseover="showTip(event, 'fs82', 162)" class="id">data</span> <span onmouseout="hideTip(event, 'fs83', 163)" onmouseover="showTip(event, 'fs83', 163)" class="id">k</span> <span onmouseout="hideTip(event, 'fs84', 164)" onmouseover="showTip(event, 'fs84', 164)" class="id">bootstraps</span> <span class="o">=</span>
    <span class="pn">[</span><span class="n">1..</span><span onmouseout="hideTip(event, 'fs84', 165)" onmouseover="showTip(event, 'fs84', 165)" class="id">bootstraps</span><span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs85', 166)" onmouseover="showTip(event, 'fs85', 166)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs86', 167)" onmouseover="showTip(event, 'fs86', 167)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs46', 168)" onmouseover="showTip(event, 'fs46', 168)" class="id">i</span> <span onmouseout="hideTip(event, 'fs87', 169)" onmouseover="showTip(event, 'fs87', 169)" class="id">x</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs65', 170)" onmouseover="showTip(event, 'fs65', 170)" class="m">IterativeClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 171)" onmouseover="showTip(event, 'fs69', 171)" class="id">kmeans</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs70', 172)" onmouseover="showTip(event, 'fs70', 172)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs71', 173)" onmouseover="showTip(event, 'fs71', 173)" class="id">euclidean</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs64', 174)" onmouseover="showTip(event, 'fs64', 174)" class="fn">randomInitFactory</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs82', 175)" onmouseover="showTip(event, 'fs82', 175)" class="id">data</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs83', 176)" onmouseover="showTip(event, 'fs83', 176)" class="id">k</span>
        <span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs85', 177)" onmouseover="showTip(event, 'fs85', 177)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs88', 178)" onmouseover="showTip(event, 'fs88', 178)" class="id">minBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs89', 179)" onmouseover="showTip(event, 'fs89', 179)" class="id">clusteringResult</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs65', 180)" onmouseover="showTip(event, 'fs65', 180)" class="m">IterativeClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 181)" onmouseover="showTip(event, 'fs90', 181)" class="id">DispersionOfClusterResult</span> <span onmouseout="hideTip(event, 'fs89', 182)" onmouseover="showTip(event, 'fs89', 182)" class="id">clusteringResult</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Density-based-clustering" class="anchor" href="#Density-based-clustering">Density based clustering</a></h2>
<h3><a name="DBSCAN" class="anchor" href="#DBSCAN">DBSCAN</a></h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//four dimensional clustering with sepal length, petal length, sepal width and petal width</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs91', 183)" onmouseover="showTip(event, 'fs91', 183)" class="id">t</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs92', 184)" onmouseover="showTip(event, 'fs92', 184)" class="m">DbScan</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs93', 185)" onmouseover="showTip(event, 'fs93', 185)" class="id">compute</span> <span onmouseout="hideTip(event, 'fs70', 186)" onmouseover="showTip(event, 'fs70', 186)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs94', 187)" onmouseover="showTip(event, 'fs94', 187)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs95', 188)" onmouseover="showTip(event, 'fs95', 188)" class="id">euclideanNaN</span> <span class="n">5</span> <span class="n">1.0</span> <span onmouseout="hideTip(event, 'fs36', 189)" onmouseover="showTip(event, 'fs36', 189)" class="id">data</span>

<span class="c">//extract petal length and petal width</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs96', 190)" onmouseover="showTip(event, 'fs96', 190)" class="id">petLpetW</span>      <span class="o">=</span> <span onmouseout="hideTip(event, 'fs36', 191)" onmouseover="showTip(event, 'fs36', 191)" class="id">data</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 192)" onmouseover="showTip(event, 'fs43', 192)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 193)" onmouseover="showTip(event, 'fs97', 193)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs98', 194)" onmouseover="showTip(event, 'fs98', 194)" class="id">x</span> <span class="k">-&gt;</span> <span class="pn">[|</span><span onmouseout="hideTip(event, 'fs98', 195)" onmouseover="showTip(event, 'fs98', 195)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">2</span><span class="pn">]</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs98', 196)" onmouseover="showTip(event, 'fs98', 196)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">3</span><span class="pn">]</span><span class="pn">|]</span><span class="pn">)</span>

<span class="c">//extract petal width, petal length and sepal length  </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs99', 197)" onmouseover="showTip(event, 'fs99', 197)" class="id">petWpetLsepL</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs36', 198)" onmouseover="showTip(event, 'fs36', 198)" class="id">data</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 199)" onmouseover="showTip(event, 'fs43', 199)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 200)" onmouseover="showTip(event, 'fs97', 200)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs98', 201)" onmouseover="showTip(event, 'fs98', 201)" class="id">x</span> <span class="k">-&gt;</span> <span class="pn">[|</span><span onmouseout="hideTip(event, 'fs98', 202)" onmouseover="showTip(event, 'fs98', 202)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">3</span><span class="pn">]</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs98', 203)" onmouseover="showTip(event, 'fs98', 203)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">2</span><span class="pn">]</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs98', 204)" onmouseover="showTip(event, 'fs98', 204)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">|]</span><span class="pn">)</span>

<span class="c">//to create a chart with two dimensional data use the following function</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs100', 205)" onmouseover="showTip(event, 'fs100', 205)" class="fn">create2dChart</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs101', 206)" onmouseover="showTip(event, 'fs101', 206)" class="fn">dfu</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs102', 207)" onmouseover="showTip(event, 'fs102', 207)" class="rt">array</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs102', 208)" onmouseover="showTip(event, 'fs102', 208)" class="rt">array</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs41', 209)" onmouseover="showTip(event, 'fs41', 209)" class="vt">float</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 210)" onmouseover="showTip(event, 'fs103', 210)" class="id">minPts</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs104', 211)" onmouseover="showTip(event, 'fs104', 211)" class="vt">int</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 212)" onmouseover="showTip(event, 'fs105', 212)" class="id">eps</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs41', 213)" onmouseover="showTip(event, 'fs41', 213)" class="vt">float</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs106', 214)" onmouseover="showTip(event, 'fs106', 214)" class="id">input</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs23', 215)" onmouseover="showTip(event, 'fs23', 215)" class="if">seq</span><span class="pn">&lt;</span><span class="pn">#</span><span onmouseout="hideTip(event, 'fs23', 216)" onmouseover="showTip(event, 'fs23', 216)" class="if">seq</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="o">=</span>  
    <span class="k">if</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs106', 217)" onmouseover="showTip(event, 'fs106', 217)" class="id">input</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 218)" onmouseover="showTip(event, 'fs37', 218)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs107', 219)" onmouseover="showTip(event, 'fs107', 219)" class="id">head</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 220)" onmouseover="showTip(event, 'fs37', 220)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 221)" onmouseover="showTip(event, 'fs108', 221)" class="id">length</span><span class="pn">)</span> <span class="o">&lt;&gt;</span> <span class="n">2</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs109', 222)" onmouseover="showTip(event, 'fs109', 222)" class="fn">failwithf</span> <span class="s">&quot;create2dChart only can handle 2 coordinates&quot;</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs110', 223)" onmouseover="showTip(event, 'fs110', 223)" class="id">result</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs92', 224)" onmouseover="showTip(event, 'fs92', 224)" class="m">DbScan</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs93', 225)" onmouseover="showTip(event, 'fs93', 225)" class="id">compute</span> <span onmouseout="hideTip(event, 'fs101', 226)" onmouseover="showTip(event, 'fs101', 226)" class="fn">dfu</span> <span onmouseout="hideTip(event, 'fs103', 227)" onmouseover="showTip(event, 'fs103', 227)" class="id">minPts</span> <span onmouseout="hideTip(event, 'fs105', 228)" onmouseover="showTip(event, 'fs105', 228)" class="id">eps</span> <span onmouseout="hideTip(event, 'fs106', 229)" onmouseover="showTip(event, 'fs106', 229)" class="id">input</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs111', 230)" onmouseover="showTip(event, 'fs111', 230)" class="id">chartCluster</span> <span class="o">=</span> 
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs110', 231)" onmouseover="showTip(event, 'fs110', 231)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs112', 232)" onmouseover="showTip(event, 'fs112', 232)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 233)" onmouseover="showTip(event, 'fs37', 233)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 234)" onmouseover="showTip(event, 'fs108', 234)" class="id">length</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span>      
            <span onmouseout="hideTip(event, 'fs110', 235)" onmouseover="showTip(event, 'fs110', 235)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs112', 236)" onmouseover="showTip(event, 'fs112', 236)" class="id">Clusterlist</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 237)" onmouseover="showTip(event, 'fs37', 237)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs113', 238)" onmouseover="showTip(event, 'fs113', 238)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs46', 239)" onmouseover="showTip(event, 'fs46', 239)" class="id">i</span> <span onmouseout="hideTip(event, 'fs114', 240)" onmouseover="showTip(event, 'fs114', 240)" class="id">l</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs114', 241)" onmouseover="showTip(event, 'fs114', 241)" class="id">l</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 242)" onmouseover="showTip(event, 'fs37', 242)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 243)" onmouseover="showTip(event, 'fs39', 243)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs115', 244)" onmouseover="showTip(event, 'fs115', 244)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs115', 245)" onmouseover="showTip(event, 'fs115', 245)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs115', 246)" onmouseover="showTip(event, 'fs115', 246)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 247)" onmouseover="showTip(event, 'fs37', 247)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs116', 248)" onmouseover="showTip(event, 'fs116', 248)" class="id">distinct</span> <span class="c">//more efficient visualization; no difference in plot but in point numbers</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 249)" onmouseover="showTip(event, 'fs56', 249)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs117', 250)" onmouseover="showTip(event, 'fs117', 250)" class="id">Point</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 251)" onmouseover="showTip(event, 'fs56', 251)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 252)" onmouseover="showTip(event, 'fs118', 252)" class="id">withTraceName</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs49', 253)" onmouseover="showTip(event, 'fs49', 253)" class="fn">sprintf</span> <span class="s">&quot;Cluster </span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs46', 254)" onmouseover="showTip(event, 'fs46', 254)" class="id">i</span><span class="pn">)</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 255)" onmouseover="showTip(event, 'fs56', 255)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 256)" onmouseover="showTip(event, 'fs119', 256)" class="id">Combine</span>
        <span class="k">else</span> <span onmouseout="hideTip(event, 'fs56', 257)" onmouseover="showTip(event, 'fs56', 257)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs117', 258)" onmouseover="showTip(event, 'fs117', 258)" class="id">Point</span> <span class="pn">[</span><span class="pn">]</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs120', 259)" onmouseover="showTip(event, 'fs120', 259)" class="id">chartNoise</span> <span class="o">=</span> 
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs110', 260)" onmouseover="showTip(event, 'fs110', 260)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 261)" onmouseover="showTip(event, 'fs121', 261)" class="id">Noisepoints</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 262)" onmouseover="showTip(event, 'fs37', 262)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 263)" onmouseover="showTip(event, 'fs108', 263)" class="id">length</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span> 
            <span onmouseout="hideTip(event, 'fs110', 264)" onmouseover="showTip(event, 'fs110', 264)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 265)" onmouseover="showTip(event, 'fs121', 265)" class="id">Noisepoints</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 266)" onmouseover="showTip(event, 'fs37', 266)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 267)" onmouseover="showTip(event, 'fs39', 267)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs115', 268)" onmouseover="showTip(event, 'fs115', 268)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs115', 269)" onmouseover="showTip(event, 'fs115', 269)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs115', 270)" onmouseover="showTip(event, 'fs115', 270)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span>  
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 271)" onmouseover="showTip(event, 'fs37', 271)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs116', 272)" onmouseover="showTip(event, 'fs116', 272)" class="id">distinct</span> <span class="c">//more efficient visualization; no difference in plot but in point numbers</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 273)" onmouseover="showTip(event, 'fs56', 273)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs117', 274)" onmouseover="showTip(event, 'fs117', 274)" class="id">Point</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 275)" onmouseover="showTip(event, 'fs56', 275)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 276)" onmouseover="showTip(event, 'fs118', 276)" class="id">withTraceName</span> <span class="s">&quot;Noise&quot;</span>
        <span class="k">else</span> <span onmouseout="hideTip(event, 'fs56', 277)" onmouseover="showTip(event, 'fs56', 277)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs117', 278)" onmouseover="showTip(event, 'fs117', 278)" class="id">Point</span> <span class="pn">[</span><span class="pn">]</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs122', 279)" onmouseover="showTip(event, 'fs122', 279)" class="id">chartname</span> <span class="o">=</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs123', 280)" onmouseover="showTip(event, 'fs123', 280)" class="id">noiseCount</span>    <span class="o">=</span> <span onmouseout="hideTip(event, 'fs110', 281)" onmouseover="showTip(event, 'fs110', 281)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 282)" onmouseover="showTip(event, 'fs121', 282)" class="id">Noisepoints</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 283)" onmouseover="showTip(event, 'fs37', 283)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 284)" onmouseover="showTip(event, 'fs108', 284)" class="id">length</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs124', 285)" onmouseover="showTip(event, 'fs124', 285)" class="id">clusterCount</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs110', 286)" onmouseover="showTip(event, 'fs110', 286)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs112', 287)" onmouseover="showTip(event, 'fs112', 287)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 288)" onmouseover="showTip(event, 'fs37', 288)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 289)" onmouseover="showTip(event, 'fs108', 289)" class="id">length</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs125', 290)" onmouseover="showTip(event, 'fs125', 290)" class="id">clPtsCount</span>    <span class="o">=</span> <span onmouseout="hideTip(event, 'fs110', 291)" onmouseover="showTip(event, 'fs110', 291)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs112', 292)" onmouseover="showTip(event, 'fs112', 292)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 293)" onmouseover="showTip(event, 'fs37', 293)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs126', 294)" onmouseover="showTip(event, 'fs126', 294)" class="id">sumBy</span> <span onmouseout="hideTip(event, 'fs37', 295)" onmouseover="showTip(event, 'fs37', 295)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 296)" onmouseover="showTip(event, 'fs108', 296)" class="id">length</span>
        <span onmouseout="hideTip(event, 'fs49', 297)" onmouseover="showTip(event, 'fs49', 297)" class="fn">sprintf</span> <span class="s">&quot;eps:</span><span class="pf">%.1f</span><span class="s"> minPts:</span><span class="pf">%i</span><span class="s"> pts:</span><span class="pf">%i</span><span class="s"> cluster:</span><span class="pf">%i</span><span class="s"> noisePts:</span><span class="pf">%i</span><span class="s">&quot;</span> 
            <span onmouseout="hideTip(event, 'fs105', 298)" onmouseover="showTip(event, 'fs105', 298)" class="id">eps</span> <span onmouseout="hideTip(event, 'fs103', 299)" onmouseover="showTip(event, 'fs103', 299)" class="id">minPts</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs123', 300)" onmouseover="showTip(event, 'fs123', 300)" class="id">noiseCount</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs125', 301)" onmouseover="showTip(event, 'fs125', 301)" class="id">clPtsCount</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs124', 302)" onmouseover="showTip(event, 'fs124', 302)" class="id">clusterCount</span> <span onmouseout="hideTip(event, 'fs123', 303)" onmouseover="showTip(event, 'fs123', 303)" class="id">noiseCount</span> 

    <span class="pn">[</span><span onmouseout="hideTip(event, 'fs120', 304)" onmouseover="showTip(event, 'fs120', 304)" class="id">chartNoise</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs111', 305)" onmouseover="showTip(event, 'fs111', 305)" class="id">chartCluster</span><span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 306)" onmouseover="showTip(event, 'fs56', 306)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 307)" onmouseover="showTip(event, 'fs119', 307)" class="id">Combine</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 308)" onmouseover="showTip(event, 'fs56', 308)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 309)" onmouseover="showTip(event, 'fs59', 309)" class="id">withTitle</span> <span onmouseout="hideTip(event, 'fs122', 310)" onmouseover="showTip(event, 'fs122', 310)" class="id">chartname</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 311)" onmouseover="showTip(event, 'fs56', 311)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs127', 312)" onmouseover="showTip(event, 'fs127', 312)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 313)" onmouseover="showTip(event, 'fs5', 313)" class="fn">axis</span> <span class="s">&quot;Petal width&quot;</span><span class="pn">)</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 314)" onmouseover="showTip(event, 'fs56', 314)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs128', 315)" onmouseover="showTip(event, 'fs128', 315)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 316)" onmouseover="showTip(event, 'fs5', 316)" class="fn">axis</span> <span class="s">&quot;Petal length&quot;</span><span class="pn">)</span>
    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs129', 317)" onmouseover="showTip(event, 'fs129', 317)" class="id">clusteredChart</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs100', 318)" onmouseover="showTip(event, 'fs100', 318)" class="fn">create2dChart</span> <span onmouseout="hideTip(event, 'fs70', 319)" onmouseover="showTip(event, 'fs70', 319)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs94', 320)" onmouseover="showTip(event, 'fs94', 320)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 321)" onmouseover="showTip(event, 'fs130', 321)" class="id">euclidean</span> <span class="n">20</span> <span class="n">0.5</span> <span onmouseout="hideTip(event, 'fs96', 322)" onmouseover="showTip(event, 'fs96', 322)" class="id">petLpetW</span>
</code></pre></td>
</tr>
</table>
<div id="3bb6fb9e-139e-45fe-9829-64ece7c5fe75" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"scatter","x":[6.7,3.3,6.9,3.0,6.4,6.6,6.7],"y":[2.2,1.0,2.3,1.1,2.0,2.1,2.0],"mode":"markers","marker":{},"name":"Noise"},{"type":"scatter","x":[1.5,1.3,1.3,1.4,1.4,1.6,1.5,1.6,1.6,1.4,1.0,1.5,1.3,1.7,1.2,1.5,1.1,1.9,1.9,1.7,1.7,1.7],"y":[0.2,0.3,0.2,0.1,0.2,0.2,0.3,0.4,0.6,0.3,0.2,0.4,0.4,0.3,0.2,0.1,0.1,0.4,0.2,0.4,0.5,0.2],"mode":"markers","marker":{},"name":"Cluster 0"},{"type":"scatter","x":[4.8,5.0,5.1,4.9,4.5,4.8,5.1,4.6,4.7,4.9,5.1,5.0,5.0,5.2,5.0,4.5,4.7,4.6,4.9,5.1,5.1,4.5,4.7,5.3,4.7,4.6,4.5,4.3,4.2,4.4,4.1,4.4,4.4,4.2,4.2,5.1,5.3,5.5,5.4,5.2,5.5,5.1,5.6,5.4,5.6,5.6,5.7,4.0,3.9,4.0,4.0,3.9,3.9,4.1,3.8,3.7,3.6,5.6,5.7,5.7,6.0,5.6,5.8,5.8,5.8,5.9,5.9,6.1,6.0,6.1,3.5,6.1,6.3],"y":[1.8,1.7,1.5,1.5,1.5,1.4,1.9,1.4,1.4,1.8,1.6,1.5,1.9,2.0,2.0,1.6,1.6,1.5,2.0,1.8,2.0,1.7,1.5,1.9,1.2,1.3,1.3,1.3,1.3,1.2,1.3,1.4,1.3,1.2,1.5,2.4,2.3,1.8,2.1,2.3,2.1,2.3,2.2,2.3,2.1,1.8,2.1,1.3,1.1,1.0,1.2,1.4,1.2,1.0,1.1,1.0,1.3,2.4,2.3,2.5,1.8,1.4,1.6,1.8,2.2,2.1,2.3,1.9,2.5,2.3,1.0,2.5,1.8],"mode":"markers","marker":{},"name":"Cluster 1"}];
    var layout = {"title":"eps:0.5 minPts:20 pts:150 cluster:2 noisePts:8","xaxis":{"title":"Petal width","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"yaxis":{"title":"Petal length","ticks":"inside","mirror":"all","showline":true,"showgrid":true}};
    var config = {};
    Plotly.newPlot('3bb6fb9e-139e-45fe-9829-64ece7c5fe75', data, layout, config);
  </script>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//to create a chart with three dimensional data use the following function</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs131', 323)" onmouseover="showTip(event, 'fs131', 323)" class="fn">create3dChart</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs101', 324)" onmouseover="showTip(event, 'fs101', 324)" class="fn">dfu</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs102', 325)" onmouseover="showTip(event, 'fs102', 325)" class="rt">array</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs102', 326)" onmouseover="showTip(event, 'fs102', 326)" class="rt">array</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs41', 327)" onmouseover="showTip(event, 'fs41', 327)" class="vt">float</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 328)" onmouseover="showTip(event, 'fs103', 328)" class="id">minPts</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs104', 329)" onmouseover="showTip(event, 'fs104', 329)" class="vt">int</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 330)" onmouseover="showTip(event, 'fs105', 330)" class="id">eps</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs41', 331)" onmouseover="showTip(event, 'fs41', 331)" class="vt">float</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs106', 332)" onmouseover="showTip(event, 'fs106', 332)" class="id">input</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs23', 333)" onmouseover="showTip(event, 'fs23', 333)" class="if">seq</span><span class="pn">&lt;</span><span class="pn">#</span><span onmouseout="hideTip(event, 'fs23', 334)" onmouseover="showTip(event, 'fs23', 334)" class="if">seq</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="o">=</span>   
    <span class="k">if</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs106', 335)" onmouseover="showTip(event, 'fs106', 335)" class="id">input</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 336)" onmouseover="showTip(event, 'fs37', 336)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs107', 337)" onmouseover="showTip(event, 'fs107', 337)" class="id">head</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 338)" onmouseover="showTip(event, 'fs37', 338)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 339)" onmouseover="showTip(event, 'fs108', 339)" class="id">length</span><span class="pn">)</span> <span class="o">&lt;&gt;</span> <span class="n">3</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs109', 340)" onmouseover="showTip(event, 'fs109', 340)" class="fn">failwithf</span> <span class="s">&quot;create3dChart only can handle 3 coordinates&quot;</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs110', 341)" onmouseover="showTip(event, 'fs110', 341)" class="id">result</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs92', 342)" onmouseover="showTip(event, 'fs92', 342)" class="m">DbScan</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs93', 343)" onmouseover="showTip(event, 'fs93', 343)" class="id">compute</span> <span onmouseout="hideTip(event, 'fs101', 344)" onmouseover="showTip(event, 'fs101', 344)" class="fn">dfu</span> <span onmouseout="hideTip(event, 'fs103', 345)" onmouseover="showTip(event, 'fs103', 345)" class="id">minPts</span> <span onmouseout="hideTip(event, 'fs105', 346)" onmouseover="showTip(event, 'fs105', 346)" class="id">eps</span> <span onmouseout="hideTip(event, 'fs106', 347)" onmouseover="showTip(event, 'fs106', 347)" class="id">input</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs111', 348)" onmouseover="showTip(event, 'fs111', 348)" class="id">chartCluster</span> <span class="o">=</span> 
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs110', 349)" onmouseover="showTip(event, 'fs110', 349)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs112', 350)" onmouseover="showTip(event, 'fs112', 350)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 351)" onmouseover="showTip(event, 'fs37', 351)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 352)" onmouseover="showTip(event, 'fs108', 352)" class="id">length</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span> 
            <span onmouseout="hideTip(event, 'fs110', 353)" onmouseover="showTip(event, 'fs110', 353)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs112', 354)" onmouseover="showTip(event, 'fs112', 354)" class="id">Clusterlist</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 355)" onmouseover="showTip(event, 'fs37', 355)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs113', 356)" onmouseover="showTip(event, 'fs113', 356)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs46', 357)" onmouseover="showTip(event, 'fs46', 357)" class="id">i</span> <span onmouseout="hideTip(event, 'fs114', 358)" onmouseover="showTip(event, 'fs114', 358)" class="id">l</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs114', 359)" onmouseover="showTip(event, 'fs114', 359)" class="id">l</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 360)" onmouseover="showTip(event, 'fs37', 360)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 361)" onmouseover="showTip(event, 'fs39', 361)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs115', 362)" onmouseover="showTip(event, 'fs115', 362)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs115', 363)" onmouseover="showTip(event, 'fs115', 363)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs115', 364)" onmouseover="showTip(event, 'fs115', 364)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs115', 365)" onmouseover="showTip(event, 'fs115', 365)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">2</span><span class="pn">]</span><span class="pn">)</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 366)" onmouseover="showTip(event, 'fs37', 366)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs116', 367)" onmouseover="showTip(event, 'fs116', 367)" class="id">distinct</span> <span class="c">//faster visualization; no difference in plot but in point number</span>
                <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs132', 368)" onmouseover="showTip(event, 'fs132', 368)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs56', 369)" onmouseover="showTip(event, 'fs56', 369)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs133', 370)" onmouseover="showTip(event, 'fs133', 370)" class="id">Scatter3d</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs132', 371)" onmouseover="showTip(event, 'fs132', 371)" class="id">x</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs10', 372)" onmouseover="showTip(event, 'fs10', 372)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 373)" onmouseover="showTip(event, 'fs134', 373)" class="rt">Mode</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs135', 374)" onmouseover="showTip(event, 'fs135', 374)" class="id">Markers</span><span class="pn">)</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 375)" onmouseover="showTip(event, 'fs56', 375)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 376)" onmouseover="showTip(event, 'fs118', 376)" class="id">withTraceName</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs49', 377)" onmouseover="showTip(event, 'fs49', 377)" class="fn">sprintf</span> <span class="s">&quot;Cluster_</span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs46', 378)" onmouseover="showTip(event, 'fs46', 378)" class="id">i</span><span class="pn">)</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 379)" onmouseover="showTip(event, 'fs56', 379)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 380)" onmouseover="showTip(event, 'fs119', 380)" class="id">Combine</span>
        <span class="k">else</span>  <span onmouseout="hideTip(event, 'fs56', 381)" onmouseover="showTip(event, 'fs56', 381)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs133', 382)" onmouseover="showTip(event, 'fs133', 382)" class="id">Scatter3d</span> <span class="pn">(</span><span class="pn">[</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs10', 383)" onmouseover="showTip(event, 'fs10', 383)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 384)" onmouseover="showTip(event, 'fs134', 384)" class="rt">Mode</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs135', 385)" onmouseover="showTip(event, 'fs135', 385)" class="id">Markers</span><span class="pn">)</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs120', 386)" onmouseover="showTip(event, 'fs120', 386)" class="id">chartNoise</span> <span class="o">=</span>
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs110', 387)" onmouseover="showTip(event, 'fs110', 387)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 388)" onmouseover="showTip(event, 'fs121', 388)" class="id">Noisepoints</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 389)" onmouseover="showTip(event, 'fs37', 389)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 390)" onmouseover="showTip(event, 'fs108', 390)" class="id">length</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span> 
            <span onmouseout="hideTip(event, 'fs110', 391)" onmouseover="showTip(event, 'fs110', 391)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 392)" onmouseover="showTip(event, 'fs121', 392)" class="id">Noisepoints</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 393)" onmouseover="showTip(event, 'fs37', 393)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 394)" onmouseover="showTip(event, 'fs39', 394)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs115', 395)" onmouseover="showTip(event, 'fs115', 395)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs115', 396)" onmouseover="showTip(event, 'fs115', 396)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs115', 397)" onmouseover="showTip(event, 'fs115', 397)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs115', 398)" onmouseover="showTip(event, 'fs115', 398)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">2</span><span class="pn">]</span><span class="pn">)</span>  
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 399)" onmouseover="showTip(event, 'fs37', 399)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs116', 400)" onmouseover="showTip(event, 'fs116', 400)" class="id">distinct</span> <span class="c">//faster visualization; no difference in plot but in point number</span>
            <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs132', 401)" onmouseover="showTip(event, 'fs132', 401)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs56', 402)" onmouseover="showTip(event, 'fs56', 402)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs133', 403)" onmouseover="showTip(event, 'fs133', 403)" class="id">Scatter3d</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs132', 404)" onmouseover="showTip(event, 'fs132', 404)" class="id">x</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs10', 405)" onmouseover="showTip(event, 'fs10', 405)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 406)" onmouseover="showTip(event, 'fs134', 406)" class="rt">Mode</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs135', 407)" onmouseover="showTip(event, 'fs135', 407)" class="id">Markers</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 408)" onmouseover="showTip(event, 'fs56', 408)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 409)" onmouseover="showTip(event, 'fs118', 409)" class="id">withTraceName</span> <span class="s">&quot;Noise&quot;</span>
        <span class="k">else</span> <span onmouseout="hideTip(event, 'fs56', 410)" onmouseover="showTip(event, 'fs56', 410)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs133', 411)" onmouseover="showTip(event, 'fs133', 411)" class="id">Scatter3d</span> <span class="pn">(</span><span class="pn">[</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs10', 412)" onmouseover="showTip(event, 'fs10', 412)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs134', 413)" onmouseover="showTip(event, 'fs134', 413)" class="rt">Mode</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs135', 414)" onmouseover="showTip(event, 'fs135', 414)" class="id">Markers</span><span class="pn">)</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs122', 415)" onmouseover="showTip(event, 'fs122', 415)" class="id">chartname</span> <span class="o">=</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs123', 416)" onmouseover="showTip(event, 'fs123', 416)" class="id">noiseCount</span>    <span class="o">=</span> <span onmouseout="hideTip(event, 'fs110', 417)" onmouseover="showTip(event, 'fs110', 417)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 418)" onmouseover="showTip(event, 'fs121', 418)" class="id">Noisepoints</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 419)" onmouseover="showTip(event, 'fs37', 419)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 420)" onmouseover="showTip(event, 'fs108', 420)" class="id">length</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs124', 421)" onmouseover="showTip(event, 'fs124', 421)" class="id">clusterCount</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs110', 422)" onmouseover="showTip(event, 'fs110', 422)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs112', 423)" onmouseover="showTip(event, 'fs112', 423)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 424)" onmouseover="showTip(event, 'fs37', 424)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 425)" onmouseover="showTip(event, 'fs108', 425)" class="id">length</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs125', 426)" onmouseover="showTip(event, 'fs125', 426)" class="id">clPtsCount</span>    <span class="o">=</span> <span onmouseout="hideTip(event, 'fs110', 427)" onmouseover="showTip(event, 'fs110', 427)" class="id">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs112', 428)" onmouseover="showTip(event, 'fs112', 428)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 429)" onmouseover="showTip(event, 'fs37', 429)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs126', 430)" onmouseover="showTip(event, 'fs126', 430)" class="id">sumBy</span> <span onmouseout="hideTip(event, 'fs37', 431)" onmouseover="showTip(event, 'fs37', 431)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs108', 432)" onmouseover="showTip(event, 'fs108', 432)" class="id">length</span>
        <span onmouseout="hideTip(event, 'fs49', 433)" onmouseover="showTip(event, 'fs49', 433)" class="fn">sprintf</span> <span class="s">&quot;eps:</span><span class="pf">%.1f</span><span class="s"> minPts:</span><span class="pf">%i</span><span class="s"> n:</span><span class="pf">%i</span><span class="s"> Cluster:</span><span class="pf">%i</span><span class="s"> NoisePts:</span><span class="pf">%i</span><span class="s">&quot;</span> 
            <span onmouseout="hideTip(event, 'fs105', 434)" onmouseover="showTip(event, 'fs105', 434)" class="id">eps</span> <span onmouseout="hideTip(event, 'fs103', 435)" onmouseover="showTip(event, 'fs103', 435)" class="id">minPts</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs123', 436)" onmouseover="showTip(event, 'fs123', 436)" class="id">noiseCount</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs125', 437)" onmouseover="showTip(event, 'fs125', 437)" class="id">clPtsCount</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs124', 438)" onmouseover="showTip(event, 'fs124', 438)" class="id">clusterCount</span> <span onmouseout="hideTip(event, 'fs123', 439)" onmouseover="showTip(event, 'fs123', 439)" class="id">noiseCount</span> 

    <span class="pn">[</span><span onmouseout="hideTip(event, 'fs120', 440)" onmouseover="showTip(event, 'fs120', 440)" class="id">chartNoise</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs111', 441)" onmouseover="showTip(event, 'fs111', 441)" class="id">chartCluster</span><span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 442)" onmouseover="showTip(event, 'fs56', 442)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 443)" onmouseover="showTip(event, 'fs119', 443)" class="id">Combine</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 444)" onmouseover="showTip(event, 'fs56', 444)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 445)" onmouseover="showTip(event, 'fs59', 445)" class="id">withTitle</span> <span onmouseout="hideTip(event, 'fs122', 446)" onmouseover="showTip(event, 'fs122', 446)" class="id">chartname</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 447)" onmouseover="showTip(event, 'fs56', 447)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs127', 448)" onmouseover="showTip(event, 'fs127', 448)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 449)" onmouseover="showTip(event, 'fs5', 449)" class="fn">axis</span> <span class="s">&quot;Petal width&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 450)" onmouseover="showTip(event, 'fs56', 450)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs128', 451)" onmouseover="showTip(event, 'fs128', 451)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 452)" onmouseover="showTip(event, 'fs5', 452)" class="fn">axis</span> <span class="s">&quot;Petal length&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 453)" onmouseover="showTip(event, 'fs56', 453)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs136', 454)" onmouseover="showTip(event, 'fs136', 454)" class="id">withZ_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 455)" onmouseover="showTip(event, 'fs5', 455)" class="fn">axis</span> <span class="s">&quot;Sepal length&quot;</span><span class="pn">)</span>
        


<span class="c">//for faster computation you can use the squaredEuclidean distance and set your eps to its square</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs137', 456)" onmouseover="showTip(event, 'fs137', 456)" class="id">clusteredChart3D</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs131', 457)" onmouseover="showTip(event, 'fs131', 457)" class="fn">create3dChart</span> <span onmouseout="hideTip(event, 'fs70', 458)" onmouseover="showTip(event, 'fs70', 458)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs94', 459)" onmouseover="showTip(event, 'fs94', 459)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs138', 460)" onmouseover="showTip(event, 'fs138', 460)" class="id">euclideanNaNSquared</span> <span class="n">20</span> <span class="pn">(</span><span class="n">0.7</span><span class="o">**</span><span class="n">2.</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs99', 461)" onmouseover="showTip(event, 'fs99', 461)" class="id">petWpetLsepL</span> 
</code></pre></td>
</tr>
</table>
<div id="9c4f0633-ba36-47d9-b29e-3e4c69990b90" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"scatter3d","x":[2.2,1.0,1.6,1.9,2.3,1.1,2.0,1.8,2.1,1.0,2.0,2.3,2.5,1.7],"y":[6.7,3.3,5.8,6.1,6.9,3.0,6.4,6.3,6.6,3.3,6.7,6.1,6.1,4.5],"z":[7.7,4.9,7.2,7.4,7.7,5.1,7.9,7.3,7.6,5.0,7.7,7.7,7.2,4.9],"mode":"markers","line":{"width":{}},"marker":{},"name":"Noise"},{"type":"scatter3d","x":[0.2,0.1,0.2,0.2,0.3,0.2,0.4,0.6,0.3,0.2,0.4,0.4,0.2,0.3,0.2,0.2,0.1,0.2,0.2,0.1,0.2,0.3,0.2,0.3,0.2,0.2,0.4,0.4,0.2,0.2,0.4,0.2,0.2,0.4,0.5,0.2,0.2,0.2,0.3,0.2,0.3,0.2,0.2,0.2,0.1],"y":[1.5,1.4,1.5,1.6,1.5,1.6,1.6,1.6,1.4,1.4,1.5,1.3,1.4,1.7,1.2,1.3,1.5,1.4,1.2,1.5,1.4,1.4,1.3,1.4,1.4,1.5,1.9,1.5,1.9,1.4,1.5,1.5,1.6,1.7,1.7,1.5,1.5,1.7,1.3,1.6,1.3,1.3,1.4,1.0,1.1],"z":[5.2,4.8,5.0,4.8,5.1,5.0,5.0,5.0,4.8,4.9,5.4,5.4,5.1,5.7,5.0,4.7,4.9,5.2,5.8,5.2,4.6,5.1,5.5,4.6,5.5,5.3,5.1,5.1,4.8,5.0,5.7,5.1,4.7,5.4,5.1,5.4,4.6,5.4,5.0,5.1,4.5,4.4,4.4,4.6,4.3],"mode":"markers","line":{"width":{}},"marker":{},"name":"Cluster_0"},{"type":"scatter3d","x":[1.8,1.9,1.7,1.5,1.5,1.9,1.4,1.3,1.4,1.8,1.6,1.5,1.9,1.2,2.0,1.4,1.8,2.0,1.3,1.6,1.6,1.5,1.5,2.0,1.5,1.5,1.8,1.8,1.8,2.0,1.5,2.4,1.4,2.3,2.4,1.8,1.8,2.2,2.2,2.1,2.1,2.3,1.8,2.3,2.1,2.1,1.8,2.3,1.5,1.4,1.4,1.4,1.3,1.3,1.5,1.2,1.3,1.3,1.3,1.2,1.2,1.5,1.3,1.5,1.0,1.3,1.3,2.4,1.0,2.5,2.3,2.5,2.3,2.1,1.8,1.2,1.0,1.3,1.1,1.1,1.4,1.3,1.0,1.0],"y":[4.8,5.3,5.0,5.1,4.5,5.1,4.6,4.6,4.4,4.9,5.1,5.0,5.0,4.7,5.2,4.7,4.8,5.0,4.4,4.5,4.7,4.6,4.5,4.9,4.5,4.9,4.9,4.8,5.1,5.1,4.7,5.6,5.6,5.3,5.6,5.5,5.8,5.6,5.8,5.4,5.7,5.4,5.5,5.2,5.5,5.6,5.6,5.1,4.9,4.8,4.7,4.4,4.3,4.2,4.5,4.4,4.1,4.2,4.5,4.0,4.2,4.2,4.1,4.5,4.1,4.3,4.0,5.1,4.0,6.0,5.7,5.7,5.9,5.9,6.0,3.9,3.7,4.0,3.9,3.8,3.9,3.6,3.5,3.5],"z":[6.2,6.4,6.7,6.3,6.0,5.8,6.1,6.6,6.6,6.1,6.0,6.0,6.3,6.1,6.5,6.1,6.0,5.7,6.3,6.0,6.3,6.5,6.4,5.6,6.2,6.3,6.3,5.9,5.9,6.5,6.7,6.3,6.1,6.4,6.7,6.5,6.7,6.4,6.5,6.9,6.7,6.2,6.4,6.7,6.8,6.4,6.3,6.9,6.9,6.8,7.0,6.7,6.2,5.7,5.4,5.5,5.7,5.6,5.7,5.8,5.7,5.9,5.6,5.6,5.8,6.4,6.1,5.8,6.0,6.3,6.9,6.7,6.8,7.1,7.2,5.8,5.5,5.5,5.6,5.5,5.2,5.6,5.7,5.0],"mode":"markers","line":{"width":{}},"marker":{},"name":"Cluster_1"}];
    var layout = {"title":"eps:0.5 minPts:20 n:150 Cluster:2 NoisePts:14","scene":{"xaxis":{"title":"Petal width","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"yaxis":{"title":"Petal length","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"zaxis":{"title":"Sepal length","ticks":"inside","mirror":"all","showline":true,"showgrid":true}}};
    var config = {};
    Plotly.newPlot('9c4f0633-ba36-47d9-b29e-3e4c69990b90', data, layout, config);
  </script>
<h2><a name="Hierarchical-clustering" class="anchor" href="#Hierarchical-clustering">Hierarchical clustering</a></h2>
<p>Hierarchical clustering results in a tree structure, that has a single cluster (node) on its
root and recursevely splits up into clusters of elements that are more similar to each other than to elements
of other clusters. For generating multiple cluster results with different number of clusters, the clustering
has to performed only once. Subsequently a threshold can be determined which will result in the desired number of clusters.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 462)" onmouseover="showTip(event, 'fs1', 462)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 463)" onmouseover="showTip(event, 'fs3', 463)" class="id">Stats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 464)" onmouseover="showTip(event, 'fs60', 464)" class="id">ML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 465)" onmouseover="showTip(event, 'fs61', 465)" class="id">Unsupervised</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs139', 466)" onmouseover="showTip(event, 'fs139', 466)" class="id">HierarchicalClustering</span>

<span class="c">// calculates the clustering and reports a single root cluster (node), </span>
<span class="c">// that may recursively contains further nodes</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs140', 467)" onmouseover="showTip(event, 'fs140', 467)" class="id">clusterResultH</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs139', 468)" onmouseover="showTip(event, 'fs139', 468)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs141', 469)" onmouseover="showTip(event, 'fs141', 469)" class="id">generate</span> <span onmouseout="hideTip(event, 'fs70', 470)" onmouseover="showTip(event, 'fs70', 470)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs71', 471)" onmouseover="showTip(event, 'fs71', 471)" class="id">euclidean</span> <span onmouseout="hideTip(event, 'fs142', 472)" onmouseover="showTip(event, 'fs142', 472)" class="m">Linker</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs143', 473)" onmouseover="showTip(event, 'fs143', 473)" class="id">wardLwLinker</span> <span onmouseout="hideTip(event, 'fs36', 474)" onmouseover="showTip(event, 'fs36', 474)" class="id">data</span>

<span class="c">// If a desired cluster number is specified, the following function cuts the cluster according</span>
<span class="c">// to the depth, that results in the respective number of clusters (here 3). Only leaves are reported.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs144', 475)" onmouseover="showTip(event, 'fs144', 475)" class="id">threeClustersH</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs139', 476)" onmouseover="showTip(event, 'fs139', 476)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs145', 477)" onmouseover="showTip(event, 'fs145', 477)" class="id">cutHClust</span> <span class="n">3</span> <span onmouseout="hideTip(event, 'fs140', 478)" onmouseover="showTip(event, 'fs140', 478)" class="id">clusterResultH</span>
</code></pre></td>
</tr>
</table>
<p>Every cluster leaf contains its raw values and an index that
indicates the position of the respective data point in the raw data.
The index can be retrieved from leaves by HierarchicalClustering.getClusterId.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs146', 479)" onmouseover="showTip(event, 'fs146', 479)" class="id">inspectThreeClusters</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs144', 480)" onmouseover="showTip(event, 'fs144', 480)" class="id">threeClustersH</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs85', 481)" onmouseover="showTip(event, 'fs85', 481)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs147', 482)" onmouseover="showTip(event, 'fs147', 482)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs148', 483)" onmouseover="showTip(event, 'fs148', 483)" class="id">cluster</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs148', 484)" onmouseover="showTip(event, 'fs148', 484)" class="id">cluster</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs85', 485)" onmouseover="showTip(event, 'fs85', 485)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs147', 486)" onmouseover="showTip(event, 'fs147', 486)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs149', 487)" onmouseover="showTip(event, 'fs149', 487)" class="id">leaf</span> <span class="k">-&gt;</span> 
            <span onmouseout="hideTip(event, 'fs35', 488)" onmouseover="showTip(event, 'fs35', 488)" class="id">lables</span><span class="m">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs139', 489)" onmouseover="showTip(event, 'fs139', 489)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs150', 490)" onmouseover="showTip(event, 'fs150', 490)" class="id">getClusterId</span> <span onmouseout="hideTip(event, 'fs149', 491)" onmouseover="showTip(event, 'fs149', 491)" class="id">leaf</span><span class="pn">]</span>
            <span class="pn">)</span>
        <span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs151', 492)" onmouseover="showTip(event, 'fs151', 492)" class="id">clusteredLabels</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs49', 493)" onmouseover="showTip(event, 'fs49', 493)" class="fn">sprintf</span> <span class="s">&quot;Detailed information for </span><span class="pf">%i</span><span class="s"> clusters is given:&quot;</span> <span onmouseout="hideTip(event, 'fs151', 494)" onmouseover="showTip(event, 'fs151', 494)" class="id">clusteredLabels</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs152', 495)" onmouseover="showTip(event, 'fs152', 495)" class="id">Length</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs151', 496)" onmouseover="showTip(event, 'fs151', 496)" class="id">clusteredLabels</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>("Detailed information for 3 clusters is given:",
 [["Iris-versicolor_105"; "Iris-versicolor_144"; "Iris-versicolor_8";
   "Iris-versicolor_143"; "Iris-versicolor_45"; "Iris-versicolor_83";
   "Iris-versicolor_20"; "Iris-versicolor_80"; "Iris-versicolor_104";
   "Iris-versicolor_119"; "Iris-versicolor_94"; "Iris-versicolor_51";
   "Iris-versicolor_115"; "Iris-versicolor_23"; "Iris-versicolor_63";
   "Iris-versicolor_86"; "Iris-versicolor_19"; "Iris-versicolor_55";
   "Iris-versicolor_149"; "Iris-versicolor_15"; "Iris-virginica_16";
   "Iris-versicolor_67"; "Iris-versicolor_136"; "Iris-virginica_76";
   "Iris-virginica_2"; "Iris-virginica_138"; "Iris-virginica_77";
   "Iris-versicolor_92"; "Iris-versicolor_135"; "Iris-virginica_91";
   "Iris-virginica_127"; "Iris-virginica_29"; "Iris-virginica_116";
   "Iris-virginica_1"; "Iris-virginica_65"; "Iris-virginica_84";
   "Iris-versicolor_140"; "Iris-virginica_141"; "Iris-versicolor_35";
   "Iris-versicolor_56"; "Iris-versicolor_32"; "Iris-versicolor_122";
   "Iris-versicolor_14"; "Iris-versicolor_93"; "Iris-versicolor_110";
   "Iris-versicolor_47"; "Iris-versicolor_54"; "Iris-virginica_146";
   "Iris-versicolor_11"; "Iris-versicolor_21"; "Iris-versicolor_90";
   "Iris-versicolor_10"; "Iris-versicolor_57"; "Iris-versicolor_25";
   "Iris-versicolor_89"; "Iris-versicolor_132"; "Iris-versicolor_70";
   "Iris-versicolor_103"; "Iris-versicolor_134"; "Iris-versicolor_49";
   "Iris-versicolor_26"; "Iris-versicolor_102"; "Iris-versicolor_66";
   "Iris-versicolor_131"];
  ["Iris-virginica_17"; "Iris-virginica_87"; "Iris-virginica_34";
   "Iris-virginica_42"; "Iris-virginica_60"; "Iris-virginica_123";
   "Iris-virginica_79"; "Iris-virginica_36"; "Iris-virginica_111";
   "Iris-virginica_100"; "Iris-virginica_128"; "Iris-virginica_78";
   "Iris-virginica_107"; "Iris-virginica_81"; "Iris-virginica_142";
   "Iris-virginica_46"; "Iris-virginica_99"; "Iris-virginica_120";
   "Iris-virginica_6"; "Iris-virginica_73"; "Iris-virginica_112";
   "Iris-virginica_75"; "Iris-virginica_24"; "Iris-virginica_72";
   "Iris-virginica_114"; "Iris-virginica_130"; "Iris-virginica_18";
   "Iris-virginica_74"; "Iris-virginica_101"; "Iris-virginica_106";
   "Iris-virginica_62"; "Iris-virginica_12"; "Iris-virginica_28";
   "Iris-virginica_145"; "Iris-virginica_31"; "Iris-virginica_88"];
  ["Iris-setosa_96"; "Iris-setosa_126"; "Iris-setosa_71"; "Iris-setosa_41";
   "Iris-setosa_133"; "Iris-setosa_48"; "Iris-setosa_124"; "Iris-setosa_22";
   "Iris-setosa_98"; "Iris-setosa_148"; "Iris-setosa_97"; "Iris-setosa_59";
   "Iris-setosa_117"; "Iris-setosa_61"; "Iris-setosa_95"; "Iris-setosa_43";
   "Iris-setosa_13"; "Iris-setosa_108"; "Iris-setosa_30"; "Iris-setosa_125";
   "Iris-setosa_37"; "Iris-setosa_7"; "Iris-setosa_118"; "Iris-setosa_113";
   "Iris-setosa_0"; "Iris-setosa_58"; "Iris-setosa_137"; "Iris-setosa_147";
   "Iris-setosa_44"; "Iris-setosa_69"; "Iris-setosa_68"; "Iris-setosa_129";
   "Iris-setosa_52"; "Iris-setosa_85"; "Iris-setosa_40"; "Iris-setosa_9";
   "Iris-setosa_33"; "Iris-setosa_4"; "Iris-setosa_64"; "Iris-setosa_3";
   "Iris-setosa_53"; "Iris-setosa_82"; "Iris-setosa_109"; "Iris-setosa_27";
   "Iris-setosa_121"; "Iris-setosa_139"; "Iris-setosa_38"; "Iris-setosa_39";
   "Iris-setosa_5"; "Iris-setosa_50"]])</code></pre></td></tr></table>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// To recursevely flatten the cluster tree into leaves only, use flattenHClust.</span>
<span class="c">// A leaf list is reported, that does not contain any cluster membership, </span>
<span class="c">// but is sorted by the clustering result.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs153', 497)" onmouseover="showTip(event, 'fs153', 497)" class="id">hLeaves</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs140', 498)" onmouseover="showTip(event, 'fs140', 498)" class="id">clusterResultH</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs139', 499)" onmouseover="showTip(event, 'fs139', 499)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs154', 500)" onmouseover="showTip(event, 'fs154', 500)" class="id">flattenHClust</span>

<span class="c">// takes the sorted cluster result and reports a tuple of lable and data value.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs155', 501)" onmouseover="showTip(event, 'fs155', 501)" class="id">dataSortedByClustering</span> <span class="o">=</span>    
    <span onmouseout="hideTip(event, 'fs153', 502)" onmouseover="showTip(event, 'fs153', 502)" class="id">hLeaves</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 503)" onmouseover="showTip(event, 'fs37', 503)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs156', 504)" onmouseover="showTip(event, 'fs156', 504)" class="id">choose</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs157', 505)" onmouseover="showTip(event, 'fs157', 505)" class="id">c</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs47', 506)" onmouseover="showTip(event, 'fs47', 506)" class="id">lable</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 507)" onmouseover="showTip(event, 'fs35', 507)" class="id">lables</span><span class="m">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs139', 508)" onmouseover="showTip(event, 'fs139', 508)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs150', 509)" onmouseover="showTip(event, 'fs150', 509)" class="id">getClusterId</span> <span onmouseout="hideTip(event, 'fs157', 510)" onmouseover="showTip(event, 'fs157', 510)" class="id">c</span><span class="pn">]</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs158', 511)" onmouseover="showTip(event, 'fs158', 511)" class="id">values</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs139', 512)" onmouseover="showTip(event, 'fs139', 512)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs159', 513)" onmouseover="showTip(event, 'fs159', 513)" class="id">tryGetLeafValue</span> <span onmouseout="hideTip(event, 'fs157', 514)" onmouseover="showTip(event, 'fs157', 514)" class="id">c</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs158', 515)" onmouseover="showTip(event, 'fs158', 515)" class="id">values</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs160', 516)" onmouseover="showTip(event, 'fs160', 516)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs160', 517)" onmouseover="showTip(event, 'fs160', 517)" class="uc">None</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs161', 518)" onmouseover="showTip(event, 'fs161', 518)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs98', 519)" onmouseover="showTip(event, 'fs98', 519)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs161', 520)" onmouseover="showTip(event, 'fs161', 520)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs47', 521)" onmouseover="showTip(event, 'fs47', 521)" class="id">lable</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs98', 522)" onmouseover="showTip(event, 'fs98', 522)" class="id">x</span><span class="pn">)</span>
        <span class="pn">)</span>


<span class="k">let</span> <span onmouseout="hideTip(event, 'fs162', 523)" onmouseover="showTip(event, 'fs162', 523)" class="id">hierClusteredDataHeatmap</span> <span class="o">=</span> 
    <span class="k">let</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs163', 524)" onmouseover="showTip(event, 'fs163', 524)" class="id">hlable</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs164', 525)" onmouseover="showTip(event, 'fs164', 525)" class="id">hdata</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs155', 526)" onmouseover="showTip(event, 'fs155', 526)" class="id">dataSortedByClustering</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 527)" onmouseover="showTip(event, 'fs37', 527)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs165', 528)" onmouseover="showTip(event, 'fs165', 528)" class="id">unzip</span>
    <span onmouseout="hideTip(event, 'fs56', 529)" onmouseover="showTip(event, 'fs56', 529)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs57', 530)" onmouseover="showTip(event, 'fs57', 530)" class="id">Heatmap</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs164', 531)" onmouseover="showTip(event, 'fs164', 531)" class="id">hdata</span><span class="pn">,</span><span class="id">ColNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs51', 532)" onmouseover="showTip(event, 'fs51', 532)" class="id">colnames</span><span class="pn">,</span><span class="id">RowNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs163', 533)" onmouseover="showTip(event, 'fs163', 533)" class="id">hlable</span><span class="pn">,</span><span class="id">Colorscale</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs52', 534)" onmouseover="showTip(event, 'fs52', 534)" class="id">colorscaleValue</span><span class="pn">,</span><span class="id">Showscale</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 535)" onmouseover="showTip(event, 'fs56', 535)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs58', 536)" onmouseover="showTip(event, 'fs58', 536)" class="id">withMarginSize</span><span class="pn">(</span><span class="id">Left</span><span class="o">=</span><span class="n">250.</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 537)" onmouseover="showTip(event, 'fs56', 537)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 538)" onmouseover="showTip(event, 'fs59', 538)" class="id">withTitle</span> <span class="s">&quot;Clustered iris data (hierarchical clustering)&quot;</span>
</code></pre></td>
</tr>
</table>
<div id="6d593a78-366c-4d9d-8bc2-358521fa5b45" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"heatmap","z":[[5.9,3.0,4.2,1.5],[6.1,2.8,4.0,1.3],[6.2,2.9,4.3,1.3],[6.4,2.9,4.3,1.3],[6.1,3.0,4.6,1.4],[6.1,2.9,4.7,1.4],[6.0,2.9,4.5,1.5],[6.1,2.8,4.7,1.2],[6.3,3.3,4.7,1.6],[6.4,3.2,4.5,1.5],[6.0,3.4,4.5,1.6],[6.6,2.9,4.6,1.3],[6.5,2.8,4.6,1.5],[6.8,2.8,4.8,1.4],[6.6,3.0,4.4,1.4],[6.7,3.1,4.4,1.4],[6.9,3.1,4.9,1.5],[7.0,3.2,4.7,1.4],[6.7,3.1,4.7,1.5],[6.7,3.0,5.0,1.7],[6.3,2.8,5.1,1.5],[6.0,2.7,5.1,1.6],[6.3,2.5,4.9,1.5],[6.0,2.2,5.0,1.5],[6.2,2.8,4.8,1.8],[6.3,2.7,4.9,1.8],[6.3,2.5,5.0,1.9],[6.3,2.3,4.4,1.3],[6.2,2.2,4.5,1.5],[5.7,2.5,5.0,2.0],[5.6,2.8,4.9,2.0],[5.8,2.7,5.1,1.9],[5.8,2.7,5.1,1.9],[5.8,2.8,5.1,2.4],[6.1,3.0,4.9,1.8],[6.0,3.0,4.8,1.8],[5.9,3.2,4.8,1.8],[5.9,3.0,5.1,1.8],[5.5,2.6,4.4,1.2],[5.7,2.8,4.5,1.3],[5.4,3.0,4.5,1.5],[5.6,3.0,4.5,1.5],[5.7,2.9,4.2,1.3],[5.7,3.0,4.2,1.2],[5.6,3.0,4.1,1.3],[5.7,2.8,4.1,1.3],[5.6,2.7,4.2,1.3],[4.9,2.5,4.5,1.7],[5.5,2.5,4.0,1.3],[5.5,2.3,4.0,1.3],[5.2,2.7,3.9,1.4],[5.5,2.4,3.7,1.0],[5.5,2.4,3.8,1.1],[5.6,2.5,3.9,1.1],[5.7,2.6,3.5,1.0],[5.6,2.9,3.6,1.3],[5.8,2.6,4.0,1.2],[5.8,2.7,3.9,1.2],[5.8,2.7,4.1,1.0],[6.0,2.2,4.0,1.0],[4.9,2.4,3.3,1.0],[5.0,2.3,3.3,1.0],[5.1,2.5,3.0,1.1],[5.0,2.0,3.5,1.0],[6.3,3.4,5.6,2.4],[6.2,3.4,5.4,2.3],[6.4,3.2,5.3,2.3],[6.3,3.3,6.0,2.5],[6.9,3.2,5.7,2.3],[6.8,3.2,5.9,2.3],[6.7,3.3,5.7,2.1],[6.7,3.1,5.6,2.4],[6.7,3.3,5.7,2.5],[6.7,3.0,5.2,2.3],[6.9,3.1,5.1,2.3],[6.9,3.1,5.4,2.1],[6.8,3.0,5.5,2.1],[6.5,3.0,5.2,2.0],[6.5,3.2,5.1,2.0],[6.5,3.0,5.5,1.8],[6.4,3.1,5.5,1.8],[6.3,2.9,5.6,1.8],[6.4,2.7,5.3,1.9],[6.4,2.8,5.6,2.2],[6.4,2.8,5.6,2.1],[6.5,3.0,5.8,2.2],[6.1,2.6,5.6,1.4],[6.7,2.5,5.8,1.8],[7.7,3.0,6.1,2.3],[7.2,3.6,6.1,2.5],[7.7,3.8,6.7,2.2],[7.9,3.8,6.4,2.0],[7.6,3.0,6.6,2.1],[7.7,2.8,6.7,2.0],[7.7,2.6,6.9,2.3],[7.2,3.2,6.0,1.8],[7.2,3.0,5.8,1.6],[7.1,3.0,5.9,2.1],[7.4,2.8,6.1,1.9],[7.3,2.9,6.3,1.8],[5.3,3.7,1.5,0.2],[5.4,3.7,1.5,0.2],[5.5,3.5,1.3,0.2],[5.4,3.4,1.5,0.4],[5.4,3.4,1.7,0.2],[5.7,3.8,1.7,0.3],[5.4,3.9,1.7,0.4],[5.1,3.8,1.5,0.3],[5.1,3.7,1.5,0.4],[5.1,3.8,1.6,0.2],[5.1,3.8,1.9,0.4],[5.8,4.0,1.2,0.2],[5.7,4.4,1.5,0.4],[5.2,4.1,1.5,0.1],[5.5,4.2,1.4,0.2],[5.4,3.9,1.3,0.4],[4.8,3.4,1.6,0.2],[4.8,3.4,1.9,0.2],[5.0,3.4,1.6,0.4],[5.1,3.3,1.7,0.5],[5.0,3.5,1.6,0.6],[5.0,3.4,1.5,0.2],[5.1,3.4,1.5,0.2],[5.0,3.3,1.4,0.2],[5.2,3.5,1.5,0.2],[5.2,3.4,1.4,0.2],[5.0,3.5,1.3,0.3],[5.0,3.6,1.4,0.2],[5.1,3.5,1.4,0.2],[5.1,3.5,1.4,0.3],[4.6,3.2,1.4,0.2],[4.6,3.1,1.5,0.2],[4.7,3.2,1.3,0.2],[4.6,3.4,1.4,0.3],[4.6,3.6,1.0,0.2],[4.4,2.9,1.4,0.2],[4.4,3.0,1.3,0.2],[4.4,3.2,1.3,0.2],[4.3,3.0,1.1,0.1],[4.5,2.3,1.3,0.3],[4.9,3.1,1.5,0.1],[4.9,3.1,1.5,0.1],[4.9,3.1,1.5,0.1],[5.0,3.0,1.6,0.2],[4.7,3.2,1.6,0.2],[4.8,3.1,1.6,0.2],[4.8,3.0,1.4,0.3],[4.9,3.0,1.4,0.2],[4.8,3.0,1.4,0.1],[5.0,3.2,1.2,0.2]],"x":["Sepal length","Sepal width","Petal length","Petal width"],"y":["Iris-versicolor_105","Iris-versicolor_144","Iris-versicolor_8","Iris-versicolor_143","Iris-versicolor_45","Iris-versicolor_83","Iris-versicolor_20","Iris-versicolor_80","Iris-versicolor_104","Iris-versicolor_119","Iris-versicolor_94","Iris-versicolor_51","Iris-versicolor_115","Iris-versicolor_23","Iris-versicolor_63","Iris-versicolor_86","Iris-versicolor_19","Iris-versicolor_55","Iris-versicolor_149","Iris-versicolor_15","Iris-virginica_16","Iris-versicolor_67","Iris-versicolor_136","Iris-virginica_76","Iris-virginica_2","Iris-virginica_138","Iris-virginica_77","Iris-versicolor_92","Iris-versicolor_135","Iris-virginica_91","Iris-virginica_127","Iris-virginica_29","Iris-virginica_116","Iris-virginica_1","Iris-virginica_65","Iris-virginica_84","Iris-versicolor_140","Iris-virginica_141","Iris-versicolor_35","Iris-versicolor_56","Iris-versicolor_32","Iris-versicolor_122","Iris-versicolor_14","Iris-versicolor_93","Iris-versicolor_110","Iris-versicolor_47","Iris-versicolor_54","Iris-virginica_146","Iris-versicolor_11","Iris-versicolor_21","Iris-versicolor_90","Iris-versicolor_10","Iris-versicolor_57","Iris-versicolor_25","Iris-versicolor_89","Iris-versicolor_132","Iris-versicolor_70","Iris-versicolor_103","Iris-versicolor_134","Iris-versicolor_49","Iris-versicolor_26","Iris-versicolor_102","Iris-versicolor_66","Iris-versicolor_131","Iris-virginica_17","Iris-virginica_87","Iris-virginica_34","Iris-virginica_42","Iris-virginica_60","Iris-virginica_123","Iris-virginica_79","Iris-virginica_36","Iris-virginica_111","Iris-virginica_100","Iris-virginica_128","Iris-virginica_78","Iris-virginica_107","Iris-virginica_81","Iris-virginica_142","Iris-virginica_46","Iris-virginica_99","Iris-virginica_120","Iris-virginica_6","Iris-virginica_73","Iris-virginica_112","Iris-virginica_75","Iris-virginica_24","Iris-virginica_72","Iris-virginica_114","Iris-virginica_130","Iris-virginica_18","Iris-virginica_74","Iris-virginica_101","Iris-virginica_106","Iris-virginica_62","Iris-virginica_12","Iris-virginica_28","Iris-virginica_145","Iris-virginica_31","Iris-virginica_88","Iris-setosa_96","Iris-setosa_126","Iris-setosa_71","Iris-setosa_41","Iris-setosa_133","Iris-setosa_48","Iris-setosa_124","Iris-setosa_22","Iris-setosa_98","Iris-setosa_148","Iris-setosa_97","Iris-setosa_59","Iris-setosa_117","Iris-setosa_61","Iris-setosa_95","Iris-setosa_43","Iris-setosa_13","Iris-setosa_108","Iris-setosa_30","Iris-setosa_125","Iris-setosa_37","Iris-setosa_7","Iris-setosa_118","Iris-setosa_113","Iris-setosa_0","Iris-setosa_58","Iris-setosa_137","Iris-setosa_147","Iris-setosa_44","Iris-setosa_69","Iris-setosa_68","Iris-setosa_129","Iris-setosa_52","Iris-setosa_85","Iris-setosa_40","Iris-setosa_9","Iris-setosa_33","Iris-setosa_4","Iris-setosa_64","Iris-setosa_3","Iris-setosa_53","Iris-setosa_82","Iris-setosa_109","Iris-setosa_27","Iris-setosa_121","Iris-setosa_139","Iris-setosa_38","Iris-setosa_39","Iris-setosa_5","Iris-setosa_50"],"colorscale":"Electric","showscale":true}];
    var layout = {"margin":{"l":250.0},"title":"Clustered iris data (hierarchical clustering)"};
    var config = {};
    Plotly.newPlot('6d593a78-366c-4d9d-8bc2-358521fa5b45', data, layout, config);
  </script>
<h1><a name="Determining-the-optimal-number-of-clusters" class="anchor" href="#Determining-the-optimal-number-of-clusters">Determining the optimal number of clusters</a></h1>
<h2><a name="Rule-of-thumb" class="anchor" href="#Rule-of-thumb">Rule of thumb</a></h2>
<p>The rule of thumb is a very crude cluster number estimation only based on the number of data points.</p>
<p>Reference: 'Review on Determining of Cluster in K-means Clustering'; Kodinariya et al; January 2013</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//optimal k for iris data set by using rule-of-thumb</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs166', 539)" onmouseover="showTip(event, 'fs166', 539)" class="id">ruleOfThumb</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs167', 540)" onmouseover="showTip(event, 'fs167', 540)" class="m">ClusterNumber</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs168', 541)" onmouseover="showTip(event, 'fs168', 541)" class="id">kRuleOfThumb</span> <span onmouseout="hideTip(event, 'fs36', 542)" onmouseover="showTip(event, 'fs36', 542)" class="id">data</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>8.660254038</code></pre></td></tr></table>
<h2><a name="Elbow-criterion" class="anchor" href="#Elbow-criterion">Elbow criterion</a></h2>
<p>The elbow criterion is a visual method to determine the optimal cluster number. The cluster dispersion is measured as the sum of all average (squared) euclidean distance of each point to its associated centroid.
The point at wich the dispersion drops drastically and further increase in k does not lead to a strong decrease in dispersion is the optimal k.</p>
<p>Reference: 'Review on Determining of Cluster in K-means Clustering'; Kodinariya et al; January 2013</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs65', 543)" onmouseover="showTip(event, 'fs65', 543)" class="id">IterativeClustering</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs70', 544)" onmouseover="showTip(event, 'fs70', 544)" class="id">DistanceMetrics</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs169', 545)" onmouseover="showTip(event, 'fs169', 545)" class="id">kElbow</span> <span class="o">=</span> <span class="n">10</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs170', 546)" onmouseover="showTip(event, 'fs170', 546)" class="id">iterations</span> <span class="o">=</span> <span class="n">10</span> 

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs171', 547)" onmouseover="showTip(event, 'fs171', 547)" class="id">dispersionOfK</span> <span class="o">=</span> 
    <span class="pn">[|</span><span class="n">1..</span><span onmouseout="hideTip(event, 'fs169', 548)" onmouseover="showTip(event, 'fs169', 548)" class="id">kElbow</span><span class="pn">|]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 549)" onmouseover="showTip(event, 'fs172', 549)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 550)" onmouseover="showTip(event, 'fs97', 550)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs83', 551)" onmouseover="showTip(event, 'fs83', 551)" class="id">k</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs173', 552)" onmouseover="showTip(event, 'fs173', 552)" class="id">dispersion</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs174', 553)" onmouseover="showTip(event, 'fs174', 553)" class="id">std</span><span class="pn">)</span> <span class="o">=</span> 
            <span class="pn">[|</span><span class="n">1..</span><span onmouseout="hideTip(event, 'fs170', 554)" onmouseover="showTip(event, 'fs170', 554)" class="id">iterations</span><span class="pn">|]</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 555)" onmouseover="showTip(event, 'fs172', 555)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 556)" onmouseover="showTip(event, 'fs97', 556)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs46', 557)" onmouseover="showTip(event, 'fs46', 557)" class="id">i</span> <span class="k">-&gt;</span> 
                <span onmouseout="hideTip(event, 'fs175', 558)" onmouseover="showTip(event, 'fs175', 558)" class="fn">kmeans</span> <span onmouseout="hideTip(event, 'fs176', 559)" onmouseover="showTip(event, 'fs176', 559)" class="fn">euclideanNaNSquared</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs67', 560)" onmouseover="showTip(event, 'fs67', 560)" class="fn">randomCentroids</span> <span onmouseout="hideTip(event, 'fs62', 561)" onmouseover="showTip(event, 'fs62', 561)" class="id">rnd</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs36', 562)" onmouseover="showTip(event, 'fs36', 562)" class="id">data</span> <span onmouseout="hideTip(event, 'fs83', 563)" onmouseover="showTip(event, 'fs83', 563)" class="id">k</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs177', 564)" onmouseover="showTip(event, 'fs177', 564)" class="fn">DispersionOfClusterResult</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs178', 565)" onmouseover="showTip(event, 'fs178', 565)" class="id">dispersions</span> <span class="k">-&gt;</span> 
                <span onmouseout="hideTip(event, 'fs37', 566)" onmouseover="showTip(event, 'fs37', 566)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs179', 567)" onmouseover="showTip(event, 'fs179', 567)" class="id">mean</span> <span onmouseout="hideTip(event, 'fs178', 568)" onmouseover="showTip(event, 'fs178', 568)" class="id">dispersions</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs37', 569)" onmouseover="showTip(event, 'fs37', 569)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs180', 570)" onmouseover="showTip(event, 'fs180', 570)" class="id">stDev</span> <span onmouseout="hideTip(event, 'fs178', 571)" onmouseover="showTip(event, 'fs178', 571)" class="id">dispersions</span>
        <span onmouseout="hideTip(event, 'fs83', 572)" onmouseover="showTip(event, 'fs83', 572)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs173', 573)" onmouseover="showTip(event, 'fs173', 573)" class="id">dispersion</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs174', 574)" onmouseover="showTip(event, 'fs174', 574)" class="id">std</span>
        <span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs181', 575)" onmouseover="showTip(event, 'fs181', 575)" class="id">elbowChart</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs56', 576)" onmouseover="showTip(event, 'fs56', 576)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 577)" onmouseover="showTip(event, 'fs182', 577)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs171', 578)" onmouseover="showTip(event, 'fs171', 578)" class="id">dispersionOfK</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 579)" onmouseover="showTip(event, 'fs172', 579)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 580)" onmouseover="showTip(event, 'fs97', 580)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs83', 581)" onmouseover="showTip(event, 'fs83', 581)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs173', 582)" onmouseover="showTip(event, 'fs173', 582)" class="id">dispersion</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs174', 583)" onmouseover="showTip(event, 'fs174', 583)" class="id">std</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs83', 584)" onmouseover="showTip(event, 'fs83', 584)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs173', 585)" onmouseover="showTip(event, 'fs173', 585)" class="id">dispersion</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 586)" onmouseover="showTip(event, 'fs56', 586)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs183', 587)" onmouseover="showTip(event, 'fs183', 587)" class="id">withYErrorStyle</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs171', 588)" onmouseover="showTip(event, 'fs171', 588)" class="id">dispersionOfK</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 589)" onmouseover="showTip(event, 'fs172', 589)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 590)" onmouseover="showTip(event, 'fs97', 590)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs83', 591)" onmouseover="showTip(event, 'fs83', 591)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs173', 592)" onmouseover="showTip(event, 'fs173', 592)" class="id">dispersion</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs174', 593)" onmouseover="showTip(event, 'fs174', 593)" class="id">std</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs174', 594)" onmouseover="showTip(event, 'fs174', 594)" class="id">std</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 595)" onmouseover="showTip(event, 'fs56', 595)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs127', 596)" onmouseover="showTip(event, 'fs127', 596)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 597)" onmouseover="showTip(event, 'fs5', 597)" class="fn">axis</span> <span class="s">&quot;k&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 598)" onmouseover="showTip(event, 'fs56', 598)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs128', 599)" onmouseover="showTip(event, 'fs128', 599)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 600)" onmouseover="showTip(event, 'fs5', 600)" class="fn">axis</span> <span class="s">&quot;dispersion&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 601)" onmouseover="showTip(event, 'fs56', 601)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 602)" onmouseover="showTip(event, 'fs59', 602)" class="id">withTitle</span> <span class="s">&quot;Iris data set dispersion&quot;</span>
</code></pre></td>
</tr>
</table>
<div id="9ba8b4eb-7956-45b0-8bbf-8211f5e32e98" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10],"y":[31.924721795581625,2.6540379473960125,0.74476537434355006,0.33763308474787684,0.247496914059967,0.16690285301306931,0.13315514390703206,0.098659342447158987,0.085188826337011067,0.071057742520222442],"mode":"lines","marker":{},"error_y":{"array":[0.0,0.0,0.56856348991393879,0.12069324125577262,0.095455509736824845,0.026552039690369178,0.03018945213623727,0.023013163147992649,0.027793416633538511,0.019572099246186407]}}];
    var layout = {"xaxis":{"title":"k","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"yaxis":{"title":"dispersion","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"title":"Iris data set dispersion"};
    var config = {};
    Plotly.newPlot('9ba8b4eb-7956-45b0-8bbf-8211f5e32e98', data, layout, config);
  </script>
<h1><a name="AIC" class="anchor" href="#AIC">AIC</a></h1>
<p><a href="https://nlp.stanford.edu/IR-book/html/htmledition/cluster-cardinality-in-k-means-1.html">Reference</a></p>
<p>The Akaike information criterion (AIC) balances the information gain (with raising k) against parameter necessarity (number of k).
The k that minimizes the AIC is assumed to be the optimal one.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs184', 603)" onmouseover="showTip(event, 'fs184', 603)" class="id">aicBootstraps</span> <span class="o">=</span> <span class="n">10</span>

<span class="c">//optimal k for iris data set by using aic</span>
<span class="k">let</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs185', 604)" onmouseover="showTip(event, 'fs185', 604)" class="id">aicK</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs186', 605)" onmouseover="showTip(event, 'fs186', 605)" class="id">aicMeans</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs187', 606)" onmouseover="showTip(event, 'fs187', 606)" class="id">aicStd</span><span class="pn">)</span> <span class="o">=</span>
    <span class="c">//perform 10 iterations and take the mean and standard deviation of the aic</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs188', 607)" onmouseover="showTip(event, 'fs188', 607)" class="id">aic</span> <span class="o">=</span> 
        <span class="pn">[|</span><span class="n">1..</span><span onmouseout="hideTip(event, 'fs184', 608)" onmouseover="showTip(event, 'fs184', 608)" class="id">aicBootstraps</span><span class="pn">|]</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 609)" onmouseover="showTip(event, 'fs172', 609)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 610)" onmouseover="showTip(event, 'fs97', 610)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs189', 611)" onmouseover="showTip(event, 'fs189', 611)" class="id">b</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs167', 612)" onmouseover="showTip(event, 'fs167', 612)" class="m">ClusterNumber</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs190', 613)" onmouseover="showTip(event, 'fs190', 613)" class="id">calcAIC</span> <span class="n">10</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs175', 614)" onmouseover="showTip(event, 'fs175', 614)" class="fn">kmeans</span> <span onmouseout="hideTip(event, 'fs176', 615)" onmouseover="showTip(event, 'fs176', 615)" class="fn">euclideanNaNSquared</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs67', 616)" onmouseover="showTip(event, 'fs67', 616)" class="fn">randomCentroids</span> <span onmouseout="hideTip(event, 'fs62', 617)" onmouseover="showTip(event, 'fs62', 617)" class="id">rnd</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs36', 618)" onmouseover="showTip(event, 'fs36', 618)" class="id">data</span><span class="pn">)</span> <span class="n">15</span><span class="pn">)</span>
    <span onmouseout="hideTip(event, 'fs188', 619)" onmouseover="showTip(event, 'fs188', 619)" class="id">aic</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 620)" onmouseover="showTip(event, 'fs172', 620)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 621)" onmouseover="showTip(event, 'fs97', 621)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs191', 622)" onmouseover="showTip(event, 'fs191', 622)" class="id">iteration</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs172', 623)" onmouseover="showTip(event, 'fs172', 623)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 624)" onmouseover="showTip(event, 'fs97', 624)" class="id">map</span> <span onmouseout="hideTip(event, 'fs192', 625)" onmouseover="showTip(event, 'fs192', 625)" class="fn">snd</span> <span onmouseout="hideTip(event, 'fs191', 626)" onmouseover="showTip(event, 'fs191', 626)" class="id">iteration</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs193', 627)" onmouseover="showTip(event, 'fs193', 627)" class="m">JaggedArray</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs194', 628)" onmouseover="showTip(event, 'fs194', 628)" class="id">transpose</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 629)" onmouseover="showTip(event, 'fs172', 629)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs45', 630)" onmouseover="showTip(event, 'fs45', 630)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs46', 631)" onmouseover="showTip(event, 'fs46', 631)" class="id">i</span> <span onmouseout="hideTip(event, 'fs195', 632)" onmouseover="showTip(event, 'fs195', 632)" class="id">aics</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs46', 633)" onmouseover="showTip(event, 'fs46', 633)" class="id">i</span><span class="o">+</span><span class="n">1</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs37', 634)" onmouseover="showTip(event, 'fs37', 634)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs179', 635)" onmouseover="showTip(event, 'fs179', 635)" class="id">mean</span> <span onmouseout="hideTip(event, 'fs195', 636)" onmouseover="showTip(event, 'fs195', 636)" class="id">aics</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs37', 637)" onmouseover="showTip(event, 'fs37', 637)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs180', 638)" onmouseover="showTip(event, 'fs180', 638)" class="id">stDev</span> <span onmouseout="hideTip(event, 'fs195', 639)" onmouseover="showTip(event, 'fs195', 639)" class="id">aics</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 640)" onmouseover="showTip(event, 'fs172', 640)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs196', 641)" onmouseover="showTip(event, 'fs196', 641)" class="id">unzip3</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs197', 642)" onmouseover="showTip(event, 'fs197', 642)" class="id">aicChart</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs56', 643)" onmouseover="showTip(event, 'fs56', 643)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 644)" onmouseover="showTip(event, 'fs182', 644)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs185', 645)" onmouseover="showTip(event, 'fs185', 645)" class="id">aicK</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs186', 646)" onmouseover="showTip(event, 'fs186', 646)" class="id">aicMeans</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 647)" onmouseover="showTip(event, 'fs56', 647)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs127', 648)" onmouseover="showTip(event, 'fs127', 648)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 649)" onmouseover="showTip(event, 'fs5', 649)" class="fn">axis</span> <span class="s">&quot;k&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 650)" onmouseover="showTip(event, 'fs56', 650)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs128', 651)" onmouseover="showTip(event, 'fs128', 651)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 652)" onmouseover="showTip(event, 'fs5', 652)" class="fn">axis</span> <span class="s">&quot;AIC&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 653)" onmouseover="showTip(event, 'fs56', 653)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs183', 654)" onmouseover="showTip(event, 'fs183', 654)" class="id">withYErrorStyle</span> <span onmouseout="hideTip(event, 'fs187', 655)" onmouseover="showTip(event, 'fs187', 655)" class="id">aicStd</span>
</code></pre></td>
</tr>
</table>
<div id="8e654792-2c45-4732-b285-3aa86918ac40" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],"y":[5088.708269337244,998.10569210940207,1041.4267654183832,1253.8592286802391,1539.738875346904,1827.1189790110402,2121.1061566166172,2416.7007138260142,2714.4712554336375,3012.7666039898454,3309.9990399402241,3610.0559661841194,3908.0622708683418,4207.3295113427248,4506.5757983751955],"mode":"lines","marker":{},"error_y":{"array":[0.0,0.0,39.759202723695431,6.02554041753683,6.0740289696733276,3.8396932941404174,1.8970258617670461,1.7966517396189348,1.9596875340780058,1.6831924699824461,0.97071084329030133,2.037195404403283,0.890865810538039,0.56055373906761807,0.49440320115379333]}}];
    var layout = {"xaxis":{"title":"k","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"yaxis":{"title":"AIC","ticks":"inside","mirror":"all","showline":true,"showgrid":true}};
    var config = {};
    Plotly.newPlot('8e654792-2c45-4732-b285-3aa86918ac40', data, layout, config);
  </script>
<h2><a name="Silhouette-coefficient" class="anchor" href="#Silhouette-coefficient">Silhouette coefficient</a></h2>
<p>The silhouette index ranges from -1 to 1, where -1 indicates a missclassified point, and 1 indicates a perfect fit.
It can be calculated for every point by comparing the mean intra cluster distance with the nearest mean inter cluster distance.
The mean of all indices can be visualized, where a maximal value indicates the optimal k.</p>
<p>Reference: 'Review on Determining of Cluster in K-means Clustering'; Kodinariya et al; January 2013</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// The following example expects the raw data to be clustered by k means clustering.</span>
<span class="c">// If you already have clustered data use the &#39;silhouetteIndex&#39; function instead.</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs198', 656)" onmouseover="showTip(event, 'fs198', 656)" class="id">silhouetteData</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs25', 657)" onmouseover="showTip(event, 'fs25', 657)" class="fn">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 658)" onmouseover="showTip(event, 'fs26', 658)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 659)" onmouseover="showTip(event, 'fs27', 659)" class="rt">File</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs199', 660)" onmouseover="showTip(event, 'fs199', 660)" class="id">ReadAllLines</span><span class="pn">(</span><span class="k">__SOURCE_DIRECTORY__</span> <span class="o">+</span> <span class="s">&quot;/data/silhouetteIndexData.txt&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 661)" onmouseover="showTip(event, 'fs172', 661)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 662)" onmouseover="showTip(event, 'fs97', 662)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs200', 663)" onmouseover="showTip(event, 'fs200', 663)" class="id">x</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs201', 664)" onmouseover="showTip(event, 'fs201', 664)" class="id">tmp</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs200', 665)" onmouseover="showTip(event, 'fs200', 665)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 666)" onmouseover="showTip(event, 'fs34', 666)" class="id">Split</span> <span class="s">&#39;\t&#39;</span>
        <span class="pn">[|</span><span onmouseout="hideTip(event, 'fs41', 667)" onmouseover="showTip(event, 'fs41', 667)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs201', 668)" onmouseover="showTip(event, 'fs201', 668)" class="id">tmp</span><span class="m">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs41', 669)" onmouseover="showTip(event, 'fs41', 669)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs201', 670)" onmouseover="showTip(event, 'fs201', 670)" class="id">tmp</span><span class="m">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">|]</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs202', 671)" onmouseover="showTip(event, 'fs202', 671)" class="id">sI</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs60', 672)" onmouseover="showTip(event, 'fs60', 672)" class="fn">ML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 673)" onmouseover="showTip(event, 'fs61', 673)" class="id">Unsupervised</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs167', 674)" onmouseover="showTip(event, 'fs167', 674)" class="m">ClusterNumber</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs203', 675)" onmouseover="showTip(event, 'fs203', 675)" class="id">silhouetteIndexKMeans</span> 
        <span class="n">50</span>              <span class="c">// number of bootstraps </span>
        <span class="pn">(</span><span onmouseout="hideTip(event, 'fs175', 676)" onmouseover="showTip(event, 'fs175', 676)" class="fn">kmeans</span> <span onmouseout="hideTip(event, 'fs176', 677)" onmouseover="showTip(event, 'fs176', 677)" class="fn">euclideanNaNSquared</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs67', 678)" onmouseover="showTip(event, 'fs67', 678)" class="fn">randomCentroids</span> <span onmouseout="hideTip(event, 'fs62', 679)" onmouseover="showTip(event, 'fs62', 679)" class="id">rnd</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs198', 680)" onmouseover="showTip(event, 'fs198', 680)" class="id">silhouetteData</span><span class="pn">)</span> 
        <span onmouseout="hideTip(event, 'fs198', 681)" onmouseover="showTip(event, 'fs198', 681)" class="id">silhouetteData</span>  <span class="c">// input data</span>
        <span class="n">15</span>              <span class="c">// maximal number of allowed k</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs204', 682)" onmouseover="showTip(event, 'fs204', 682)" class="id">rawDataChart</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs198', 683)" onmouseover="showTip(event, 'fs198', 683)" class="id">silhouetteData</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 684)" onmouseover="showTip(event, 'fs172', 684)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 685)" onmouseover="showTip(event, 'fs97', 685)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs98', 686)" onmouseover="showTip(event, 'fs98', 686)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs98', 687)" onmouseover="showTip(event, 'fs98', 687)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs98', 688)" onmouseover="showTip(event, 'fs98', 688)" class="id">x</span><span class="m">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 689)" onmouseover="showTip(event, 'fs56', 689)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs117', 690)" onmouseover="showTip(event, 'fs117', 690)" class="id">Point</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs205', 691)" onmouseover="showTip(event, 'fs205', 691)" class="id">silhouetteIndicesChart</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs56', 692)" onmouseover="showTip(event, 'fs56', 692)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 693)" onmouseover="showTip(event, 'fs182', 693)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs202', 694)" onmouseover="showTip(event, 'fs202', 694)" class="id">sI</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 695)" onmouseover="showTip(event, 'fs172', 695)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 696)" onmouseover="showTip(event, 'fs97', 696)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs206', 697)" onmouseover="showTip(event, 'fs206', 697)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs206', 698)" onmouseover="showTip(event, 'fs206', 698)" class="id">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs207', 699)" onmouseover="showTip(event, 'fs207', 699)" class="id">ClusterNumber</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs206', 700)" onmouseover="showTip(event, 'fs206', 700)" class="id">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs208', 701)" onmouseover="showTip(event, 'fs208', 701)" class="id">SilhouetteIndex</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 702)" onmouseover="showTip(event, 'fs56', 702)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs183', 703)" onmouseover="showTip(event, 'fs183', 703)" class="id">withYErrorStyle</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs202', 704)" onmouseover="showTip(event, 'fs202', 704)" class="id">sI</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 705)" onmouseover="showTip(event, 'fs172', 705)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 706)" onmouseover="showTip(event, 'fs97', 706)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs206', 707)" onmouseover="showTip(event, 'fs206', 707)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs206', 708)" onmouseover="showTip(event, 'fs206', 708)" class="id">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs209', 709)" onmouseover="showTip(event, 'fs209', 709)" class="id">SilhouetteIndexStDev</span><span class="pn">)</span><span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<div id="59d97f49-4f97-4344-bdb9-c4ed26816c03" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"scatter","x":[7.27,8.29,6.98,6.37,2.13,0.81,9.57,7.44,4.68,6.85,1.78,5.52,6.97,8.5,10.01,11.94,2.48,10.94,7.8,2.22,0.1,10.65,7.37,6.9,8.61,11.42,7.84,6.92,7.28,9.6,10.54,8.32,5.29,11.58,2.05,2.06,1.03,3.35,5.85,11.99,7.89,6.12,11.34,5.36,7.04,0.0,6.82,7.21,2.14,2.65,7.75,8.03,6.7,11.35,9.29,5.9,7.53,9.97,10.97,-0.8,11.55,8.07,7.88,9.92,1.65,-0.59,1.58,10.65,1.37,6.77,12.41,2.26,-0.28,1.57,10.8,7.52,11.21,8.15,1.82,11.33,10.46,-1.59,6.48,6.8,11.13,10.73,7.48,8.64,2.98,-0.57,7.6,10.62,4.27,-1.8,-1.51,6.18,9.69,11.64,0.86,8.54,7.85,1.83,-0.45,5.37,10.12,10.35,10.38,13.17,8.13,11.34,1.39,1.77,10.39,3.1,7.83,5.11,4.91,7.84,1.92,7.12,9.79,11.4,1.69,1.21,10.65,0.2,12.23,2.69,1.04,10.71],"y":[3.06,0.52,3.16,2.41,4.98,10.82,-0.55,1.17,10.66,3.1,5.38,1.33,1.62,2.86,0.34,-0.15,4.65,13.65,1.3,9.97,10.8,-0.14,2.52,2.85,1.49,0.31,0.74,2.11,1.35,0.22,12.88,2.62,0.86,13.88,9.71,3.6,11.55,11.18,2.43,-0.32,2.17,3.25,-1.23,3.01,1.55,9.82,3.55,3.26,10.8,10.24,1.75,1.74,2.12,13.69,13.95,0.98,2.39,-0.85,0.39,11.71,12.73,2.66,4.72,0.63,5.08,9.73,10.32,12.03,9.36,2.37,-0.28,5.03,8.18,4.75,13.54,2.08,14.15,2.12,10.51,-0.15,-0.35,9.96,3.3,3.84,14.77,13.82,2.1,15.52,10.97,9.03,0.28,-0.51,2.34,10.01,10.19,2.67,14.36,15.31,9.49,3.61,2.47,11.21,10.53,3.56,-0.62,0.48,-0.66,0.41,2.3,14.58,9.68,5.17,13.64,4.52,1.25,2.6,0.43,1.94,9.82,2.03,13.56,14.57,11.19,8.98,13.15,9.23,15.21,4.93,10.54,-1.31],"mode":"markers","marker":{},"name":"raw data","xaxis":"x","yaxis":"y"},{"type":"scatter","x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15],"y":[0.71035874572099766,0.77929052438722923,0.77858097163801576,0.78097113901706339,0.738406267241346,0.706291602720813,0.668025061448093,0.65055932609249079,0.626956734163358,0.606067478739656,0.59603307572351927,0.58419477255989838,0.55882970098642371,0.55085408693805227],"mode":"lines","marker":{},"error_y":{"array":[0.027055031954584748,0.1386492974251842,0.036546386428047285,0.077676257602767626,0.0513546661357401,0.038085648720741667,0.045711347080926196,0.040895738739321195,0.045898715395726139,0.056789317941338804,0.045417769635991957,0.053752462890717952,0.050249395766215316,0.044375841478779925]},"name":"silhouette","xaxis":"x2","yaxis":"y2"}];
    var layout = {"yaxis":{"title":"","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"x","domain":[0.099999999999999978,1.0]},"xaxis":{"title":"","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"y","domain":[0.0,0.4]},"yaxis2":{"title":"silhouette index","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"x2","domain":[0.099999999999999978,1.0]},"xaxis2":{"title":"k","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"y2","domain":[0.5,0.9]}};
    var config = {};
    Plotly.newPlot('59d97f49-4f97-4344-bdb9-c4ed26816c03', data, layout, config);
  </script>
<h2><a name="GapStatistics" class="anchor" href="#GapStatistics">GapStatistics</a></h2>
<p>Reference: 'Estimating the number of clusters in a data set via the gap statistic'; J. R. Statist. Soc. B (2001); Tibshirani, Walther, and Hastie</p>
<p>Gap statistics allows to determine the optimal cluster number by comparing the cluster dispersion (intra-cluster variation) of a reference dataset to the original data cluster dispersion.
For each k both dispersions are calculated, while for the reference dataset multiple iterations are performed for each k. The difference of the log(dispersionOriginal) and the log(dispersionReference) is called 'gap'.
The maximal gap points to the optimal cluster number.</p>
<p>Two ways to generate a reference data set are implemented.</p>
<ul>
<li>a uniform coverage within the range of the original data set</li>
<li>a PCA based point coverage, that considers the density/shape of the original data</li>
</ul>
<div id="8aaa6562-c8ae-4bed-bf57-6319eab38f55" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"scatter","x":[-0.1,-0.7,0.3,2.4,1.0,-0.8,-0.1,-0.6,0.6,-0.25,-0.25,-1.2,-0.2,-0.8,-0.9,-0.5,-0.5,0.0,0.2,0.75,1.2,1.5,-0.8,0.0,0.6,2.9,3.15,3.9,4.3,4.8,4.75,4.85,5.9,5.7,5.85,5.9,5.8,7.2,7.9,4.3,5.25,5.8,6.1,4.6,4.95,4.6,5.1,5.75,5.9],"y":[-2.1,-1.75,-1.25,-1.25,-1.2,-1.2,-1.2,-0.9,-0.7,-0.25,-0.25,0.4,0.4,0.6,0.8,0.8,0.9,0.7,0.8,0.8,0.7,0.6,1.4,1.25,1.3,8.2,4.8,4.1,4.1,4.0,4.2,4.4,3.9,4.2,4.2,4.4,4.7,4.55,4.7,4.8,5.0,5.0,5.0,5.25,5.25,5.5,5.9,5.9,6.0],"mode":"markers","marker":{},"name":"original","xaxis":"x","yaxis":"y"},{"type":"scatter","x":[0.54282595275101531,0.99838502816780728,7.8870167415062964,2.138651013299194,-0.44013833209878683,7.2149987226421937,0.92291895226711351,5.5980234526554229,1.5820841858080048,2.4456841562621685,6.1583229061022031,3.2127828687954612,6.5305567086350891,6.7072309839107236,-0.43113586554822314,4.8540729942517693,0.20730457567018656,7.0004430687522712,4.3630218476350509,2.4295178820982191,-0.0549999575386757,0.85339266003733161,6.4592002579286687,-0.37768483831439392,5.6456958490170983,3.9210578647074561,4.7644311588091917,7.0348557043517266,6.99940904239165,6.5525995003304436,4.2170155940656615,5.4093005161310073,5.1316755893322057,7.3942369970000508,-1.0899702294682945,6.6819145063785435,6.6523049742226972,-0.90656192833863281,7.162740815134133,4.8177803500172587,-0.33824226918548461,-1.1176279355388266,4.4244811901005363,7.2290121767805013,6.1692209287403239,5.2340511019500209,1.8499016448156451,6.3338315716170843,1.8901599149173871],"y":[1.8753380972777198,5.1248910936642851,2.6812900827644808,6.2511094396706248,1.6190341110895541,-1.0795738243402795,7.3063593675412033,2.8178949941033005,0.59590938682477379,-0.4718777389600306,-0.61031046216856266,3.0805384903124247,-0.19385156123612646,5.7416592866841967,-0.23746678411842681,3.8914798194037181,5.2617570682250676,4.16314719634277,-0.17299320934014117,2.2586511875310209,-1.4214898417803878,7.0609406721130661,-1.7790343372984951,4.1156558776812879,2.7837973170838297,1.2439890316892357,2.5156812201327088,-1.6170403825198489,5.50774346464674,6.2791562246992978,4.137253398698407,7.1975299906439751,1.4331890644660166,3.24110724038496,-0.6686810905899303,-0.87805436056948016,7.9677825277986845,5.550141043192772,4.0337476299301471,6.3290051174019482,0.63428688432755242,4.18645549443851,1.4084232585078209,5.1772019809005787,6.6988605592394528,6.888863681577547,3.9289794000931919,3.2587356603512236,1.2266397234642126],"mode":"markers","marker":{},"name":"uniform","xaxis":"x2","yaxis":"y2"},{"type":"scatter","x":[0.7246071475571001,0.78010056255975435,3.3277975280545649,2.1733374871313393,3.220425342783682,-0.7289996475955276,-0.970181114430924,-3.1699556270302556,1.8365726183911613,-0.26066048363592137,0.08777198005262532,-0.17539389511996117,0.54302153173732748,5.3781837764542768,1.7449908857397491,0.62531463228443473,2.364313049734982,-0.78798025357310986,3.2954987831119023,2.116231935657682,-2.4845365707173017,1.9570468429905929,2.2381571626430912,2.3907764890784646,1.972366010643064,3.7159519276794812,1.9777960217825743,2.5009779078177603,2.7700324698614165,3.2318614026686179,1.51191322028108,0.5204161113948006,5.1575460922560561,3.4830429181233842,6.9060479868869713,-0.99115287355189041,0.6186937762898348,-2.4487774924798087,-0.41440377068374745,0.90262289437559906,-1.6164639313871638,0.62285202050290889,2.8021423559089103,0.1640921229658252,2.8153979259645165,3.0114353197847556,0.925914207130943,0.011711000086484402,3.5708923133619566],"y":[4.1629571516178245,5.1751815814724988,3.3798349541337309,2.0054680365214441,4.4217390296565249,0.6370286938930847,2.94934104010681,1.0645122631235435,0.65960957897195027,-0.47665875852293038,2.6752767948730822,1.2170289022076692,-0.62430472582240781,6.9793033965905025,-0.014435999249266751,4.4505075865790111,4.03539284036393,0.699192106055265,2.0947358237132696,1.3554243488103941,2.4612741847124351,-0.63988905016888808,4.9048882637412472,1.1808858402138127,0.12086196724886322,1.3379043632384051,-1.0183530451024887,7.4339834450326272,7.3316993832921895,0.8547443876289591,5.1081558938574272,-0.2191888081945,5.8843870783692163,2.0492184082727518,4.3945531042479367,1.3745582168404027,-0.070951000401221542,1.5064559301852809,0.4321177924941223,-2.3696379955062437,-0.44455731554732547,4.0153698940591394,4.4301202419951142,0.048294422603063776,3.1366276882203814,7.59791946846621,0.21863461735999767,3.2210160686732303,4.3341188852040222],"mode":"markers","marker":{},"name":"uniform PCA","xaxis":"x3","yaxis":"y3"}];
    var layout = {"yaxis":{"title":"","range":[-2.5,9.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"x","domain":[0.050000000000000044,1.0]},"xaxis":{"title":"","range":[-4.0,10.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"y","domain":[0.0,0.28333333333333333]},"yaxis2":{"title":"","range":[-2.5,9.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"x2","domain":[0.050000000000000044,1.0]},"xaxis2":{"title":"","range":[-4.0,10.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"y2","domain":[0.33333333333333331,0.61666666666666659]},"yaxis3":{"title":"","range":[-2.5,9.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"x3","domain":[0.050000000000000044,1.0]},"xaxis3":{"title":"","range":[-4.0,10.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"y3","domain":[0.66666666666666663,0.95]},"width":800.0,"height":400.0};
    var config = {};
    Plotly.newPlot('8aaa6562-c8ae-4bed-bf57-6319eab38f55', data, layout, config);
  </script>
<p>The log(dispersionReference) should decrease with rising k, but - if clusters are presend in the data - should be greater than the log(dispersionOriginal).</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs214', 807)" onmouseover="showTip(event, 'fs214', 807)" class="id">GapStatistics</span>

<span class="c">//create gap statistics</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs219', 808)" onmouseover="showTip(event, 'fs219', 808)" class="id">gaps</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs214', 809)" onmouseover="showTip(event, 'fs214', 809)" class="m">GapStatistics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs220', 810)" onmouseover="showTip(event, 'fs220', 810)" class="id">calculate</span>
        <span class="pn">(</span><span onmouseout="hideTip(event, 'fs215', 811)" onmouseover="showTip(event, 'fs215', 811)" class="m">PointGenerators</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs217', 812)" onmouseover="showTip(event, 'fs217', 812)" class="id">generateUniformPointsPCA</span> <span onmouseout="hideTip(event, 'fs62', 813)" onmouseover="showTip(event, 'fs62', 813)" class="id">rnd</span><span class="pn">)</span>      <span class="c">//uniform point distribution</span>
        <span class="n">100</span><span class="c">// no gain above 500                                //number of bootstraps samples </span>
        <span onmouseout="hideTip(event, 'fs221', 814)" onmouseover="showTip(event, 'fs221', 814)" class="m">ClusterDispersionMetric</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs222', 815)" onmouseover="showTip(event, 'fs222', 815)" class="id">logDispersionKMeansInitRandom</span> <span class="c">//dispersion metric of clustering algorithm</span>
        <span class="n">10</span>                                                     <span class="c">//maximal number of allowed clusters</span>
        <span onmouseout="hideTip(event, 'fs212', 816)" onmouseover="showTip(event, 'fs212', 816)" class="id">gapStatisticsData</span>                                      <span class="c">//float [] [] data of coordinates</span>

<span class="c">//number of clusters        </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs223', 817)" onmouseover="showTip(event, 'fs223', 817)" class="id">k</span>        <span class="o">=</span> <span onmouseout="hideTip(event, 'fs219', 818)" onmouseover="showTip(event, 'fs219', 818)" class="id">gaps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 819)" onmouseover="showTip(event, 'fs172', 819)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 820)" onmouseover="showTip(event, 'fs97', 820)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs224', 821)" onmouseover="showTip(event, 'fs224', 821)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs224', 822)" onmouseover="showTip(event, 'fs224', 822)" class="id">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs225', 823)" onmouseover="showTip(event, 'fs225', 823)" class="id">ClusterIndex</span><span class="pn">)</span>
<span class="c">//log(dispersion) of the original data (with rising k)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs226', 824)" onmouseover="showTip(event, 'fs226', 824)" class="id">disp</span>     <span class="o">=</span> <span onmouseout="hideTip(event, 'fs219', 825)" onmouseover="showTip(event, 'fs219', 825)" class="id">gaps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 826)" onmouseover="showTip(event, 'fs172', 826)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 827)" onmouseover="showTip(event, 'fs97', 827)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs224', 828)" onmouseover="showTip(event, 'fs224', 828)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs224', 829)" onmouseover="showTip(event, 'fs224', 829)" class="id">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs227', 830)" onmouseover="showTip(event, 'fs227', 830)" class="id">Dispersion</span><span class="pn">)</span>
<span class="c">//log(dispersion) of the reference data (with rising k)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs228', 831)" onmouseover="showTip(event, 'fs228', 831)" class="id">dispRef</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs219', 832)" onmouseover="showTip(event, 'fs219', 832)" class="id">gaps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 833)" onmouseover="showTip(event, 'fs172', 833)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 834)" onmouseover="showTip(event, 'fs97', 834)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs224', 835)" onmouseover="showTip(event, 'fs224', 835)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs224', 836)" onmouseover="showTip(event, 'fs224', 836)" class="id">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs229', 837)" onmouseover="showTip(event, 'fs229', 837)" class="id">ReferenceDispersion</span><span class="pn">)</span>
<span class="c">//log(dispersionRef) - log(dispersionOriginal)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs230', 838)" onmouseover="showTip(event, 'fs230', 838)" class="id">gap</span>      <span class="o">=</span> <span onmouseout="hideTip(event, 'fs219', 839)" onmouseover="showTip(event, 'fs219', 839)" class="id">gaps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 840)" onmouseover="showTip(event, 'fs172', 840)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 841)" onmouseover="showTip(event, 'fs97', 841)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs224', 842)" onmouseover="showTip(event, 'fs224', 842)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs224', 843)" onmouseover="showTip(event, 'fs224', 843)" class="id">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs231', 844)" onmouseover="showTip(event, 'fs231', 844)" class="id">Gaps</span><span class="pn">)</span>
<span class="c">//standard deviation of reference data set dispersion</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs232', 845)" onmouseover="showTip(event, 'fs232', 845)" class="id">std</span>      <span class="o">=</span> <span onmouseout="hideTip(event, 'fs219', 846)" onmouseover="showTip(event, 'fs219', 846)" class="id">gaps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 847)" onmouseover="showTip(event, 'fs172', 847)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 848)" onmouseover="showTip(event, 'fs97', 848)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs224', 849)" onmouseover="showTip(event, 'fs224', 849)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs224', 850)" onmouseover="showTip(event, 'fs224', 850)" class="id">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs233', 851)" onmouseover="showTip(event, 'fs233', 851)" class="id">RefDispersionStDev</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs234', 852)" onmouseover="showTip(event, 'fs234', 852)" class="id">gapStatisticsChart</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs235', 853)" onmouseover="showTip(event, 'fs235', 853)" class="id">dispersions</span> <span class="o">=</span>
        <span class="pn">[</span>
        <span onmouseout="hideTip(event, 'fs56', 854)" onmouseover="showTip(event, 'fs56', 854)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 855)" onmouseover="showTip(event, 'fs182', 855)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs223', 856)" onmouseover="showTip(event, 'fs223', 856)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs226', 857)" onmouseover="showTip(event, 'fs226', 857)" class="id">disp</span><span class="pn">)</span>    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 858)" onmouseover="showTip(event, 'fs56', 858)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 859)" onmouseover="showTip(event, 'fs118', 859)" class="id">withTraceName</span> <span class="s">&quot;disp&quot;</span>
        <span onmouseout="hideTip(event, 'fs56', 860)" onmouseover="showTip(event, 'fs56', 860)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 861)" onmouseover="showTip(event, 'fs182', 861)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs223', 862)" onmouseover="showTip(event, 'fs223', 862)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs228', 863)" onmouseover="showTip(event, 'fs228', 863)" class="id">dispRef</span><span class="pn">)</span><span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 864)" onmouseover="showTip(event, 'fs56', 864)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 865)" onmouseover="showTip(event, 'fs118', 865)" class="id">withTraceName</span> <span class="s">&quot;dispRef&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 866)" onmouseover="showTip(event, 'fs56', 866)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs183', 867)" onmouseover="showTip(event, 'fs183', 867)" class="id">withYErrorStyle</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs232', 868)" onmouseover="showTip(event, 'fs232', 868)" class="id">std</span><span class="pn">)</span>
        <span class="pn">]</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 869)" onmouseover="showTip(event, 'fs56', 869)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 870)" onmouseover="showTip(event, 'fs119', 870)" class="id">Combine</span> 
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 871)" onmouseover="showTip(event, 'fs56', 871)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs127', 872)" onmouseover="showTip(event, 'fs127', 872)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 873)" onmouseover="showTip(event, 'fs15', 873)" class="fn">axisRange</span> <span class="s">&quot;&quot;</span> <span class="pn">(</span><span class="n">0.</span><span class="pn">,</span><span class="n">11.</span><span class="pn">)</span><span class="pn">)</span> 
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 874)" onmouseover="showTip(event, 'fs56', 874)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs128', 875)" onmouseover="showTip(event, 'fs128', 875)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 876)" onmouseover="showTip(event, 'fs5', 876)" class="fn">axis</span> <span class="s">&quot;log(disp)&quot;</span><span class="pn">)</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs236', 877)" onmouseover="showTip(event, 'fs236', 877)" class="id">gaps</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs56', 878)" onmouseover="showTip(event, 'fs56', 878)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 879)" onmouseover="showTip(event, 'fs182', 879)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs223', 880)" onmouseover="showTip(event, 'fs223', 880)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs230', 881)" onmouseover="showTip(event, 'fs230', 881)" class="id">gap</span><span class="pn">)</span><span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 882)" onmouseover="showTip(event, 'fs56', 882)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 883)" onmouseover="showTip(event, 'fs118', 883)" class="id">withTraceName</span> <span class="s">&quot;gaps&quot;</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 884)" onmouseover="showTip(event, 'fs56', 884)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs127', 885)" onmouseover="showTip(event, 'fs127', 885)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 886)" onmouseover="showTip(event, 'fs15', 886)" class="fn">axisRange</span> <span class="s">&quot;k&quot;</span> <span class="pn">(</span><span class="n">0.</span><span class="pn">,</span><span class="n">11.</span><span class="pn">)</span><span class="pn">)</span> 
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 887)" onmouseover="showTip(event, 'fs56', 887)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs128', 888)" onmouseover="showTip(event, 'fs128', 888)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 889)" onmouseover="showTip(event, 'fs5', 889)" class="fn">axis</span> <span class="s">&quot;gaps&quot;</span><span class="pn">)</span>
    <span class="pn">[</span><span onmouseout="hideTip(event, 'fs235', 890)" onmouseover="showTip(event, 'fs235', 890)" class="id">dispersions</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs236', 891)" onmouseover="showTip(event, 'fs236', 891)" class="id">gaps</span><span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 892)" onmouseover="showTip(event, 'fs56', 892)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs211', 893)" onmouseover="showTip(event, 'fs211', 893)" class="id">Stack</span> <span class="n">1</span>
</code></pre></td>
</tr>
</table>
<div id="ae1a498e-d872-4d55-8c68-5a10bdefa635" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10],"y":[6.582208710713414,4.5413495404494952,4.3535282855126,4.197307527480115,4.0012047533781,3.8745106734302612,3.7373842134136144,3.5251563685385978,3.213472668213273,2.6795176260775957],"mode":"lines","marker":{},"name":"disp","xaxis":"x","yaxis":"y"},{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10],"y":[6.3890394218072855,5.5294214661786123,5.2068388026929275,4.9121158410184123,4.6233881083337671,4.3367441676593081,4.2145730426591816,4.0405337545943407,3.8919284135200649,3.7592787249543473],"mode":"lines","marker":{},"name":"dispRef","error_y":{"array":[0.10453575028347793,0.11243333009696188,0.11900838452987401,0.12980479911563517,0.15036484214452536,0.16956164463056109,0.16415701605562028,0.16903542836784974,0.1774696636544548,0.1859645082867675]},"xaxis":"x","yaxis":"y"},{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10],"y":[-0.1931692889061285,0.98807192572911706,0.85331051718032747,0.71480831353829721,0.62218335495566723,0.46223349422904692,0.47718882924556727,0.5153773860557429,0.67845574530679187,1.0797610988767516],"mode":"lines","marker":{},"name":"gaps","xaxis":"x2","yaxis":"y2"}];
    var layout = {"yaxis":{"title":"log(disp)","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"x","domain":[0.55,1.0]},"xaxis":{"title":"","range":[0.0,11.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"y","domain":[0.0,0.95]},"yaxis2":{"title":"gaps","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"x2","domain":[0.050000000000000044,0.5]},"xaxis2":{"title":"k","range":[0.0,11.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"y2","domain":[0.0,0.95]}};
    var config = {};
    Plotly.newPlot('ae1a498e-d872-4d55-8c68-5a10bdefa635', data, layout, config);
  </script>
<p>The maximal gap points to the optimal cluster number with the following condition:</p>
<ul>
<li>kopt = smallest k such that Gap(k)&gt;= Gap(k+1)-sk+1</li>
<li>where sk = std * sqrt(1+1/bootstraps)</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//calculate s(k) out of std(k) and the number of performed iterations for the refernce data set</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs237', 894)" onmouseover="showTip(event, 'fs237', 894)" class="id">sK</span>   <span class="o">=</span> <span onmouseout="hideTip(event, 'fs232', 895)" onmouseover="showTip(event, 'fs232', 895)" class="id">std</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 896)" onmouseover="showTip(event, 'fs172', 896)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 897)" onmouseover="showTip(event, 'fs97', 897)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs238', 898)" onmouseover="showTip(event, 'fs238', 898)" class="id">sd</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs238', 899)" onmouseover="showTip(event, 'fs238', 899)" class="id">sd</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs239', 900)" onmouseover="showTip(event, 'fs239', 900)" class="fn">sqrt</span><span class="pn">(</span><span class="n">1.</span> <span class="o">+</span> <span class="n">1.</span><span class="o">/</span><span class="n">500.</span><span class="pn">)</span><span class="pn">)</span> <span class="c">//bootstraps = 500 </span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs240', 901)" onmouseover="showTip(event, 'fs240', 901)" class="id">gapChart</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs56', 902)" onmouseover="showTip(event, 'fs56', 902)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs182', 903)" onmouseover="showTip(event, 'fs182', 903)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs223', 904)" onmouseover="showTip(event, 'fs223', 904)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs230', 905)" onmouseover="showTip(event, 'fs230', 905)" class="id">gap</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 906)" onmouseover="showTip(event, 'fs56', 906)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs183', 907)" onmouseover="showTip(event, 'fs183', 907)" class="id">withYErrorStyle</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs237', 908)" onmouseover="showTip(event, 'fs237', 908)" class="id">sK</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 909)" onmouseover="showTip(event, 'fs56', 909)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs127', 910)" onmouseover="showTip(event, 'fs127', 910)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 911)" onmouseover="showTip(event, 'fs15', 911)" class="fn">axisRange</span> <span class="s">&quot;k&quot;</span> <span class="pn">(</span><span class="n">0.</span><span class="pn">,</span><span class="n">11.</span><span class="pn">)</span><span class="pn">)</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs56', 912)" onmouseover="showTip(event, 'fs56', 912)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs128', 913)" onmouseover="showTip(event, 'fs128', 913)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 914)" onmouseover="showTip(event, 'fs15', 914)" class="fn">axisRange</span> <span class="s">&quot;gap&quot;</span> <span class="pn">(</span><span class="o">-</span><span class="n">0.5</span><span class="pn">,</span><span class="n">2.</span><span class="pn">)</span><span class="pn">)</span> 
    
</code></pre></td>
</tr>
</table>
<div id="fd867635-6e0f-457b-8998-071680fa3898" style="width: 700px; height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
    var data = [{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10],"y":[-0.1931692889061285,0.98807192572911706,0.85331051718032747,0.71480831353829721,0.62218335495566723,0.46223349422904692,0.47718882924556727,0.5153773860557429,0.67845574530679187,1.0797610988767516],"mode":"lines","marker":{},"error_y":{"array":[0.1046402338180889,0.11254570726654028,0.11912733346964155,0.12993453907717264,0.1505151318793374,0.16973112157904433,0.16432109107514392,0.16920437936291563,0.17764704467190151,0.18615037990566632]}}];
    var layout = {"xaxis":{"title":"k","range":[0.0,11.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false},"yaxis":{"title":"gap","range":[-0.5,2.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false}};
    var config = {};
    Plotly.newPlot('fd867635-6e0f-457b-8998-071680fa3898', data, layout, config);
  </script>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//choose kOpt = smallest k such that Gap(k)&gt;= Gap(k+1)-sk+1, where sk = sdk * sqrt(1+1/bootstraps)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs241', 915)" onmouseover="showTip(event, 'fs241', 915)" class="id">kOpt</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs172', 916)" onmouseover="showTip(event, 'fs172', 916)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs242', 917)" onmouseover="showTip(event, 'fs242', 917)" class="id">init</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs230', 918)" onmouseover="showTip(event, 'fs230', 918)" class="id">gap</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs243', 919)" onmouseover="showTip(event, 'fs243', 919)" class="id">Length</span> <span class="o">-</span> <span class="n">2</span><span class="pn">)</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs46', 920)" onmouseover="showTip(event, 'fs46', 920)" class="id">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs230', 921)" onmouseover="showTip(event, 'fs230', 921)" class="id">gap</span><span class="m">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs46', 922)" onmouseover="showTip(event, 'fs46', 922)" class="id">i</span><span class="pn">]</span> <span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs230', 923)" onmouseover="showTip(event, 'fs230', 923)" class="id">gap</span><span class="m">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs46', 924)" onmouseover="showTip(event, 'fs46', 924)" class="id">i</span><span class="o">+</span><span class="n">1</span><span class="pn">]</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs237', 925)" onmouseover="showTip(event, 'fs237', 925)" class="id">sK</span><span class="m">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs46', 926)" onmouseover="showTip(event, 'fs46', 926)" class="id">i</span><span class="o">+</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs172', 927)" onmouseover="showTip(event, 'fs172', 927)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs244', 928)" onmouseover="showTip(event, 'fs244', 928)" class="id">findIndex</span> <span onmouseout="hideTip(event, 'fs245', 929)" onmouseover="showTip(event, 'fs245', 929)" class="fn">id</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs87', 930)" onmouseover="showTip(event, 'fs87', 930)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs49', 931)" onmouseover="showTip(event, 'fs49', 931)" class="fn">sprintf</span> <span class="s">&quot;The optimal cluster number is: </span><span class="pf">%i</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs87', 932)" onmouseover="showTip(event, 'fs87', 932)" class="id">x</span> <span class="o">+</span> <span class="n">1</span><span class="pn">)</span>
    
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>"The optimal cluster number is: 2"</code></pre></td></tr></table>

<div class="tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="tip" id="fs2">namespace FSharp.Plotly</div>
<div class="tip" id="fs3">namespace FSharp.Stats</div>
<div class="tip" id="fs4">namespace FSharpAux</div>
<div class="tip" id="fs5">val axis : title:&#39;a -&gt; Axis.LinearAxis</div>
<div class="tip" id="fs6">val title : &#39;a</div>
<div class="tip" id="fs7">module Axis<br /><br />from FSharp.Plotly</div>
<div class="tip" id="fs8">Multiple items<br />type LinearAxis =<br />&#160;&#160;inherit DynamicObj<br />&#160;&#160;new : unit -&gt; LinearAxis<br />&#160;&#160;static member init : ?AxisType:AxisType * ?Title:&#39;a * ?Titlefont:Font * ?Autorange:AutoRange * ?Rangemode:RangeMode * ?Range:Range * ?Fixedrange:&#39;b * ?Tickmode:TickMode * ?nTicks:&#39;c * ?Tick0:&#39;d * ?dTick:&#39;e * ?Tickvals:&#39;f * ?Ticktext:&#39;g * ?Ticks:TickOptions * ?Mirror:Mirror * ?Ticklen:&#39;h * ?Tickwidth:&#39;i * ?Tickcolor:&#39;j * ?Showticklabels:&#39;k * ?Tickfont:Font * ?Tickangle:&#39;l * ?Tickprefix:&#39;m * ?Showtickprefix:ShowTickOption * ?Ticksuffix:&#39;q * ?Showticksuffix:ShowTickOption * ?Showexponent:ShowExponent * ?Exponentformat:ExponentFormat * ?Tickformat:&#39;r * ?Hoverformat:&#39;s * ?Showline:&#39;t * ?Linecolor:&#39;a1 * ?Linewidth:&#39;a2 * ?Showgrid:&#39;a3 * ?Gridcolor:&#39;a4 * ?Gridwidth:&#39;a5 * ?Zeroline:&#39;a6 * ?Zerolinecolor:&#39;a7 * ?Zerolinewidth:&#39;a8 * ?Anchor:AxisAnchorId * ?Side:Side * ?Overlaying:AxisAnchorId * ?Domain:Range * ?Position:float * ?IsSubplotObj:&#39;a9 * ?Tickvalssrc:&#39;a10 * ?Ticktextsrc:&#39;a11 * ?Showspikes:&#39;a12 * ?Spikesides:&#39;a13 * ?Spikethickness:&#39;a14 * ?Spikecolor:&#39;a15 * ?Showbackground:&#39;a16 * ?Backgroundcolor:&#39;a17 * ?Showaxeslabels:&#39;a18 -&gt; LinearAxis<br />&#160;&#160;static member style : ?AxisType:AxisType * ?Title:&#39;b * ?Titlefont:Font * ?Autorange:AutoRange * ?Rangemode:RangeMode * ?Range:Range * ?Fixedrange:&#39;c * ?Tickmode:TickMode * ?nTicks:&#39;d * ?Tick0:&#39;e * ?dTick:&#39;f * ?Tickvals:&#39;g * ?Ticktext:&#39;h * ?Ticks:TickOptions * ?Mirror:Mirror * ?Ticklen:&#39;i * ?Tickwidth:&#39;j * ?Tickcolor:&#39;k * ?Showticklabels:&#39;l * ?Tickfont:Font * ?Tickangle:&#39;m * ?Tickprefix:&#39;n * ?Showtickprefix:ShowTickOption * ?Ticksuffix:&#39;o * ?Showticksuffix:ShowTickOption * ?Showexponent:ShowExponent * ?Exponentformat:ExponentFormat * ?Tickformat:&#39;p * ?Hoverformat:&#39;q * ?Showline:&#39;r * ?Linecolor:&#39;s * ?Linewidth:&#39;t * ?Showgrid:&#39;a1 * ?Gridcolor:&#39;a2 * ?Gridwidth:&#39;a3 * ?Zeroline:&#39;a4 * ?Zerolinecolor:&#39;a5 * ?Zerolinewidth:&#39;a6 * ?Anchor:AxisAnchorId * ?Side:Side * ?Overlaying:AxisAnchorId * ?Domain:Range * ?Position:float * ?IsSubplotObj:&#39;a7 * ?Tickvalssrc:&#39;a8 * ?Ticktextsrc:&#39;a9 * ?Showspikes:&#39;a10 * ?Spikesides:&#39;a11 * ?Spikethickness:&#39;a12 * ?Spikecolor:&#39;a13 * ?Showbackground:&#39;a14 * ?Backgroundcolor:&#39;a15 * ?Showaxeslabels:&#39;a16 -&gt; (LinearAxis -&gt; LinearAxis)<br /><br />--------------------<br />new : unit -&gt; Axis.LinearAxis</div>
<div class="tip" id="fs9">static member Axis.LinearAxis.init : ?AxisType:StyleParam.AxisType * ?Title:&#39;a * ?Titlefont:Font * ?Autorange:StyleParam.AutoRange * ?Rangemode:StyleParam.RangeMode * ?Range:StyleParam.Range * ?Fixedrange:&#39;b * ?Tickmode:StyleParam.TickMode * ?nTicks:&#39;c * ?Tick0:&#39;d * ?dTick:&#39;e * ?Tickvals:&#39;f * ?Ticktext:&#39;g * ?Ticks:StyleParam.TickOptions * ?Mirror:StyleParam.Mirror * ?Ticklen:&#39;h * ?Tickwidth:&#39;i * ?Tickcolor:&#39;j * ?Showticklabels:&#39;k * ?Tickfont:Font * ?Tickangle:&#39;l * ?Tickprefix:&#39;m * ?Showtickprefix:StyleParam.ShowTickOption * ?Ticksuffix:&#39;q * ?Showticksuffix:StyleParam.ShowTickOption * ?Showexponent:StyleParam.ShowExponent * ?Exponentformat:StyleParam.ExponentFormat * ?Tickformat:&#39;r * ?Hoverformat:&#39;s * ?Showline:&#39;t * ?Linecolor:&#39;a1 * ?Linewidth:&#39;a2 * ?Showgrid:&#39;a3 * ?Gridcolor:&#39;a4 * ?Gridwidth:&#39;a5 * ?Zeroline:&#39;a6 * ?Zerolinecolor:&#39;a7 * ?Zerolinewidth:&#39;a8 * ?Anchor:StyleParam.AxisAnchorId * ?Side:StyleParam.Side * ?Overlaying:StyleParam.AxisAnchorId * ?Domain:StyleParam.Range * ?Position:float * ?IsSubplotObj:&#39;a9 * ?Tickvalssrc:&#39;a10 * ?Ticktextsrc:&#39;a11 * ?Showspikes:&#39;a12 * ?Spikesides:&#39;a13 * ?Spikethickness:&#39;a14 * ?Spikecolor:&#39;a15 * ?Showbackground:&#39;a16 * ?Backgroundcolor:&#39;a17 * ?Showaxeslabels:&#39;a18 -&gt; Axis.LinearAxis</div>
<div class="tip" id="fs10">module StyleParam<br /><br />from FSharp.Plotly</div>
<div class="tip" id="fs11">type Mirror =<br />&#160;&#160;| True<br />&#160;&#160;| Ticks<br />&#160;&#160;| False<br />&#160;&#160;| All<br />&#160;&#160;| AllTicks<br />&#160;&#160;&#160;&#160;static member convert : (Mirror -&gt; obj)<br />&#160;&#160;&#160;&#160;static member toString : (Mirror -&gt; string)</div>
<div class="tip" id="fs12">union case StyleParam.Mirror.All: StyleParam.Mirror</div>
<div class="tip" id="fs13">type TickOptions =<br />&#160;&#160;| Outside<br />&#160;&#160;| Inside<br />&#160;&#160;| Empty<br />&#160;&#160;&#160;&#160;static member convert : (TickOptions -&gt; obj)<br />&#160;&#160;&#160;&#160;static member toString : (TickOptions -&gt; string)</div>
<div class="tip" id="fs14">union case StyleParam.TickOptions.Inside: StyleParam.TickOptions</div>
<div class="tip" id="fs15">val axisRange : title:&#39;a -&gt; float * float -&gt; Axis.LinearAxis</div>
<div class="tip" id="fs16">val range : float * float</div>
<div class="tip" id="fs17">type Range =<br />&#160;&#160;| MinMax of float * float<br />&#160;&#160;| Values of float array<br />&#160;&#160;&#160;&#160;static member convert : (Range -&gt; obj)</div>
<div class="tip" id="fs18">union case StyleParam.Range.MinMax: float * float -&gt; StyleParam.Range</div>
<div class="tip" id="fs19">val fromFileWithSep : separator:char -&gt; filePath:string -&gt; seq&lt;string []&gt;</div>
<div class="tip" id="fs20">val separator : char</div>
<div class="tip" id="fs21">Multiple items<br />val char : value:&#39;T -&gt; char (requires member op_Explicit)<br /><br />--------------------<br />type char = System.Char</div>
<div class="tip" id="fs22">val filePath : string</div>
<div class="tip" id="fs23">Multiple items<br />val seq : sequence:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />--------------------<br />type seq&lt;&#39;T&gt; = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;</div>
<div class="tip" id="fs24">val sr : System.IO.StreamReader</div>
<div class="tip" id="fs25">namespace System</div>
<div class="tip" id="fs26">namespace System.IO</div>
<div class="tip" id="fs27">type File =<br />&#160;&#160;static member AppendAllLines : path:string * contents:IEnumerable&lt;string&gt; -&gt; unit + 1 overload<br />&#160;&#160;static member AppendAllText : path:string * contents:string -&gt; unit + 1 overload<br />&#160;&#160;static member AppendText : path:string -&gt; StreamWriter<br />&#160;&#160;static member Copy : sourceFileName:string * destFileName:string -&gt; unit + 1 overload<br />&#160;&#160;static member Create : path:string -&gt; FileStream + 3 overloads<br />&#160;&#160;static member CreateText : path:string -&gt; StreamWriter<br />&#160;&#160;static member Decrypt : path:string -&gt; unit<br />&#160;&#160;static member Delete : path:string -&gt; unit<br />&#160;&#160;static member Encrypt : path:string -&gt; unit<br />&#160;&#160;static member Exists : path:string -&gt; bool<br />&#160;&#160;...</div>
<div class="tip" id="fs28">System.IO.File.OpenText(path: string) : System.IO.StreamReader</div>
<div class="tip" id="fs29">val not : value:bool -&gt; bool</div>
<div class="tip" id="fs30">property System.IO.StreamReader.EndOfStream: bool</div>
<div class="tip" id="fs31">val line : string</div>
<div class="tip" id="fs32">System.IO.StreamReader.ReadLine() : string</div>
<div class="tip" id="fs33">val words : string []</div>
<div class="tip" id="fs34">System.String.Split([&lt;System.ParamArray&gt;] separator: char []) : string []<br />System.String.Split(separator: string [], options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], count: int) : string []<br />System.String.Split(separator: string [], count: int, options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], count: int, options: System.StringSplitOptions) : string []</div>
<div class="tip" id="fs35">val lables : string []</div>
<div class="tip" id="fs36">val data : float [] []</div>
<div class="tip" id="fs37">Multiple items<br />module Seq<br /><br />from FSharp.Plotly<br /><br />--------------------<br />module Seq<br /><br />from FSharp.Stats<br /><br />--------------------<br />module Seq<br /><br />from FSharpAux<br /><br />--------------------<br />module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs38">val skip : count:int -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;</div>
<div class="tip" id="fs39">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;</div>
<div class="tip" id="fs40">val arr : string []</div>
<div class="tip" id="fs41">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />--------------------<br />type float = System.Double<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float</div>
<div class="tip" id="fs42">val toArray : source:seq&lt;&#39;T&gt; -&gt; &#39;T []</div>
<div class="tip" id="fs43">Multiple items<br />module Array<br /><br />from FSharp.Stats<br /><br />--------------------<br />module Array<br /><br />from FSharpAux<br /><br />--------------------<br />module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs44">Multiple items<br />val shuffleFisherYates : arr:&#39;b [] -&gt; &#39;b []<br /><br />--------------------<br />val shuffleFisherYates : rnd:System.Random -&gt; arr:&#39;a [] -&gt; &#39;a []</div>
<div class="tip" id="fs45">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []</div>
<div class="tip" id="fs46">val i : int</div>
<div class="tip" id="fs47">val lable : string</div>
<div class="tip" id="fs48">val data : float []</div>
<div class="tip" id="fs49">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs50">val unzip : array:(&#39;T1 * &#39;T2) [] -&gt; &#39;T1 [] * &#39;T2 []</div>
<div class="tip" id="fs51">val colnames : string list</div>
<div class="tip" id="fs52">val colorscaleValue : StyleParam.Colorscale</div>
<div class="tip" id="fs53">type Colorscale =<br />&#160;&#160;| Custom of seq&lt;float * string&gt;<br />&#160;&#160;| RdBu<br />&#160;&#160;| Earth<br />&#160;&#160;| Blackbody<br />&#160;&#160;| YIOrRd<br />&#160;&#160;| YIGnBu<br />&#160;&#160;| Bluered<br />&#160;&#160;| Portland<br />&#160;&#160;| Electric<br />&#160;&#160;| Jet<br />&#160;&#160;...<br />&#160;&#160;&#160;&#160;static member convert : (Colorscale -&gt; obj)</div>
<div class="tip" id="fs54">union case StyleParam.Colorscale.Electric: StyleParam.Colorscale</div>
<div class="tip" id="fs55">val dataChart : GenericChart.GenericChart</div>
<div class="tip" id="fs56">type Chart =<br />&#160;&#160;static member Area : xy:seq&lt;#IConvertible * #IConvertible&gt; * ?Name:string * ?ShowMarkers:bool * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:&#39;a2 * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Dash:DrawingStyle * ?Width:&#39;a4 -&gt; GenericChart<br />&#160;&#160;static member Area : x:seq&lt;#IConvertible&gt; * y:seq&lt;#IConvertible&gt; * ?Name:string * ?ShowMarkers:bool * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:&#39;a2 * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Dash:DrawingStyle * ?Width:&#39;a4 -&gt; GenericChart<br />&#160;&#160;static member Bar : keysvalues:seq&lt;#IConvertible * #IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Color:&#39;a2 * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Marker:Marker -&gt; GenericChart<br />&#160;&#160;static member Bar : keys:seq&lt;#IConvertible&gt; * values:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Color:&#39;a2 * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Marker:Marker -&gt; GenericChart<br />&#160;&#160;static member BoxPlot : xy:seq&lt;&#39;a0 * &#39;a1&gt; * ?Name:string * ?Showlegend:bool * ?Color:&#39;a2 * ?Fillcolor:&#39;a3 * ?Opacity:float * ?Whiskerwidth:&#39;a4 * ?Boxpoints:Boxpoints * ?Boxmean:BoxMean * ?Jitter:&#39;a5 * ?Pointpos:&#39;a6 * ?Orientation:Orientation -&gt; GenericChart<br />&#160;&#160;static member BoxPlot : ?x:&#39;a0 * ?y:&#39;a1 * ?Name:string * ?Showlegend:bool * ?Color:&#39;a2 * ?Fillcolor:&#39;a3 * ?Opacity:float * ?Whiskerwidth:&#39;a4 * ?Boxpoints:Boxpoints * ?Boxmean:BoxMean * ?Jitter:&#39;a5 * ?Pointpos:&#39;a6 * ?Orientation:Orientation -&gt; GenericChart<br />&#160;&#160;static member Bubble : xysizes:seq&lt;#IConvertible * #IConvertible * #IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:&#39;a3 * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font -&gt; GenericChart<br />&#160;&#160;static member Bubble : x:seq&lt;#IConvertible&gt; * y:seq&lt;#IConvertible&gt; * sizes:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:&#39;a3 * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font -&gt; GenericChart<br />&#160;&#160;static member ChoroplethMap : locations:seq&lt;string&gt; * z:seq&lt;#IConvertible&gt; * ?Text:seq&lt;#IConvertible&gt; * ?Locationmode:LocationFormat * ?Autocolorscale:bool * ?Colorscale:Colorscale * ?Colorbar:&#39;a2 * ?Marker:Marker * ?Zmin:&#39;a3 * ?Zmax:&#39;a4 -&gt; GenericChart<br />&#160;&#160;static member Column : keysvalues:seq&lt;#IConvertible * #IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Color:&#39;a2 * ?Opacity:float * ?Labels:seq&lt;#IConvertible&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Marker:Marker -&gt; GenericChart<br />&#160;&#160;...</div>
<div class="tip" id="fs57">static member Chart.Heatmap : data:seq&lt;#seq&lt;&#39;b&gt;&gt; * ?ColNames:seq&lt;#System.IConvertible&gt; * ?RowNames:seq&lt;#System.IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Opacity:float * ?Colorscale:StyleParam.Colorscale * ?Showscale:&#39;e * ?Xgap:&#39;f * ?Ygap:&#39;g * ?zSmooth:StyleParam.SmoothAlg * ?Colorbar:&#39;h -&gt; GenericChart.GenericChart (requires &#39;b :&gt; System.IConvertible)</div>
<div class="tip" id="fs58">static member Chart.withMarginSize : ?Left:&#39;a * ?Right:&#39;b * ?Top:&#39;c * ?Bottom:&#39;d * ?Pad:&#39;e * ?Autoexpand:&#39;f -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="tip" id="fs59">static member Chart.withTitle : title:string * ?Titlefont:Font -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="tip" id="fs60">namespace FSharp.Stats.ML</div>
<div class="tip" id="fs61">namespace FSharp.Stats.ML.Unsupervised</div>
<div class="tip" id="fs62">val rnd : System.Random</div>
<div class="tip" id="fs63">Multiple items<br />type Random =<br />&#160;&#160;new : unit -&gt; Random + 1 overload<br />&#160;&#160;member Next : unit -&gt; int + 2 overloads<br />&#160;&#160;member NextBytes : buffer:byte[] -&gt; unit<br />&#160;&#160;member NextDouble : unit -&gt; float<br /><br />--------------------<br />System.Random() : System.Random<br />System.Random(Seed: int) : System.Random</div>
<div class="tip" id="fs64">val randomInitFactory : IterativeClustering.CentroidsFactory&lt;float []&gt;</div>
<div class="tip" id="fs65">module IterativeClustering<br /><br />from FSharp.Stats.ML.Unsupervised</div>
<div class="tip" id="fs66">type CentroidsFactory&lt;&#39;a&gt; = &#39;a array -&gt; int -&gt; &#39;a array</div>
<div class="tip" id="fs67">val randomCentroids : rng:System.Random -&gt; sample:&#39;a array -&gt; k:int -&gt; &#39;a []</div>
<div class="tip" id="fs68">val kmeansResult : IterativeClustering.KClusteringResult&lt;float []&gt;</div>
<div class="tip" id="fs69">val kmeans : dist:DistanceMetrics.Distance&lt;float []&gt; -&gt; factory:IterativeClustering.CentroidsFactory&lt;float []&gt; -&gt; dataset:float [] array -&gt; k:int -&gt; IterativeClustering.KClusteringResult&lt;float []&gt;</div>
<div class="tip" id="fs70">module DistanceMetrics<br /><br />from FSharp.Stats.ML</div>
<div class="tip" id="fs71">val euclidean : s1:seq&lt;&#39;a&gt; -&gt; s2:seq&lt;&#39;a&gt; -&gt; &#39;c (requires member ( - ) and member get_Zero and member ( + ) and member Sqrt and member ( * ))</div>
<div class="tip" id="fs72">val clusteredIrisData : GenericChart.GenericChart</div>
<div class="tip" id="fs73">val zip : array1:&#39;T1 [] -&gt; array2:&#39;T2 [] -&gt; (&#39;T1 * &#39;T2) []</div>
<div class="tip" id="fs74">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; array:&#39;T [] -&gt; &#39;T [] (requires comparison)</div>
<div class="tip" id="fs75">val l : string</div>
<div class="tip" id="fs76">val dataPoint : float []</div>
<div class="tip" id="fs77">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1</div>
<div class="tip" id="fs78">IterativeClustering.KClusteringResult.Classifier: float [] -&gt; int * float []</div>
<div class="tip" id="fs79">val labels : string []</div>
<div class="tip" id="fs80">val d : float [] []</div>
<div class="tip" id="fs81">val getBestkMeansClustering : data:float [] array -&gt; k:int -&gt; bootstraps:int -&gt; IterativeClustering.KClusteringResult&lt;float []&gt;</div>
<div class="tip" id="fs82">val data : float [] array</div>
<div class="tip" id="fs83">val k : int</div>
<div class="tip" id="fs84">val bootstraps : int</div>
<div class="tip" id="fs85">Multiple items<br />module List<br /><br />from FSharp.Stats<br /><br />--------------------<br />module List<br /><br />from FSharpAux<br /><br />--------------------<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;&#160;&#160;interface IReadOnlyList&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IEnumerable<br />&#160;&#160;&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;&#160;&#160;member Head : &#39;T<br />&#160;&#160;&#160;&#160;member IsEmpty : bool<br />&#160;&#160;&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;&#160;&#160;member Length : int<br />&#160;&#160;&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;&#160;&#160;...</div>
<div class="tip" id="fs86">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list</div>
<div class="tip" id="fs87">val x : int</div>
<div class="tip" id="fs88">val minBy : projection:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;T (requires comparison)</div>
<div class="tip" id="fs89">val clusteringResult : IterativeClustering.KClusteringResult&lt;float []&gt;</div>
<div class="tip" id="fs90">val DispersionOfClusterResult : kmeansResult:IterativeClustering.KClusteringResult&lt;&#39;a&gt; -&gt; float</div>
<div class="tip" id="fs91">val t : DbScan.DbscanResult&lt;float array&gt;</div>
<div class="tip" id="fs92">module DbScan<br /><br />from FSharp.Stats.ML.Unsupervised</div>
<div class="tip" id="fs93">val compute : dfu:(&#39;a array -&gt; &#39;a array -&gt; float) -&gt; minPts:int -&gt; eps:float -&gt; input:seq&lt;#seq&lt;&#39;a&gt;&gt; -&gt; DbScan.DbscanResult&lt;&#39;a array&gt;</div>
<div class="tip" id="fs94">module Array<br /><br />from FSharp.Stats.ML.DistanceMetrics</div>
<div class="tip" id="fs95">val euclideanNaN : a1:float array -&gt; a2:float array -&gt; float</div>
<div class="tip" id="fs96">val petLpetW : float [] []</div>
<div class="tip" id="fs97">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []</div>
<div class="tip" id="fs98">val x : float []</div>
<div class="tip" id="fs99">val petWpetLsepL : float [] []</div>
<div class="tip" id="fs100">val create2dChart : dfu:(&#39;a array -&gt; &#39;a array -&gt; float) -&gt; minPts:int -&gt; eps:float -&gt; input:seq&lt;#seq&lt;&#39;a&gt;&gt; -&gt; GenericChart.GenericChart (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="tip" id="fs101">val dfu : (&#39;a array -&gt; &#39;a array -&gt; float) (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="tip" id="fs102">type &#39;T array = &#39;T []</div>
<div class="tip" id="fs103">val minPts : int</div>
<div class="tip" id="fs104">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />--------------------<br />type int = int32<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int</div>
<div class="tip" id="fs105">val eps : float</div>
<div class="tip" id="fs106">val input : seq&lt;#seq&lt;&#39;a0&gt;&gt; (requires equality and &#39;a0 :&gt; System.IConvertible)</div>
<div class="tip" id="fs107">val head : source:seq&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs108">val length : source:seq&lt;&#39;T&gt; -&gt; int</div>
<div class="tip" id="fs109">val failwithf : format:Printf.StringFormat&lt;&#39;T,&#39;Result&gt; -&gt; &#39;T</div>
<div class="tip" id="fs110">val result : DbScan.DbscanResult&lt;&#39;a array&gt; (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="tip" id="fs111">val chartCluster : GenericChart.GenericChart</div>
<div class="tip" id="fs112">DbScan.DbscanResult.Clusterlist: seq&lt;seq&lt;&#39;a array&gt;&gt;</div>
<div class="tip" id="fs113">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;</div>
<div class="tip" id="fs114">val l : seq&lt;&#39;a array&gt; (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="tip" id="fs115">val x : &#39;a array (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="tip" id="fs116">val distinct : source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires equality)</div>
<div class="tip" id="fs117">static member Chart.Point : xy:seq&lt;#System.IConvertible * #System.IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:&#39;d * ?Opacity:float * ?Labels:seq&lt;#System.IConvertible&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font -&gt; GenericChart.GenericChart<br />static member Chart.Point : x:seq&lt;#System.IConvertible&gt; * y:seq&lt;#System.IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:&#39;a2 * ?Opacity:float * ?Labels:seq&lt;#System.IConvertible&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font -&gt; GenericChart.GenericChart</div>
<div class="tip" id="fs118">static member Chart.withTraceName : ?Name:string * ?Showlegend:bool * ?Legendgroup:string * ?Visible:StyleParam.Visible -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="tip" id="fs119">static member Chart.Combine : gCharts:seq&lt;GenericChart.GenericChart&gt; -&gt; GenericChart.GenericChart</div>
<div class="tip" id="fs120">val chartNoise : GenericChart.GenericChart</div>
<div class="tip" id="fs121">DbScan.DbscanResult.Noisepoints: seq&lt;&#39;a array&gt;</div>
<div class="tip" id="fs122">val chartname : string</div>
<div class="tip" id="fs123">val noiseCount : int</div>
<div class="tip" id="fs124">val clusterCount : int</div>
<div class="tip" id="fs125">val clPtsCount : int</div>
<div class="tip" id="fs126">val sumBy : projection:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; &#39;U (requires member ( + ) and member get_Zero)</div>
<div class="tip" id="fs127">static member Chart.withX_Axis : xAxis:Axis.LinearAxis * ?Id:int -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="tip" id="fs128">static member Chart.withY_Axis : yAxis:Axis.LinearAxis * ?Id:int -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="tip" id="fs129">val clusteredChart : GenericChart.GenericChart</div>
<div class="tip" id="fs130">val euclidean : a1:&#39;a array -&gt; a2:&#39;a array -&gt; float (requires member get_Zero and member ( - ) and member ( + ) and member op_Explicit and member ( * ))</div>
<div class="tip" id="fs131">val create3dChart : dfu:(&#39;a array -&gt; &#39;a array -&gt; float) -&gt; minPts:int -&gt; eps:float -&gt; input:seq&lt;#seq&lt;&#39;a&gt;&gt; -&gt; GenericChart.GenericChart (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="tip" id="fs132">val x : seq&lt;&#39;a * &#39;a * &#39;a&gt; (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="tip" id="fs133">static member Chart.Scatter3d : xyz:seq&lt;#System.IConvertible * #System.IConvertible * #System.IConvertible&gt; * mode:StyleParam.Mode * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:&#39;e * ?Opacity:float * ?Labels:seq&lt;#System.IConvertible&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font * ?Dash:StyleParam.DrawingStyle * ?Width:&#39;g -&gt; GenericChart.GenericChart<br />static member Chart.Scatter3d : x:seq&lt;#System.IConvertible&gt; * y:seq&lt;#System.IConvertible&gt; * z:seq&lt;#System.IConvertible&gt; * mode:StyleParam.Mode * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:&#39;a3 * ?Opacity:float * ?Labels:seq&lt;#System.IConvertible&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font * ?Dash:StyleParam.DrawingStyle * ?Width:&#39;a5 -&gt; GenericChart.GenericChart</div>
<div class="tip" id="fs134">type Mode =<br />&#160;&#160;| None<br />&#160;&#160;| Lines<br />&#160;&#160;| Lines_Markers<br />&#160;&#160;| Lines_Text<br />&#160;&#160;| Lines_Markers_Text<br />&#160;&#160;| Markers<br />&#160;&#160;| Markers_Text<br />&#160;&#160;| Text<br />&#160;&#160;&#160;&#160;static member convert : (Mode -&gt; obj)<br />&#160;&#160;&#160;&#160;static member toString : (Mode -&gt; string)</div>
<div class="tip" id="fs135">union case StyleParam.Mode.Markers: StyleParam.Mode</div>
<div class="tip" id="fs136">static member Chart.withZ_Axis : zAxis:Axis.LinearAxis -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="tip" id="fs137">val clusteredChart3D : GenericChart.GenericChart</div>
<div class="tip" id="fs138">val euclideanNaNSquared : a1:float array -&gt; a2:float array -&gt; float</div>
<div class="tip" id="fs139">module HierarchicalClustering<br /><br />from FSharp.Stats.ML.Unsupervised</div>
<div class="tip" id="fs140">val clusterResultH : Cluster&lt;float []&gt;</div>
<div class="tip" id="fs141">val generate : distance:DistanceMetrics.Distance&lt;&#39;T&gt; -&gt; linker:Linker.LancWilliamsLinker -&gt; data:seq&lt;&#39;T&gt; -&gt; Cluster&lt;&#39;T&gt;</div>
<div class="tip" id="fs142">module Linker<br /><br />from FSharp.Stats.ML.Unsupervised.HierarchicalClustering</div>
<div class="tip" id="fs143">val wardLwLinker : int * int * int -&gt; dAB:float -&gt; dAC:float -&gt; dBC:float -&gt; float</div>
<div class="tip" id="fs144">val threeClustersH : Cluster&lt;float []&gt; list list</div>
<div class="tip" id="fs145">val cutHClust : desiredNumber:int -&gt; clusterTree:Cluster&lt;&#39;T&gt; -&gt; Cluster&lt;&#39;T&gt; list list</div>
<div class="tip" id="fs146">val inspectThreeClusters : string * string list list</div>
<div class="tip" id="fs147">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list</div>
<div class="tip" id="fs148">val cluster : Cluster&lt;float []&gt; list</div>
<div class="tip" id="fs149">val leaf : Cluster&lt;float []&gt;</div>
<div class="tip" id="fs150">val getClusterId : c:Cluster&lt;&#39;T&gt; -&gt; int</div>
<div class="tip" id="fs151">val clusteredLabels : string list list</div>
<div class="tip" id="fs152">property List.Length: int</div>
<div class="tip" id="fs153">val hLeaves : Cluster&lt;float []&gt; list</div>
<div class="tip" id="fs154">val flattenHClust : clusterTree:Cluster&lt;&#39;T&gt; -&gt; Cluster&lt;&#39;T&gt; list</div>
<div class="tip" id="fs155">val dataSortedByClustering : seq&lt;string * float []&gt;</div>
<div class="tip" id="fs156">val choose : chooser:(&#39;T -&gt; &#39;U option) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;</div>
<div class="tip" id="fs157">val c : Cluster&lt;float []&gt;</div>
<div class="tip" id="fs158">val values : float [] option</div>
<div class="tip" id="fs159">val tryGetLeafValue : c:Cluster&lt;&#39;T&gt; -&gt; &#39;T option</div>
<div class="tip" id="fs160">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs161">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs162">val hierClusteredDataHeatmap : GenericChart.GenericChart</div>
<div class="tip" id="fs163">val hlable : seq&lt;string&gt;</div>
<div class="tip" id="fs164">val hdata : seq&lt;float []&gt;</div>
<div class="tip" id="fs165">Multiple items<br />val unzip : input:seq&lt;&#39;a * &#39;b&gt; -&gt; seq&lt;&#39;a&gt; * seq&lt;&#39;b&gt;<br /><br />--------------------<br />val unzip : input:seq&lt;&#39;a * &#39;b&gt; -&gt; seq&lt;&#39;a&gt; * seq&lt;&#39;b&gt;</div>
<div class="tip" id="fs166">val ruleOfThumb : float</div>
<div class="tip" id="fs167">module ClusterNumber<br /><br />from FSharp.Stats.ML.Unsupervised</div>
<div class="tip" id="fs168">val kRuleOfThumb : observations:seq&lt;&#39;a&gt; -&gt; float</div>
<div class="tip" id="fs169">val kElbow : int</div>
<div class="tip" id="fs170">val iterations : int</div>
<div class="tip" id="fs171">val dispersionOfK : (int * float * float) []</div>
<div class="tip" id="fs172">Multiple items<br />module Array<br /><br />from FSharp.Stats.ML.DistanceMetrics<br /><br />--------------------<br />module Array<br /><br />from FSharp.Stats<br /><br />--------------------<br />module Array<br /><br />from FSharpAux<br /><br />--------------------<br />module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs173">val dispersion : float</div>
<div class="tip" id="fs174">val std : float</div>
<div class="tip" id="fs175">val kmeans : dist:Distance&lt;float []&gt; -&gt; factory:CentroidsFactory&lt;float []&gt; -&gt; dataset:float [] array -&gt; k:int -&gt; KClusteringResult&lt;float []&gt;</div>
<div class="tip" id="fs176">val euclideanNaNSquared : s1:seq&lt;float&gt; -&gt; s2:seq&lt;float&gt; -&gt; float</div>
<div class="tip" id="fs177">val DispersionOfClusterResult : kmeansResult:KClusteringResult&lt;&#39;a&gt; -&gt; float</div>
<div class="tip" id="fs178">val dispersions : float []</div>
<div class="tip" id="fs179">val mean : items:seq&lt;&#39;T&gt; -&gt; &#39;U (requires member ( + ) and member get_Zero and member DivideByInt and member ( / ))</div>
<div class="tip" id="fs180">val stDev : items:seq&lt;&#39;T&gt; -&gt; &#39;U (requires member ( - ) and member get_Zero and member DivideByInt and member ( + ) and member ( * ) and member ( + ) and member ( / ) and member Sqrt)</div>
<div class="tip" id="fs181">val elbowChart : GenericChart.GenericChart</div>
<div class="tip" id="fs182">static member Chart.Line : xy:seq&lt;#System.IConvertible * #System.IConvertible&gt; * ?Name:string * ?ShowMarkers:bool * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:&#39;c * ?Opacity:float * ?Labels:seq&lt;#System.IConvertible&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font * ?Dash:&#39;e * ?Width:&#39;f -&gt; GenericChart.GenericChart<br />static member Chart.Line : x:seq&lt;#System.IConvertible&gt; * y:seq&lt;#System.IConvertible&gt; * ?Name:string * ?ShowMarkers:bool * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:&#39;c * ?Opacity:float * ?Labels:seq&lt;#System.IConvertible&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font * ?Dash:&#39;e * ?Width:&#39;f -&gt; GenericChart.GenericChart</div>
<div class="tip" id="fs183">static member Chart.withYErrorStyle : ?Array:&#39;a * ?Arrayminus:&#39;b * ?Symmetric:&#39;c * ?Color:&#39;d * ?Thickness:&#39;e * ?Width:&#39;f -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="tip" id="fs184">val aicBootstraps : int</div>
<div class="tip" id="fs185">val aicK : int []</div>
<div class="tip" id="fs186">val aicMeans : float []</div>
<div class="tip" id="fs187">val aicStd : float []</div>
<div class="tip" id="fs188">val aic : (int * float) [] []</div>
<div class="tip" id="fs189">val b : int</div>
<div class="tip" id="fs190">val calcAIC : bootstraps:int -&gt; iClustering:(int -&gt; KClusteringResult&lt;float []&gt;) -&gt; maxK:int -&gt; (int * float) []</div>
<div class="tip" id="fs191">val iteration : (int * float) []</div>
<div class="tip" id="fs192">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2</div>
<div class="tip" id="fs193">Multiple items<br />module JaggedArray<br /><br />from FSharp.Stats<br /><br />--------------------<br />module JaggedArray<br /><br />from FSharpAux</div>
<div class="tip" id="fs194">Multiple items<br />val transpose : arr:&#39;T [] [] -&gt; &#39;T [] []<br /><br />--------------------<br />val transpose : arr:&#39;T [] [] -&gt; &#39;T [] []</div>
<div class="tip" id="fs195">val aics : float []</div>
<div class="tip" id="fs196">val unzip3 : array:(&#39;T1 * &#39;T2 * &#39;T3) [] -&gt; &#39;T1 [] * &#39;T2 [] * &#39;T3 []</div>
<div class="tip" id="fs197">val aicChart : GenericChart.GenericChart</div>
<div class="tip" id="fs198">val silhouetteData : float [] []</div>
<div class="tip" id="fs199">System.IO.File.ReadAllLines(path: string) : string []<br />System.IO.File.ReadAllLines(path: string, encoding: System.Text.Encoding) : string []</div>
<div class="tip" id="fs200">val x : string</div>
<div class="tip" id="fs201">val tmp : string []</div>
<div class="tip" id="fs202">val sI : ClusterNumber.SilhouetteResult []</div>
<div class="tip" id="fs203">val silhouetteIndexKMeans : bootstraps:int -&gt; iClustering:(int -&gt; KClusteringResult&lt;float []&gt;) -&gt; data:float [] [] -&gt; maxK:int -&gt; ClusterNumber.SilhouetteResult []</div>
<div class="tip" id="fs204">val rawDataChart : GenericChart.GenericChart</div>
<div class="tip" id="fs205">val silhouetteIndicesChart : GenericChart.GenericChart</div>
<div class="tip" id="fs206">val x : ClusterNumber.SilhouetteResult</div>
<div class="tip" id="fs207">ClusterNumber.SilhouetteResult.ClusterNumber: int</div>
<div class="tip" id="fs208">ClusterNumber.SilhouetteResult.SilhouetteIndex: float</div>
<div class="tip" id="fs209">ClusterNumber.SilhouetteResult.SilhouetteIndexStDev: float</div>
<div class="tip" id="fs210">val combinedSilhouette : GenericChart.GenericChart</div>
<div class="tip" id="fs211">static member Chart.Stack : ?Columns:int * ?Space:float -&gt; (#seq&lt;GenericChart.GenericChart&gt; -&gt; GenericChart.GenericChart)</div>
<div class="tip" id="fs212">val gapStatisticsData : float [] []</div>
<div class="tip" id="fs213">val gapDataChart : GenericChart.GenericChart</div>
<div class="tip" id="fs214">module GapStatistics<br /><br />from FSharp.Stats.ML.Unsupervised</div>
<div class="tip" id="fs215">module PointGenerators<br /><br />from FSharp.Stats.ML.Unsupervised.GapStatistics</div>
<div class="tip" id="fs216">val generateUniformPoints : rnd:System.Random -&gt; data:float [] array -&gt; float [] []</div>
<div class="tip" id="fs217">val generateUniformPointsPCA : rnd:System.Random -&gt; data:float [] array -&gt; float [] []</div>
<div class="tip" id="fs218">static member Chart.withSize : width:float * heigth:float -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="tip" id="fs219">val gaps : GapStatisticResult []</div>
<div class="tip" id="fs220">val calculate : rndPointGenerator:GenericPointGenerator&lt;&#39;a&gt; -&gt; bootstraps:int -&gt; calcDispersion:GenericClusterDispersion&lt;&#39;a&gt; -&gt; maxK:int -&gt; data:&#39;a array -&gt; GapStatisticResult []</div>
<div class="tip" id="fs221">module ClusterDispersionMetric<br /><br />from FSharp.Stats.ML.Unsupervised.GapStatistics</div>
<div class="tip" id="fs222">val logDispersionKMeansInitRandom : (float [] array -&gt; int -&gt; float)</div>
<div class="tip" id="fs223">val k : int []</div>
<div class="tip" id="fs224">val x : GapStatisticResult</div>
<div class="tip" id="fs225">GapStatisticResult.ClusterIndex: int</div>
<div class="tip" id="fs226">val disp : float []</div>
<div class="tip" id="fs227">GapStatisticResult.Dispersion: float</div>
<div class="tip" id="fs228">val dispRef : float []</div>
<div class="tip" id="fs229">GapStatisticResult.ReferenceDispersion: float</div>
<div class="tip" id="fs230">val gap : float []</div>
<div class="tip" id="fs231">GapStatisticResult.Gaps: float</div>
<div class="tip" id="fs232">val std : float []</div>
<div class="tip" id="fs233">GapStatisticResult.RefDispersionStDev: float</div>
<div class="tip" id="fs234">val gapStatisticsChart : GenericChart.GenericChart</div>
<div class="tip" id="fs235">val dispersions : GenericChart.GenericChart</div>
<div class="tip" id="fs236">val gaps : GenericChart.GenericChart</div>
<div class="tip" id="fs237">val sK : float []</div>
<div class="tip" id="fs238">val sd : float</div>
<div class="tip" id="fs239">val sqrt : value:&#39;T -&gt; &#39;U (requires member Sqrt)</div>
<div class="tip" id="fs240">val gapChart : GenericChart.GenericChart</div>
<div class="tip" id="fs241">val kOpt : string</div>
<div class="tip" id="fs242">val init : count:int -&gt; initializer:(int -&gt; &#39;T) -&gt; &#39;T []</div>
<div class="tip" id="fs243">property System.Array.Length: int</div>
<div class="tip" id="fs244">val findIndex : predicate:(&#39;T -&gt; bool) -&gt; array:&#39;T [] -&gt; int</div>
<div class="tip" id="fs245">val id : x:&#39;T -&gt; &#39;T</div>

        </div>
        <div class="span3">
          <img src="/FSharp.Stats/img/logo.svg" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
              <li class="nav-header">FSharp.Stats</li>
              <li><a href="/FSharp.Stats/index.html">Home page</a></li>
              <li class="divider"></li>
              <li><a href="http://nuget.org/packages/FSharp.Stats">Get Library via NuGet</a></li>
              <li><a href="https://github.com/fslaborg/FSharp.Stats">Source Code on GitHub</a></li>
              <li><a href="/FSharp.Stats/license.html">License</a></li>
              <li><a href="/FSharp.Stats/release-notes.html">Release Notes</a></li>

              <li class="nav-header">Getting started</li>
              <li><a href="/FSharp.Stats/tutorial.html">Sample tutorial</a></li>

              <li class="nav-header">Basic</li>
              <li>
                  <a href="/FSharp.Stats/Summary.html">Summary</a>
              </li>
              <li><a href="/FSharp.Stats/Clustering.html">Clustering</a></li>
              <li><a href="/FSharp.Stats/Correlation.html">Correlation</a></li>
              <li><a href="/FSharp.Stats/Covariance.html">Covariance</a></li>
              <li><a href="/FSharp.Stats/CrossValidation.html">Cross validation</a></li>
              <li><a href="/FSharp.Stats/Rank.html">Rank</a></li>
              <li><a href="/FSharp.Stats/Quantile.html">Quantile</a></li>
              <li class="divider"></li>
              <li><a href="/FSharp.Stats/Matrix_Vector.html">Matrix and Vector</a></li>
              </li>
              <li class="divider"></li>
              <li><a href="/FSharp.Stats/SpecialFunctions.html">Special Functions</a></li>
              </li>
              <li><a href="/FSharp.Stats/LinearAlgebra.html">Linear Algebra</a></li>
              <li><a href="/FSharp.Stats/Integration.html">Integration</a></li>
              </li>
              <li><a href="/FSharp.Stats/Distributions.html">Distributions</a></li>
              </li>
              <li><a href="/FSharp.Stats/Testing.html">Testing</a></li>
              </li>
              <li><a href="/FSharp.Stats/Fitting.html">Fitting</a></li>
              </li>
              <li><a href="/FSharp.Stats/GoodnessOfFit.html">Goodness of fit</a></li>
              <li><a href="/FSharp.Stats/Interpolation.html">Interpolation</a></li>
              </li>
              <li><a href="/FSharp.Stats/Imputation.html">Imputation</a></li>
              <li><a href="/FSharp.Stats/Signal.html">Signal</a></li>
              </li>
              <li class="nav-header">Special Issues</li>
              <li><a href="/FSharp.Stats/GrowthCurve.html">Growth Curve</a></li>


              <li class="nav-header">Documentation</li>
              <li><a href="/FSharp.Stats/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="https://github.com/fslaborg/FSharp.Stats"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
