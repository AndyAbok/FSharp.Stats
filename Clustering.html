<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Clustering
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Benedikt Venn, Timo Muehlhaus, Heinrich Lukas Weil, David Zimmer, Kevin Schneider, open source contributors">
    <link rel="shortcut icon" type="image/x-icon" href="https://fslab.org/FSharp.Stats//img/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <link type="text/css" rel="stylesheet" href="https://fslab.org/FSharp.Stats/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="https://fslab.org/FSharp.Stats/content/fsdocs-custom.css" />
    <script type="text/javascript" src="https://fslab.org/FSharp.Stats/content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head> 

<body>
    <div class="columns is-fullheight m-0">
        <div id="fsdocs-menu" class="column is-2 is-paddingless">
            <aside class="menu">
                <div class="container is-paddingless is-marginless has-background-dark">
                    <a href="https://fslab.org/FSharp.Stats/">
                        <figure class="image is-128x128 container">
                            <img src="https://fslab.org/FSharp.Stats/img/logo.png">
                        </figure>
                    </a>
                    <h2 class="title has-text-centered has-text-white pb-4">FSharp.Stats</h2>
                </div>
                <div class="content">
                    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
                    <div id="header">
                        <div class="searchbox" id="fsdocs-searchbox">
                            <label for="search-by">
                                <i class="fas fa-search"></i>
                            </label>
                            <input data-search-input="" id="search-by" type="search" placeholder="Search..." class="input"/>
                            <span data-search-clear="">
                                <i class="fas fa-times"></i>
                            </span>
                        </div>
                    </div>
                    <!-- END SEARCH BOX: this adds support for the search box -->
                    <ul class="navbar-nav">
                        <li class="nav-header">Links</li>
                        <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="https://github.com/fslaborg/FSharp.Stats/blob/developer/LICENSE">License (MIT)</a></li>
                        <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="https://github.com/fslaborg/FSharp.Stats/blob/developer/RELEASE_NOTES.md">Release Notes</a></li>
                        <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://github.com/fslaborg/FSharp.Stats/">Source Repository</a></li>
                        <li class="nav-header">
  Documentation
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/BasicStats.html">
    Basics

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Clustering.html">
    Clustering

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Correlation.html">
    Correlation

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Covariance.html">
    Covariance

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/CrossValidation.html">
    Cross validation

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Distributions.html">
    Probability Distributions

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Fitting.html">
    Fitting

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/GoodnessOfFit.html">
    Fit quality

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/GrowthCurve.html">
    Growth curve

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Imputation.html">
    Imputation

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Integration.html">
    Integration

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Interpolation.html">
    Interpolation

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/LinearAlgebra.html">
    Linear Algebra

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Matrix_Vector.html">
    Matrix and Vector

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Signal.html">
    Signal

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/Testing.html">
    Statistical testing

  </a>
</li>
                        <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/FSharp.Stats/reference/index.html">
    All Namespaces
  </a>
</li>
                    </ul>
                </div>
            </aside>
        </div>
        <div class="column is-10 is-paddingless">
            <div class="section pt-4">
                <div class="container" id="fsdocs-content">
                    <h1><a name="Clustering" class="anchor" href="#Clustering">Clustering</a></h1>
<p><a href="https://mybinder.org/v2/gh/fslaborg/FSharp.Stats/gh-pages?filepath=Clustering.ipynb"><img src="https://mybinder.org/badge_logo.svg" alt="Binder" /></a></p>
<p><em>Summary:</em> this tutorial demonstrates several clustering methods in FSharp.Stats and how to visualize the results with Plotly.NET.</p>
<h3><a name="Table-of-contents" class="anchor" href="#Table-of-contents">Table of contents</a></h3>
<ul>
<li>
<a href="#Iterative-Clustering">Iterative Clustering</a>
<ul>
<li><a href="k-means-clustering">k-means clustering</a></li>
</ul>
</li>
<li>
<a href="#Density-based-clustering">Density based clustering</a>
<ul>
<li><a href="#DBSCAN">DBSCAN</a></li>
</ul>
</li>
<li><a href="#Hierarchical-clustering">Hierarchical clustering</a></li>
<li>
<a href="#Determining-the-optimal-number-of-clusters">Determining the optimal number of clusters</a>
<ul>
<li><a href="#Rule-of-thumb">Rule of thumb</a></li>
<li><a href="#Elbow-criterion">Elbow criterion</a></li>
<li><a href="#AIC">AIC</a></li>
<li><a href="#Silhouette-coefficient">Silhouette coefficient</a></li>
<li><a href="#GapStatistics">GapStatistics</a></li>
</ul>
</li>
</ul>
<p>For demonstration of several clustering methods, the classic iris data set is used, which consists of 150 records,
each of which contains four measurements and a species identifier. Since the species identifier occur several times
(Iris-virginica, Iris-versicolor, and Iris-setosa), the first step is to generate unique labels:</p>
<ul>
<li>The data is shuffled and an index is appended to the data label, such that each label is unique.</li>
</ul>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Stats</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="fn">fromFileWithSep</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="fn">separator</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="vt">char</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="fn">filePath</span><span class="pn">)</span> <span class="o">=</span>     
    <span class="c">// The function is implemented using a sequence expression</span>
    <span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="fn">seq</span> <span class="pn">{</span>   <span class="k">let</span> <span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="d">sr</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs9', 9)" onmouseover="showTip(event, 'fs9', 9)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 10)" onmouseover="showTip(event, 'fs10', 10)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 11)" onmouseover="showTip(event, 'fs11', 11)" class="rt">File</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 12)" onmouseover="showTip(event, 'fs12', 12)" class="id">OpenText</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs6', 13)" onmouseover="showTip(event, 'fs6', 13)" class="fn">filePath</span><span class="pn">)</span>
            <span class="k">while</span> <span onmouseout="hideTip(event, 'fs13', 14)" onmouseover="showTip(event, 'fs13', 14)" class="fn">not</span> <span onmouseout="hideTip(event, 'fs8', 15)" onmouseover="showTip(event, 'fs8', 15)" class="d">sr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 16)" onmouseover="showTip(event, 'fs14', 16)" class="id">EndOfStream</span> <span class="k">do</span> 
                <span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 17)" onmouseover="showTip(event, 'fs15', 17)" class="fn">line</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 18)" onmouseover="showTip(event, 'fs8', 18)" class="d">sr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 19)" onmouseover="showTip(event, 'fs16', 19)" class="id">ReadLine</span><span class="pn">(</span><span class="pn">)</span> 
                <span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 20)" onmouseover="showTip(event, 'fs17', 20)" class="fn">words</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 21)" onmouseover="showTip(event, 'fs15', 21)" class="fn">line</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 22)" onmouseover="showTip(event, 'fs18', 22)" class="id">Split</span> <span onmouseout="hideTip(event, 'fs4', 23)" onmouseover="showTip(event, 'fs4', 23)" class="fn">separator</span><span class="c">//[|&#39;,&#39;;&#39; &#39;;&#39;\t&#39;|] </span>
                <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs17', 24)" onmouseover="showTip(event, 'fs17', 24)" class="fn">words</span> <span class="pn">}</span>

                
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 25)" onmouseover="showTip(event, 'fs19', 25)" class="id">lables</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs20', 26)" onmouseover="showTip(event, 'fs20', 26)" class="id">data</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs3', 27)" onmouseover="showTip(event, 'fs3', 27)" class="fn">fromFileWithSep</span> <span class="s">&#39;,&#39;</span> <span class="pn">(</span><span class="k">__SOURCE_DIRECTORY__</span> <span class="o">+</span> <span class="s">&quot;/data/irisData.csv&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs21', 28)" onmouseover="showTip(event, 'fs21', 28)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs22', 29)" onmouseover="showTip(event, 'fs22', 29)" class="id">skip</span> <span class="n">1</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs21', 30)" onmouseover="showTip(event, 'fs21', 30)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 31)" onmouseover="showTip(event, 'fs23', 31)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs24', 32)" onmouseover="showTip(event, 'fs24', 32)" class="fn">arr</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs24', 33)" onmouseover="showTip(event, 'fs24', 33)" class="fn">arr</span><span class="id">.</span><span class="pn">[</span><span class="n">4</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[|</span> <span onmouseout="hideTip(event, 'fs25', 34)" onmouseover="showTip(event, 'fs25', 34)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs24', 35)" onmouseover="showTip(event, 'fs24', 35)" class="fn">arr</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs25', 36)" onmouseover="showTip(event, 'fs25', 36)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs24', 37)" onmouseover="showTip(event, 'fs24', 37)" class="fn">arr</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs25', 38)" onmouseover="showTip(event, 'fs25', 38)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs24', 39)" onmouseover="showTip(event, 'fs24', 39)" class="fn">arr</span><span class="id">.</span><span class="pn">[</span><span class="n">2</span><span class="pn">]</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs25', 40)" onmouseover="showTip(event, 'fs25', 40)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs24', 41)" onmouseover="showTip(event, 'fs24', 41)" class="fn">arr</span><span class="id">.</span><span class="pn">[</span><span class="n">3</span><span class="pn">]</span><span class="pn">;</span> <span class="pn">|]</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs21', 42)" onmouseover="showTip(event, 'fs21', 42)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 43)" onmouseover="showTip(event, 'fs26', 43)" class="id">toArray</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 44)" onmouseover="showTip(event, 'fs27', 44)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs28', 45)" onmouseover="showTip(event, 'fs28', 45)" class="id">shuffleFisherYates</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 46)" onmouseover="showTip(event, 'fs27', 46)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 47)" onmouseover="showTip(event, 'fs29', 47)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs30', 48)" onmouseover="showTip(event, 'fs30', 48)" class="fn">i</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs31', 49)" onmouseover="showTip(event, 'fs31', 49)" class="fn">lable</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs32', 50)" onmouseover="showTip(event, 'fs32', 50)" class="fn">data</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs33', 51)" onmouseover="showTip(event, 'fs33', 51)" class="fn">sprintf</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s">_</span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs31', 52)" onmouseover="showTip(event, 'fs31', 52)" class="fn">lable</span> <span onmouseout="hideTip(event, 'fs30', 53)" onmouseover="showTip(event, 'fs30', 53)" class="fn">i</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs32', 54)" onmouseover="showTip(event, 'fs32', 54)" class="fn">data</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 55)" onmouseover="showTip(event, 'fs27', 55)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 56)" onmouseover="showTip(event, 'fs34', 56)" class="id">unzip</span>
   
</code></pre>
<p>let's first take a look at the dataset with Plotly.NET:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs35', 57)" onmouseover="showTip(event, 'fs35', 57)" class="id">Plotly</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 58)" onmouseover="showTip(event, 'fs36', 58)" class="id">NET</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 59)" onmouseover="showTip(event, 'fs37', 59)" class="id">colnames</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;Sepal length&quot;</span><span class="pn">;</span><span class="s">&quot;Sepal width&quot;</span><span class="pn">;</span><span class="s">&quot;Petal length&quot;</span><span class="pn">;</span><span class="s">&quot;Petal width&quot;</span><span class="pn">]</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 60)" onmouseover="showTip(event, 'fs38', 60)" class="id">colorscaleValue</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs39', 61)" onmouseover="showTip(event, 'fs39', 61)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs40', 62)" onmouseover="showTip(event, 'fs40', 62)" class="rt">Colorscale</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs41', 63)" onmouseover="showTip(event, 'fs41', 63)" class="id">Electric</span> <span class="c">//Custom [(0.0,&quot;#3D9970&quot;);(1.0,&quot;#001f3f&quot;)]</span>
    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 64)" onmouseover="showTip(event, 'fs42', 64)" class="id">dataChart</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs43', 65)" onmouseover="showTip(event, 'fs43', 65)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 66)" onmouseover="showTip(event, 'fs44', 66)" class="id">Heatmap</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs20', 67)" onmouseover="showTip(event, 'fs20', 67)" class="id">data</span><span class="pn">,</span><span class="fn">ColNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs37', 68)" onmouseover="showTip(event, 'fs37', 68)" class="id">colnames</span><span class="pn">,</span><span class="fn">RowNames</span><span class="o">=</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 69)" onmouseover="showTip(event, 'fs19', 69)" class="id">lables</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 70)" onmouseover="showTip(event, 'fs45', 70)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 71)" onmouseover="showTip(event, 'fs46', 71)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs30', 72)" onmouseover="showTip(event, 'fs30', 72)" class="fn">i</span> <span onmouseout="hideTip(event, 'fs47', 73)" onmouseover="showTip(event, 'fs47', 73)" class="fn">s</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs33', 74)" onmouseover="showTip(event, 'fs33', 74)" class="fn">sprintf</span> <span class="s">&quot;</span><span class="pf">%s</span><span class="s"></span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs47', 75)" onmouseover="showTip(event, 'fs47', 75)" class="fn">s</span> <span onmouseout="hideTip(event, 'fs30', 76)" onmouseover="showTip(event, 'fs30', 76)" class="fn">i</span> <span class="pn">)</span><span class="pn">)</span><span class="pn">,</span><span class="fn">Colorscale</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs38', 77)" onmouseover="showTip(event, 'fs38', 77)" class="id">colorscaleValue</span><span class="pn">,</span><span class="fn">Showscale</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 78)" onmouseover="showTip(event, 'fs43', 78)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs48', 79)" onmouseover="showTip(event, 'fs48', 79)" class="id">withMarginSize</span><span class="pn">(</span><span class="fn">Left</span><span class="o">=</span><span class="n">250.</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 80)" onmouseover="showTip(event, 'fs43', 80)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 81)" onmouseover="showTip(event, 'fs49', 81)" class="id">withTitle</span> <span class="s">&quot;raw iris data&quot;</span>
</code></pre>
<div id="77b09158-5961-4def-9050-fff185f624fb" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_77b0915859614def9050fff185f624fb = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"heatmap","z":[[4.6,3.6,1.0,0.2],[6.0,2.2,5.0,1.5],[7.2,3.0,5.8,1.6],[6.0,2.9,4.5,1.5],[6.3,3.4,5.6,2.4],[7.0,3.2,4.7,1.4],[6.5,3.0,5.5,1.8],[5.4,3.4,1.5,0.4],[7.3,2.9,6.3,1.8],[5.8,2.7,5.1,1.9],[4.9,3.1,1.5,0.1],[5.4,3.9,1.7,0.4],[5.2,3.5,1.5,0.2],[4.8,3.1,1.6,0.2],[6.7,3.0,5.0,1.7],[5.3,3.7,1.5,0.2],[6.1,3.0,4.6,1.4],[6.7,3.1,5.6,2.4],[5.7,2.6,3.5,1.0],[6.0,2.2,4.0,1.0],[6.6,3.0,4.4,1.4],[6.5,3.0,5.8,2.2],[6.8,3.2,5.9,2.3],[4.8,3.4,1.6,0.2],[6.3,2.5,5.0,1.9],[7.9,3.8,6.4,2.0],[4.4,3.2,1.3,0.2],[5.0,3.2,1.2,0.2],[5.5,4.2,1.4,0.2],[5.1,3.8,1.5,0.3],[5.7,2.9,4.2,1.3],[6.4,3.2,5.3,2.3],[6.7,3.3,5.7,2.1],[6.2,2.8,4.8,1.8],[6.1,2.8,4.0,1.3],[5.0,3.0,1.6,0.2],[7.2,3.6,6.1,2.5],[5.5,2.3,4.0,1.3],[5.2,4.1,1.5,0.1],[5.5,2.6,4.4,1.2],[5.1,3.5,1.4,0.2],[4.8,3.0,1.4,0.3],[6.0,3.4,4.5,1.6],[5.1,3.8,1.6,0.2],[5.9,3.0,5.1,1.8],[5.0,3.4,1.5,0.2],[5.5,3.5,1.3,0.2],[6.0,2.7,5.1,1.6],[6.4,2.7,5.3,1.9],[6.3,2.7,4.9,1.8],[5.2,2.7,3.9,1.4],[5.8,2.6,4.0,1.2],[6.2,3.4,5.4,2.3],[4.9,3.1,1.5,0.1],[5.7,2.8,4.1,1.3],[6.7,2.5,5.8,1.8],[5.0,3.3,1.4,0.2],[6.9,3.1,5.1,2.3],[5.8,2.8,5.1,2.4],[6.7,3.3,5.7,2.5],[5.0,3.6,1.4,0.2],[6.7,3.1,4.4,1.4],[6.6,2.9,4.6,1.3],[6.4,3.1,5.5,1.8],[5.1,3.8,1.9,0.4],[5.1,3.5,1.4,0.3],[4.5,2.3,1.3,0.3],[5.1,3.3,1.7,0.5],[5.0,3.4,1.6,0.4],[5.1,3.4,1.5,0.2],[6.4,3.2,4.5,1.5],[6.4,2.9,4.3,1.3],[5.8,2.7,4.1,1.0],[6.3,2.8,5.1,1.5],[4.7,3.2,1.6,0.2],[6.5,3.0,5.2,2.0],[5.8,2.7,5.1,1.9],[4.6,3.1,1.5,0.2],[6.7,3.1,4.7,1.5],[5.9,3.0,4.2,1.5],[7.2,3.2,6.0,1.8],[4.4,2.9,1.4,0.2],[6.4,2.8,5.6,2.1],[5.4,3.0,4.5,1.5],[5.5,2.5,4.0,1.3],[5.0,3.5,1.3,0.3],[4.8,3.0,1.4,0.1],[7.4,2.8,6.1,1.9],[4.9,2.4,3.3,1.0],[5.4,3.4,1.7,0.2],[6.4,2.8,5.6,2.2],[5.1,2.5,3.0,1.1],[5.2,3.4,1.4,0.2],[6.3,2.5,4.9,1.5],[7.7,2.6,6.9,2.3],[4.4,3.0,1.3,0.2],[5.6,3.0,4.1,1.3],[5.5,2.4,3.7,1.0],[6.3,2.3,4.4,1.3],[4.3,3.0,1.1,0.1],[5.0,2.3,3.3,1.0],[6.1,2.6,5.6,1.4],[5.7,2.8,4.5,1.3],[6.5,2.8,4.6,1.5],[6.5,3.2,5.1,2.0],[6.8,3.0,5.5,2.1],[4.9,3.0,1.4,0.2],[5.7,3.8,1.7,0.3],[5.6,2.9,3.6,1.3],[7.7,3.8,6.7,2.2],[4.7,3.2,1.3,0.2],[5.7,4.4,1.5,0.4],[5.9,3.2,4.8,1.8],[6.1,2.9,4.7,1.4],[5.8,4.0,1.2,0.2],[6.1,2.8,4.7,1.2],[5.5,2.4,3.8,1.1],[6.2,2.9,4.3,1.3],[6.7,3.0,5.2,2.3],[6.2,2.2,4.5,1.5],[4.6,3.2,1.4,0.2],[5.6,3.0,4.5,1.5],[6.9,3.1,5.4,2.1],[5.7,2.5,5.0,2.0],[6.0,3.0,4.8,1.8],[5.6,2.7,4.2,1.3],[4.9,3.1,1.5,0.1],[6.9,3.2,5.7,2.3],[5.4,3.9,1.3,0.4],[6.1,3.0,4.9,1.8],[5.8,2.7,3.9,1.2],[5.6,2.8,4.9,2.0],[4.8,3.4,1.9,0.2],[7.7,3.0,6.1,2.3],[5.0,3.5,1.6,0.6],[7.6,3.0,6.6,2.1],[6.3,3.3,6.0,2.5],[7.7,2.8,6.7,2.0],[5.4,3.7,1.5,0.2],[5.7,3.0,4.2,1.2],[4.6,3.4,1.4,0.3],[6.8,2.8,4.8,1.4],[5.6,2.5,3.9,1.1],[5.0,2.0,3.5,1.0],[5.1,3.7,1.5,0.4],[6.9,3.1,4.9,1.5],[6.3,2.9,5.6,1.8],[6.3,3.3,4.7,1.6],[4.9,2.5,4.5,1.7],[7.1,3.0,5.9,2.1]],"x":["Sepal length","Sepal width","Petal length","Petal width"],"y":["Iris-setosa_00","Iris-virginica_11","Iris-virginica_22","Iris-versicolor_33","Iris-virginica_44","Iris-versicolor_55","Iris-virginica_66","Iris-setosa_77","Iris-virginica_88","Iris-virginica_99","Iris-setosa_1010","Iris-setosa_1111","Iris-setosa_1212","Iris-setosa_1313","Iris-versicolor_1414","Iris-setosa_1515","Iris-versicolor_1616","Iris-virginica_1717","Iris-versicolor_1818","Iris-versicolor_1919","Iris-versicolor_2020","Iris-virginica_2121","Iris-virginica_2222","Iris-setosa_2323","Iris-virginica_2424","Iris-virginica_2525","Iris-setosa_2626","Iris-setosa_2727","Iris-setosa_2828","Iris-setosa_2929","Iris-versicolor_3030","Iris-virginica_3131","Iris-virginica_3232","Iris-virginica_3333","Iris-versicolor_3434","Iris-setosa_3535","Iris-virginica_3636","Iris-versicolor_3737","Iris-setosa_3838","Iris-versicolor_3939","Iris-setosa_4040","Iris-setosa_4141","Iris-versicolor_4242","Iris-setosa_4343","Iris-virginica_4444","Iris-setosa_4545","Iris-setosa_4646","Iris-versicolor_4747","Iris-virginica_4848","Iris-virginica_4949","Iris-versicolor_5050","Iris-versicolor_5151","Iris-virginica_5252","Iris-setosa_5353","Iris-versicolor_5454","Iris-virginica_5555","Iris-setosa_5656","Iris-virginica_5757","Iris-virginica_5858","Iris-virginica_5959","Iris-setosa_6060","Iris-versicolor_6161","Iris-versicolor_6262","Iris-virginica_6363","Iris-setosa_6464","Iris-setosa_6565","Iris-setosa_6666","Iris-setosa_6767","Iris-setosa_6868","Iris-setosa_6969","Iris-versicolor_7070","Iris-versicolor_7171","Iris-versicolor_7272","Iris-virginica_7373","Iris-setosa_7474","Iris-virginica_7575","Iris-virginica_7676","Iris-setosa_7777","Iris-versicolor_7878","Iris-versicolor_7979","Iris-virginica_8080","Iris-setosa_8181","Iris-virginica_8282","Iris-versicolor_8383","Iris-versicolor_8484","Iris-setosa_8585","Iris-setosa_8686","Iris-virginica_8787","Iris-versicolor_8888","Iris-setosa_8989","Iris-virginica_9090","Iris-versicolor_9191","Iris-setosa_9292","Iris-versicolor_9393","Iris-virginica_9494","Iris-setosa_9595","Iris-versicolor_9696","Iris-versicolor_9797","Iris-versicolor_9898","Iris-setosa_9999","Iris-versicolor_100100","Iris-virginica_101101","Iris-versicolor_102102","Iris-versicolor_103103","Iris-virginica_104104","Iris-virginica_105105","Iris-setosa_106106","Iris-setosa_107107","Iris-versicolor_108108","Iris-virginica_109109","Iris-setosa_110110","Iris-setosa_111111","Iris-versicolor_112112","Iris-versicolor_113113","Iris-setosa_114114","Iris-versicolor_115115","Iris-versicolor_116116","Iris-versicolor_117117","Iris-virginica_118118","Iris-versicolor_119119","Iris-setosa_120120","Iris-versicolor_121121","Iris-virginica_122122","Iris-virginica_123123","Iris-virginica_124124","Iris-versicolor_125125","Iris-setosa_126126","Iris-virginica_127127","Iris-setosa_128128","Iris-virginica_129129","Iris-versicolor_130130","Iris-virginica_131131","Iris-setosa_132132","Iris-virginica_133133","Iris-setosa_134134","Iris-virginica_135135","Iris-virginica_136136","Iris-virginica_137137","Iris-setosa_138138","Iris-versicolor_139139","Iris-setosa_140140","Iris-versicolor_141141","Iris-versicolor_142142","Iris-versicolor_143143","Iris-setosa_144144","Iris-versicolor_145145","Iris-virginica_146146","Iris-versicolor_147147","Iris-virginica_148148","Iris-virginica_149149"],"colorscale":"Electric","showscale":true}];
            var layout = {"margin":{"l":250.0},"title":"raw iris data"};
            var config = {};
            Plotly.newPlot('77b09158-5961-4def-9050-fff185f624fb', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_77b0915859614def9050fff185f624fb();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_77b0915859614def9050fff185f624fb();
            }
</script>

<h2><a name="Iterative-Clustering" class="anchor" href="#Iterative-Clustering">Iterative Clustering</a></h2>
<h3><a name="k-means-clustering" class="anchor" href="#k-means-clustering">k-means clustering</a></h3>
<p>In k-means clustering a cluster number has to be specified prior to clustering the data. K centroids are randomly chosen. After
all data points are assigned to their nearest centroid, the algorithm iteratively approaches a centroid position configuration,
that minimizes the dispersion of every of the k clusters. For cluster number determination see below (Determining the optimal
number of clusters).</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 85)" onmouseover="showTip(event, 'fs1', 85)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 86)" onmouseover="showTip(event, 'fs2', 86)" class="id">Stats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 87)" onmouseover="showTip(event, 'fs52', 87)" class="id">ML</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 88)" onmouseover="showTip(event, 'fs1', 88)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 89)" onmouseover="showTip(event, 'fs2', 89)" class="id">Stats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 90)" onmouseover="showTip(event, 'fs52', 90)" class="id">ML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 91)" onmouseover="showTip(event, 'fs53', 91)" class="id">Unsupervised</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 92)" onmouseover="showTip(event, 'fs1', 92)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 93)" onmouseover="showTip(event, 'fs2', 93)" class="id">Stats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 94)" onmouseover="showTip(event, 'fs52', 94)" class="id">ML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 95)" onmouseover="showTip(event, 'fs53', 95)" class="id">Unsupervised</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs54', 96)" onmouseover="showTip(event, 'fs54', 96)" class="m">HierarchicalClustering</span>

<span class="c">// Kmeans clustering</span>

<span class="c">// For random cluster inititalization use randomInitFactory:</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 97)" onmouseover="showTip(event, 'fs55', 97)" class="id">rnd</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs9', 98)" onmouseover="showTip(event, 'fs9', 98)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs56', 99)" onmouseover="showTip(event, 'fs56', 99)" class="id">Random</span><span class="pn">(</span><span class="pn">)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 100)" onmouseover="showTip(event, 'fs57', 100)" class="fn">randomInitFactory</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs58', 101)" onmouseover="showTip(event, 'fs58', 101)" class="m">IterativeClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs59', 102)" onmouseover="showTip(event, 'fs59', 102)" class="id">CentroidsFactory</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs25', 103)" onmouseover="showTip(event, 'fs25', 103)" class="vt">float</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">&gt;</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs58', 104)" onmouseover="showTip(event, 'fs58', 104)" class="m">IterativeClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 105)" onmouseover="showTip(event, 'fs60', 105)" class="id">randomCentroids</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs25', 106)" onmouseover="showTip(event, 'fs25', 106)" class="vt">float</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs55', 107)" onmouseover="showTip(event, 'fs55', 107)" class="id">rnd</span>

<span class="c">//let cvmaxFactory : IterativeClustering.CentroidsFactory&lt;float []&gt; = </span>
<span class="c">//    IterativeClustering.intitCVMAX</span>
  
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs61', 108)" onmouseover="showTip(event, 'fs61', 108)" class="id">kmeansResult</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs58', 109)" onmouseover="showTip(event, 'fs58', 109)" class="m">IterativeClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs62', 110)" onmouseover="showTip(event, 'fs62', 110)" class="id">kmeans</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs63', 111)" onmouseover="showTip(event, 'fs63', 111)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs64', 112)" onmouseover="showTip(event, 'fs64', 112)" class="id">euclidean</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs57', 113)" onmouseover="showTip(event, 'fs57', 113)" class="fn">randomInitFactory</span> 
    <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs20', 114)" onmouseover="showTip(event, 'fs20', 114)" class="id">data</span> <span class="o">&lt;|</span> <span class="n">4</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 115)" onmouseover="showTip(event, 'fs65', 115)" class="id">clusteredIrisData</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs27', 116)" onmouseover="showTip(event, 'fs27', 116)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs66', 117)" onmouseover="showTip(event, 'fs66', 117)" class="id">zip</span> <span onmouseout="hideTip(event, 'fs19', 118)" onmouseover="showTip(event, 'fs19', 118)" class="id">lables</span> <span onmouseout="hideTip(event, 'fs20', 119)" onmouseover="showTip(event, 'fs20', 119)" class="id">data</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 120)" onmouseover="showTip(event, 'fs27', 120)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 121)" onmouseover="showTip(event, 'fs67', 121)" class="id">sortBy</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs68', 122)" onmouseover="showTip(event, 'fs68', 122)" class="fn">l</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs69', 123)" onmouseover="showTip(event, 'fs69', 123)" class="fn">dataPoint</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs70', 124)" onmouseover="showTip(event, 'fs70', 124)" class="fn">fst</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs61', 125)" onmouseover="showTip(event, 'fs61', 125)" class="id">kmeansResult</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs71', 126)" onmouseover="showTip(event, 'fs71', 126)" class="id">Classifier</span> <span onmouseout="hideTip(event, 'fs69', 127)" onmouseover="showTip(event, 'fs69', 127)" class="fn">dataPoint</span><span class="pn">)</span><span class="pn">)</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 128)" onmouseover="showTip(event, 'fs27', 128)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 129)" onmouseover="showTip(event, 'fs34', 129)" class="id">unzip</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs72', 130)" onmouseover="showTip(event, 'fs72', 130)" class="fn">labels</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs73', 131)" onmouseover="showTip(event, 'fs73', 131)" class="fn">d</span><span class="pn">)</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs43', 132)" onmouseover="showTip(event, 'fs43', 132)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 133)" onmouseover="showTip(event, 'fs44', 133)" class="id">Heatmap</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs73', 134)" onmouseover="showTip(event, 'fs73', 134)" class="fn">d</span><span class="pn">,</span><span class="fn">ColNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs37', 135)" onmouseover="showTip(event, 'fs37', 135)" class="id">colnames</span><span class="pn">,</span><span class="fn">RowNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs72', 136)" onmouseover="showTip(event, 'fs72', 136)" class="fn">labels</span><span class="pn">,</span><span class="fn">Colorscale</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs38', 137)" onmouseover="showTip(event, 'fs38', 137)" class="id">colorscaleValue</span><span class="pn">,</span><span class="fn">Showscale</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 138)" onmouseover="showTip(event, 'fs43', 138)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs48', 139)" onmouseover="showTip(event, 'fs48', 139)" class="id">withMarginSize</span><span class="pn">(</span><span class="fn">Left</span><span class="o">=</span><span class="n">250.</span><span class="pn">)</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 140)" onmouseover="showTip(event, 'fs43', 140)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 141)" onmouseover="showTip(event, 'fs49', 141)" class="id">withTitle</span> <span class="s">&quot;clustered iris data (k-means clustering)&quot;</span>
</code></pre>
<div id="86aa12af-9fbc-4757-beb6-ada797f6fd5d" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_86aa12af9fbc4757beb6ada797f6fd5d = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"heatmap","z":[[7.1,3.0,5.9,2.1],[7.2,3.2,6.0,1.8],[7.4,2.8,6.1,1.9],[6.7,3.3,5.7,2.5],[7.7,2.6,6.9,2.3],[6.7,2.5,5.8,1.8],[6.8,3.0,5.5,2.1],[7.7,3.8,6.7,2.2],[6.7,3.3,5.7,2.1],[6.9,3.1,5.4,2.1],[7.9,3.8,6.4,2.0],[6.9,3.2,5.7,2.3],[6.8,3.2,5.9,2.3],[6.5,3.0,5.8,2.2],[6.7,3.1,5.6,2.4],[7.2,3.6,6.1,2.5],[6.3,3.4,5.6,2.4],[7.7,3.0,6.1,2.3],[7.2,3.0,5.8,1.6],[7.6,3.0,6.6,2.1],[6.3,3.3,6.0,2.5],[7.7,2.8,6.7,2.0],[7.3,2.9,6.3,1.8],[5.7,2.8,4.5,1.3],[5.0,2.3,3.3,1.0],[6.3,2.3,4.4,1.3],[5.2,2.7,3.9,1.4],[5.8,2.6,4.0,1.2],[5.5,2.4,3.7,1.0],[5.6,3.0,4.1,1.3],[5.8,2.7,3.9,1.2],[5.6,2.5,3.9,1.1],[5.6,2.9,3.6,1.3],[5.0,2.0,3.5,1.0],[5.1,2.5,3.0,1.1],[4.9,2.4,3.3,1.0],[5.5,2.5,4.0,1.3],[5.4,3.0,4.5,1.5],[5.9,3.0,4.2,1.5],[5.7,2.8,4.1,1.3],[5.7,3.0,4.2,1.2],[4.9,2.5,4.5,1.7],[5.5,2.6,4.4,1.2],[5.7,2.6,3.5,1.0],[6.0,2.2,4.0,1.0],[5.6,2.7,4.2,1.3],[5.7,2.9,4.2,1.3],[6.2,2.9,4.3,1.3],[5.5,2.4,3.8,1.1],[6.1,2.8,4.0,1.3],[5.6,3.0,4.5,1.5],[5.8,2.7,4.1,1.0],[5.5,2.3,4.0,1.3],[4.6,3.1,1.5,0.2],[5.7,3.8,1.7,0.3],[5.1,3.7,1.5,0.4],[4.4,2.9,1.4,0.2],[4.8,3.4,1.9,0.2],[5.4,3.9,1.3,0.4],[5.0,3.5,1.3,0.3],[4.8,3.0,1.4,0.1],[5.0,3.5,1.6,0.6],[4.9,3.1,1.5,0.1],[5.4,3.4,1.7,0.2],[4.6,3.4,1.4,0.3],[5.4,3.7,1.5,0.2],[5.2,3.4,1.4,0.2],[4.7,3.2,1.3,0.2],[4.4,3.0,1.3,0.2],[4.6,3.2,1.4,0.2],[5.7,4.4,1.5,0.4],[4.3,3.0,1.1,0.1],[5.8,4.0,1.2,0.2],[4.9,3.0,1.4,0.2],[4.7,3.2,1.6,0.2],[4.6,3.6,1.0,0.2],[5.0,3.3,1.4,0.2],[4.9,3.1,1.5,0.1],[5.5,4.2,1.4,0.2],[4.8,3.1,1.6,0.2],[5.3,3.7,1.5,0.2],[5.5,3.5,1.3,0.2],[5.0,3.4,1.5,0.2],[5.1,3.8,1.6,0.2],[4.8,3.4,1.6,0.2],[4.8,3.0,1.4,0.3],[5.1,3.5,1.4,0.2],[5.2,4.1,1.5,0.1],[4.4,3.2,1.3,0.2],[5.0,3.0,1.6,0.2],[5.0,3.2,1.2,0.2],[5.4,3.9,1.7,0.4],[4.9,3.1,1.5,0.1],[5.2,3.5,1.5,0.2],[5.0,3.6,1.4,0.2],[5.1,3.4,1.5,0.2],[5.0,3.4,1.6,0.4],[5.1,3.3,1.7,0.5],[4.5,2.3,1.3,0.3],[5.1,3.5,1.4,0.3],[5.1,3.8,1.5,0.3],[5.4,3.4,1.5,0.4],[5.1,3.8,1.9,0.4],[6.3,3.3,4.7,1.6],[5.7,2.5,5.0,2.0],[6.0,3.0,4.8,1.8],[6.3,2.9,5.6,1.8],[6.9,3.1,4.9,1.5],[6.3,2.5,5.0,1.9],[6.0,2.2,5.0,1.5],[5.6,2.8,4.9,2.0],[6.0,2.9,4.5,1.5],[6.8,2.8,4.8,1.4],[5.8,2.7,5.1,1.9],[7.0,3.2,4.7,1.4],[6.1,3.0,4.9,1.8],[6.1,3.0,4.6,1.4],[6.7,3.0,5.0,1.7],[6.5,3.0,5.5,1.8],[6.6,3.0,4.4,1.4],[5.9,3.2,4.8,1.8],[6.7,3.0,5.2,2.3],[5.8,2.7,5.1,1.9],[6.4,2.9,4.3,1.3],[6.7,3.1,4.7,1.5],[6.4,3.2,4.5,1.5],[6.4,2.8,5.6,2.1],[6.4,3.1,5.5,1.8],[6.6,2.9,4.6,1.3],[6.7,3.1,4.4,1.4],[6.4,2.8,5.6,2.2],[5.8,2.8,5.1,2.4],[6.3,2.5,4.9,1.5],[6.9,3.1,5.1,2.3],[6.2,2.2,4.5,1.5],[6.2,3.4,5.4,2.3],[6.4,2.7,5.3,1.9],[6.0,2.7,5.1,1.6],[6.1,2.6,5.6,1.4],[6.5,2.8,4.6,1.5],[6.5,3.2,5.1,2.0],[5.9,3.0,5.1,1.8],[6.0,3.4,4.5,1.6],[6.3,2.8,5.1,1.5],[6.1,2.9,4.7,1.4],[6.1,2.8,4.7,1.2],[6.2,2.8,4.8,1.8],[6.4,3.2,5.3,2.3],[6.3,2.7,4.9,1.8],[6.5,3.0,5.2,2.0]],"x":["Sepal length","Sepal width","Petal length","Petal width"],"y":["Iris-virginica_149","Iris-virginica_80","Iris-virginica_87","Iris-virginica_59","Iris-virginica_94","Iris-virginica_55","Iris-virginica_105","Iris-virginica_109","Iris-virginica_32","Iris-virginica_122","Iris-virginica_25","Iris-virginica_127","Iris-virginica_22","Iris-virginica_21","Iris-virginica_17","Iris-virginica_36","Iris-virginica_4","Iris-virginica_133","Iris-virginica_2","Iris-virginica_135","Iris-virginica_136","Iris-virginica_137","Iris-virginica_8","Iris-versicolor_102","Iris-versicolor_100","Iris-versicolor_98","Iris-versicolor_50","Iris-versicolor_51","Iris-versicolor_97","Iris-versicolor_96","Iris-versicolor_130","Iris-versicolor_142","Iris-versicolor_108","Iris-versicolor_143","Iris-versicolor_91","Iris-versicolor_88","Iris-versicolor_84","Iris-versicolor_83","Iris-versicolor_79","Iris-versicolor_54","Iris-versicolor_139","Iris-virginica_148","Iris-versicolor_39","Iris-versicolor_18","Iris-versicolor_19","Iris-versicolor_125","Iris-versicolor_30","Iris-versicolor_117","Iris-versicolor_116","Iris-versicolor_34","Iris-versicolor_121","Iris-versicolor_72","Iris-versicolor_37","Iris-setosa_77","Iris-setosa_107","Iris-setosa_144","Iris-setosa_81","Iris-setosa_132","Iris-setosa_128","Iris-setosa_85","Iris-setosa_86","Iris-setosa_134","Iris-setosa_126","Iris-setosa_89","Iris-setosa_140","Iris-setosa_138","Iris-setosa_92","Iris-setosa_110","Iris-setosa_95","Iris-setosa_120","Iris-setosa_111","Iris-setosa_99","Iris-setosa_114","Iris-setosa_106","Iris-setosa_74","Iris-setosa_0","Iris-setosa_56","Iris-setosa_53","Iris-setosa_28","Iris-setosa_13","Iris-setosa_15","Iris-setosa_46","Iris-setosa_45","Iris-setosa_43","Iris-setosa_23","Iris-setosa_41","Iris-setosa_40","Iris-setosa_38","Iris-setosa_26","Iris-setosa_35","Iris-setosa_27","Iris-setosa_11","Iris-setosa_10","Iris-setosa_12","Iris-setosa_60","Iris-setosa_69","Iris-setosa_68","Iris-setosa_67","Iris-setosa_66","Iris-setosa_65","Iris-setosa_29","Iris-setosa_7","Iris-setosa_64","Iris-versicolor_147","Iris-virginica_123","Iris-virginica_124","Iris-virginica_146","Iris-versicolor_145","Iris-virginica_24","Iris-virginica_1","Iris-virginica_131","Iris-versicolor_3","Iris-versicolor_141","Iris-virginica_9","Iris-versicolor_5","Iris-virginica_129","Iris-versicolor_16","Iris-versicolor_14","Iris-virginica_6","Iris-versicolor_20","Iris-versicolor_112","Iris-virginica_118","Iris-virginica_76","Iris-versicolor_71","Iris-versicolor_78","Iris-versicolor_70","Iris-virginica_82","Iris-virginica_63","Iris-versicolor_62","Iris-versicolor_61","Iris-virginica_90","Iris-virginica_58","Iris-versicolor_93","Iris-virginica_57","Iris-versicolor_119","Iris-virginica_52","Iris-virginica_48","Iris-versicolor_47","Iris-virginica_101","Iris-versicolor_103","Iris-virginica_104","Iris-virginica_44","Iris-versicolor_42","Iris-virginica_73","Iris-versicolor_113","Iris-versicolor_115","Iris-virginica_33","Iris-virginica_31","Iris-virginica_49","Iris-virginica_75"],"colorscale":"Electric","showscale":true}];
            var layout = {"margin":{"l":250.0},"title":"clustered iris data (k-means clustering)"};
            var config = {};
            Plotly.newPlot('86aa12af-9fbc-4757-beb6-ada797f6fd5d', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_86aa12af9fbc4757beb6ada797f6fd5d();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_86aa12af9fbc4757beb6ada797f6fd5d();
            }
</script>

<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// To get the best kMeans clustering result in terms of the average squared distance of each point</span>
<span class="c">// to its centroid, perform the clustering b times and minimize the dispersion.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs74', 145)" onmouseover="showTip(event, 'fs74', 145)" class="fn">getBestkMeansClustering</span> <span onmouseout="hideTip(event, 'fs75', 146)" onmouseover="showTip(event, 'fs75', 146)" class="fn">data</span> <span onmouseout="hideTip(event, 'fs76', 147)" onmouseover="showTip(event, 'fs76', 147)" class="fn">k</span> <span onmouseout="hideTip(event, 'fs77', 148)" onmouseover="showTip(event, 'fs77', 148)" class="fn">bootstraps</span> <span class="o">=</span>
    <span class="pn">[</span><span class="n">1..</span><span onmouseout="hideTip(event, 'fs77', 149)" onmouseover="showTip(event, 'fs77', 149)" class="fn">bootstraps</span><span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 150)" onmouseover="showTip(event, 'fs78', 150)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs79', 151)" onmouseover="showTip(event, 'fs79', 151)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs30', 152)" onmouseover="showTip(event, 'fs30', 152)" class="fn">i</span> <span onmouseout="hideTip(event, 'fs80', 153)" onmouseover="showTip(event, 'fs80', 153)" class="fn">x</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs58', 154)" onmouseover="showTip(event, 'fs58', 154)" class="m">IterativeClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs62', 155)" onmouseover="showTip(event, 'fs62', 155)" class="id">kmeans</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs63', 156)" onmouseover="showTip(event, 'fs63', 156)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs64', 157)" onmouseover="showTip(event, 'fs64', 157)" class="id">euclidean</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs57', 158)" onmouseover="showTip(event, 'fs57', 158)" class="fn">randomInitFactory</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs75', 159)" onmouseover="showTip(event, 'fs75', 159)" class="fn">data</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs76', 160)" onmouseover="showTip(event, 'fs76', 160)" class="fn">k</span>
        <span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 161)" onmouseover="showTip(event, 'fs78', 161)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs81', 162)" onmouseover="showTip(event, 'fs81', 162)" class="id">minBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs82', 163)" onmouseover="showTip(event, 'fs82', 163)" class="fn">clusteringResult</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs58', 164)" onmouseover="showTip(event, 'fs58', 164)" class="m">IterativeClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs83', 165)" onmouseover="showTip(event, 'fs83', 165)" class="id">DispersionOfClusterResult</span> <span onmouseout="hideTip(event, 'fs82', 166)" onmouseover="showTip(event, 'fs82', 166)" class="fn">clusteringResult</span><span class="pn">)</span>
</code></pre>
<h2><a name="Density-based-clustering" class="anchor" href="#Density-based-clustering">Density based clustering</a></h2>
<h3><a name="DBSCAN" class="anchor" href="#DBSCAN">DBSCAN</a></h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//four dimensional clustering with sepal length, petal length, sepal width and petal width</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs84', 167)" onmouseover="showTip(event, 'fs84', 167)" class="id">t</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 168)" onmouseover="showTip(event, 'fs85', 168)" class="m">DbScan</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs86', 169)" onmouseover="showTip(event, 'fs86', 169)" class="id">compute</span> <span onmouseout="hideTip(event, 'fs63', 170)" onmouseover="showTip(event, 'fs63', 170)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs87', 171)" onmouseover="showTip(event, 'fs87', 171)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs88', 172)" onmouseover="showTip(event, 'fs88', 172)" class="id">euclideanNaN</span> <span class="n">5</span> <span class="n">1.0</span> <span onmouseout="hideTip(event, 'fs20', 173)" onmouseover="showTip(event, 'fs20', 173)" class="id">data</span>

<span class="c">//extract petal length and petal width</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs89', 174)" onmouseover="showTip(event, 'fs89', 174)" class="id">petLpetW</span>      <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 175)" onmouseover="showTip(event, 'fs20', 175)" class="id">data</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 176)" onmouseover="showTip(event, 'fs27', 176)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 177)" onmouseover="showTip(event, 'fs90', 177)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs91', 178)" onmouseover="showTip(event, 'fs91', 178)" class="fn">x</span> <span class="k">-&gt;</span> <span class="pn">[|</span><span onmouseout="hideTip(event, 'fs91', 179)" onmouseover="showTip(event, 'fs91', 179)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">2</span><span class="pn">]</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs91', 180)" onmouseover="showTip(event, 'fs91', 180)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">3</span><span class="pn">]</span><span class="pn">|]</span><span class="pn">)</span>

<span class="c">//extract petal width, petal length and sepal length  </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs92', 181)" onmouseover="showTip(event, 'fs92', 181)" class="id">petWpetLsepL</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 182)" onmouseover="showTip(event, 'fs20', 182)" class="id">data</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 183)" onmouseover="showTip(event, 'fs27', 183)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 184)" onmouseover="showTip(event, 'fs90', 184)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs91', 185)" onmouseover="showTip(event, 'fs91', 185)" class="fn">x</span> <span class="k">-&gt;</span> <span class="pn">[|</span><span onmouseout="hideTip(event, 'fs91', 186)" onmouseover="showTip(event, 'fs91', 186)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">3</span><span class="pn">]</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs91', 187)" onmouseover="showTip(event, 'fs91', 187)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">2</span><span class="pn">]</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs91', 188)" onmouseover="showTip(event, 'fs91', 188)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">|]</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs93', 189)" onmouseover="showTip(event, 'fs93', 189)" class="fn">axis</span> <span onmouseout="hideTip(event, 'fs94', 190)" onmouseover="showTip(event, 'fs94', 190)" class="fn">title</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 191)" onmouseover="showTip(event, 'fs95', 191)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 192)" onmouseover="showTip(event, 'fs96', 192)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 193)" onmouseover="showTip(event, 'fs97', 193)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 194)" onmouseover="showTip(event, 'fs94', 194)" class="fn">title</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 195)" onmouseover="showTip(event, 'fs39', 195)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 196)" onmouseover="showTip(event, 'fs98', 196)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 197)" onmouseover="showTip(event, 'fs99', 197)" class="id">All</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 198)" onmouseover="showTip(event, 'fs39', 198)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 199)" onmouseover="showTip(event, 'fs100', 199)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 200)" onmouseover="showTip(event, 'fs101', 200)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs102', 201)" onmouseover="showTip(event, 'fs102', 201)" class="fn">axisRange</span> <span onmouseout="hideTip(event, 'fs94', 202)" onmouseover="showTip(event, 'fs94', 202)" class="fn">title</span> <span onmouseout="hideTip(event, 'fs103', 203)" onmouseover="showTip(event, 'fs103', 203)" class="fn">range</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 204)" onmouseover="showTip(event, 'fs95', 204)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 205)" onmouseover="showTip(event, 'fs96', 205)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 206)" onmouseover="showTip(event, 'fs97', 206)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 207)" onmouseover="showTip(event, 'fs94', 207)" class="fn">title</span><span class="pn">,</span><span class="fn">Range</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 208)" onmouseover="showTip(event, 'fs39', 208)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs104', 209)" onmouseover="showTip(event, 'fs104', 209)" class="rt">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs105', 210)" onmouseover="showTip(event, 'fs105', 210)" class="id">MinMax</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 211)" onmouseover="showTip(event, 'fs103', 211)" class="fn">range</span><span class="pn">)</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 212)" onmouseover="showTip(event, 'fs39', 212)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 213)" onmouseover="showTip(event, 'fs98', 213)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 214)" onmouseover="showTip(event, 'fs99', 214)" class="id">All</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">false</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 215)" onmouseover="showTip(event, 'fs39', 215)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 216)" onmouseover="showTip(event, 'fs100', 216)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 217)" onmouseover="showTip(event, 'fs101', 217)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>

<span class="c">//to create a chart with two dimensional data use the following function</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs106', 218)" onmouseover="showTip(event, 'fs106', 218)" class="id">dbscanPlot</span> <span class="o">=</span>  

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs107', 219)" onmouseover="showTip(event, 'fs107', 219)" class="fn">axis</span> <span onmouseout="hideTip(event, 'fs94', 220)" onmouseover="showTip(event, 'fs94', 220)" class="fn">title</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 221)" onmouseover="showTip(event, 'fs95', 221)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 222)" onmouseover="showTip(event, 'fs96', 222)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 223)" onmouseover="showTip(event, 'fs97', 223)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 224)" onmouseover="showTip(event, 'fs94', 224)" class="fn">title</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 225)" onmouseover="showTip(event, 'fs39', 225)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 226)" onmouseover="showTip(event, 'fs98', 226)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 227)" onmouseover="showTip(event, 'fs99', 227)" class="id">All</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 228)" onmouseover="showTip(event, 'fs39', 228)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 229)" onmouseover="showTip(event, 'fs100', 229)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 230)" onmouseover="showTip(event, 'fs101', 230)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs108', 231)" onmouseover="showTip(event, 'fs108', 231)" class="fn">axisRange</span> <span onmouseout="hideTip(event, 'fs94', 232)" onmouseover="showTip(event, 'fs94', 232)" class="fn">title</span> <span onmouseout="hideTip(event, 'fs103', 233)" onmouseover="showTip(event, 'fs103', 233)" class="fn">range</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 234)" onmouseover="showTip(event, 'fs95', 234)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 235)" onmouseover="showTip(event, 'fs96', 235)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 236)" onmouseover="showTip(event, 'fs97', 236)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 237)" onmouseover="showTip(event, 'fs94', 237)" class="fn">title</span><span class="pn">,</span><span class="fn">Range</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 238)" onmouseover="showTip(event, 'fs39', 238)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs104', 239)" onmouseover="showTip(event, 'fs104', 239)" class="rt">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs105', 240)" onmouseover="showTip(event, 'fs105', 240)" class="id">MinMax</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 241)" onmouseover="showTip(event, 'fs103', 241)" class="fn">range</span><span class="pn">)</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 242)" onmouseover="showTip(event, 'fs39', 242)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 243)" onmouseover="showTip(event, 'fs98', 243)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 244)" onmouseover="showTip(event, 'fs99', 244)" class="id">All</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">false</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 245)" onmouseover="showTip(event, 'fs39', 245)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 246)" onmouseover="showTip(event, 'fs100', 246)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 247)" onmouseover="showTip(event, 'fs101', 247)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>

    <span class="k">if</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs89', 248)" onmouseover="showTip(event, 'fs89', 248)" class="id">petLpetW</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 249)" onmouseover="showTip(event, 'fs45', 249)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs109', 250)" onmouseover="showTip(event, 'fs109', 250)" class="id">head</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 251)" onmouseover="showTip(event, 'fs45', 251)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 252)" onmouseover="showTip(event, 'fs110', 252)" class="id">length</span><span class="pn">)</span> <span class="o">&lt;&gt;</span> <span class="n">2</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs111', 253)" onmouseover="showTip(event, 'fs111', 253)" class="fn">failwithf</span> <span class="s">&quot;create2dChart only can handle 2 coordinates&quot;</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs112', 254)" onmouseover="showTip(event, 'fs112', 254)" class="fn">result</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 255)" onmouseover="showTip(event, 'fs85', 255)" class="m">DbScan</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs86', 256)" onmouseover="showTip(event, 'fs86', 256)" class="id">compute</span> <span onmouseout="hideTip(event, 'fs63', 257)" onmouseover="showTip(event, 'fs63', 257)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs87', 258)" onmouseover="showTip(event, 'fs87', 258)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs113', 259)" onmouseover="showTip(event, 'fs113', 259)" class="id">euclidean</span> <span class="n">20</span> <span class="n">0.5</span> <span onmouseout="hideTip(event, 'fs89', 260)" onmouseover="showTip(event, 'fs89', 260)" class="id">petLpetW</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs114', 261)" onmouseover="showTip(event, 'fs114', 261)" class="fn">chartCluster</span> <span class="o">=</span> 
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs112', 262)" onmouseover="showTip(event, 'fs112', 262)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs115', 263)" onmouseover="showTip(event, 'fs115', 263)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 264)" onmouseover="showTip(event, 'fs45', 264)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 265)" onmouseover="showTip(event, 'fs110', 265)" class="id">length</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span>      
            <span onmouseout="hideTip(event, 'fs112', 266)" onmouseover="showTip(event, 'fs112', 266)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs115', 267)" onmouseover="showTip(event, 'fs115', 267)" class="id">Clusterlist</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 268)" onmouseover="showTip(event, 'fs45', 268)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 269)" onmouseover="showTip(event, 'fs46', 269)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs30', 270)" onmouseover="showTip(event, 'fs30', 270)" class="fn">i</span> <span onmouseout="hideTip(event, 'fs116', 271)" onmouseover="showTip(event, 'fs116', 271)" class="fn">l</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs116', 272)" onmouseover="showTip(event, 'fs116', 272)" class="fn">l</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 273)" onmouseover="showTip(event, 'fs45', 273)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 274)" onmouseover="showTip(event, 'fs23', 274)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs117', 275)" onmouseover="showTip(event, 'fs117', 275)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs117', 276)" onmouseover="showTip(event, 'fs117', 276)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs117', 277)" onmouseover="showTip(event, 'fs117', 277)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 278)" onmouseover="showTip(event, 'fs45', 278)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 279)" onmouseover="showTip(event, 'fs118', 279)" class="id">distinct</span> <span class="c">//more efficient visualization; no difference in plot but in point numbers</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 280)" onmouseover="showTip(event, 'fs43', 280)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 281)" onmouseover="showTip(event, 'fs119', 281)" class="id">Point</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 282)" onmouseover="showTip(event, 'fs43', 282)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 283)" onmouseover="showTip(event, 'fs120', 283)" class="id">withTraceName</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs33', 284)" onmouseover="showTip(event, 'fs33', 284)" class="fn">sprintf</span> <span class="s">&quot;Cluster </span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs30', 285)" onmouseover="showTip(event, 'fs30', 285)" class="fn">i</span><span class="pn">)</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 286)" onmouseover="showTip(event, 'fs43', 286)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 287)" onmouseover="showTip(event, 'fs121', 287)" class="id">Combine</span>
        <span class="k">else</span> <span onmouseout="hideTip(event, 'fs43', 288)" onmouseover="showTip(event, 'fs43', 288)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 289)" onmouseover="showTip(event, 'fs119', 289)" class="id">Point</span> <span class="pn">[</span><span class="pn">]</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs122', 290)" onmouseover="showTip(event, 'fs122', 290)" class="fn">chartNoise</span> <span class="o">=</span> 
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs112', 291)" onmouseover="showTip(event, 'fs112', 291)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs123', 292)" onmouseover="showTip(event, 'fs123', 292)" class="id">Noisepoints</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 293)" onmouseover="showTip(event, 'fs45', 293)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 294)" onmouseover="showTip(event, 'fs110', 294)" class="id">length</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span> 
            <span onmouseout="hideTip(event, 'fs112', 295)" onmouseover="showTip(event, 'fs112', 295)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs123', 296)" onmouseover="showTip(event, 'fs123', 296)" class="id">Noisepoints</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 297)" onmouseover="showTip(event, 'fs45', 297)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 298)" onmouseover="showTip(event, 'fs23', 298)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs117', 299)" onmouseover="showTip(event, 'fs117', 299)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs117', 300)" onmouseover="showTip(event, 'fs117', 300)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs117', 301)" onmouseover="showTip(event, 'fs117', 301)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span>  
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 302)" onmouseover="showTip(event, 'fs45', 302)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 303)" onmouseover="showTip(event, 'fs118', 303)" class="id">distinct</span> <span class="c">//more efficient visualization; no difference in plot but in point numbers</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 304)" onmouseover="showTip(event, 'fs43', 304)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 305)" onmouseover="showTip(event, 'fs119', 305)" class="id">Point</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 306)" onmouseover="showTip(event, 'fs43', 306)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 307)" onmouseover="showTip(event, 'fs120', 307)" class="id">withTraceName</span> <span class="s">&quot;Noise&quot;</span>
        <span class="k">else</span> <span onmouseout="hideTip(event, 'fs43', 308)" onmouseover="showTip(event, 'fs43', 308)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 309)" onmouseover="showTip(event, 'fs119', 309)" class="id">Point</span> <span class="pn">[</span><span class="pn">]</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs124', 310)" onmouseover="showTip(event, 'fs124', 310)" class="fn">chartname</span> <span class="o">=</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs125', 311)" onmouseover="showTip(event, 'fs125', 311)" class="fn">noiseCount</span>    <span class="o">=</span> <span onmouseout="hideTip(event, 'fs112', 312)" onmouseover="showTip(event, 'fs112', 312)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs123', 313)" onmouseover="showTip(event, 'fs123', 313)" class="id">Noisepoints</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 314)" onmouseover="showTip(event, 'fs45', 314)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 315)" onmouseover="showTip(event, 'fs110', 315)" class="id">length</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs126', 316)" onmouseover="showTip(event, 'fs126', 316)" class="fn">clusterCount</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs112', 317)" onmouseover="showTip(event, 'fs112', 317)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs115', 318)" onmouseover="showTip(event, 'fs115', 318)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 319)" onmouseover="showTip(event, 'fs45', 319)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 320)" onmouseover="showTip(event, 'fs110', 320)" class="id">length</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs127', 321)" onmouseover="showTip(event, 'fs127', 321)" class="fn">clPtsCount</span>    <span class="o">=</span> <span onmouseout="hideTip(event, 'fs112', 322)" onmouseover="showTip(event, 'fs112', 322)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs115', 323)" onmouseover="showTip(event, 'fs115', 323)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 324)" onmouseover="showTip(event, 'fs45', 324)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs128', 325)" onmouseover="showTip(event, 'fs128', 325)" class="id">sumBy</span> <span onmouseout="hideTip(event, 'fs45', 326)" onmouseover="showTip(event, 'fs45', 326)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 327)" onmouseover="showTip(event, 'fs110', 327)" class="id">length</span>
        <span onmouseout="hideTip(event, 'fs33', 328)" onmouseover="showTip(event, 'fs33', 328)" class="fn">sprintf</span> <span class="s">&quot;eps:</span><span class="pf">%.1f</span><span class="s"> minPts:</span><span class="pf">%i</span><span class="s"> pts:</span><span class="pf">%i</span><span class="s"> cluster:</span><span class="pf">%i</span><span class="s"> noisePts:</span><span class="pf">%i</span><span class="s">&quot;</span> 
            <span class="n">0.5</span> <span class="n">20</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs125', 329)" onmouseover="showTip(event, 'fs125', 329)" class="fn">noiseCount</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs127', 330)" onmouseover="showTip(event, 'fs127', 330)" class="fn">clPtsCount</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs126', 331)" onmouseover="showTip(event, 'fs126', 331)" class="fn">clusterCount</span> <span onmouseout="hideTip(event, 'fs125', 332)" onmouseover="showTip(event, 'fs125', 332)" class="fn">noiseCount</span> 

    <span class="pn">[</span><span onmouseout="hideTip(event, 'fs122', 333)" onmouseover="showTip(event, 'fs122', 333)" class="fn">chartNoise</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs114', 334)" onmouseover="showTip(event, 'fs114', 334)" class="fn">chartCluster</span><span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 335)" onmouseover="showTip(event, 'fs43', 335)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 336)" onmouseover="showTip(event, 'fs121', 336)" class="id">Combine</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 337)" onmouseover="showTip(event, 'fs43', 337)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 338)" onmouseover="showTip(event, 'fs49', 338)" class="id">withTitle</span> <span onmouseout="hideTip(event, 'fs124', 339)" onmouseover="showTip(event, 'fs124', 339)" class="fn">chartname</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 340)" onmouseover="showTip(event, 'fs43', 340)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 341)" onmouseover="showTip(event, 'fs129', 341)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 342)" onmouseover="showTip(event, 'fs107', 342)" class="fn">axis</span> <span class="s">&quot;Petal width&quot;</span><span class="pn">)</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 343)" onmouseover="showTip(event, 'fs43', 343)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 344)" onmouseover="showTip(event, 'fs130', 344)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 345)" onmouseover="showTip(event, 'fs107', 345)" class="fn">axis</span> <span class="s">&quot;Petal length&quot;</span><span class="pn">)</span>
    
</code></pre>
<div id="d9c8bfeb-e684-4c1c-8586-25307019a40d" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_d9c8bfebe6844c1c858625307019a40d = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"scatter","x":[6.4,3.3,3.0,6.9,6.7,6.6,6.7],"y":[2.0,1.0,1.1,2.3,2.2,2.1,2.0],"mode":"markers","marker":{},"name":"Noise"},{"type":"scatter","x":[1.0,1.5,1.3,1.2,1.4,1.4,1.3,1.4,1.1,1.3,1.5,1.5,1.7,1.6,1.5,1.9,1.7,1.6,1.7,1.7,1.9,1.6],"y":[0.2,0.2,0.2,0.2,0.2,0.3,0.3,0.1,0.1,0.4,0.4,0.1,0.4,0.2,0.3,0.4,0.5,0.4,0.2,0.3,0.2,0.6],"mode":"markers","marker":{},"name":"Cluster 0"},{"type":"scatter","x":[5.0,4.5,4.7,5.1,5.0,4.6,5.0,4.8,5.1,5.1,5.3,4.9,4.6,5.1,4.7,4.9,4.6,4.7,5.0,4.8,4.7,4.4,4.2,4.4,4.5,4.1,4.3,4.2,4.4,4.5,4.2,4.5,5.5,5.3,5.1,5.1,5.2,5.1,5.5,5.2,5.4,4.9,5.6,5.7,5.4,5.6,5.6,4.0,4.0,4.0,3.9,4.1,3.8,3.9,3.9,3.7,3.6,5.8,5.8,5.8,6.0,5.6,5.6,5.7,5.7,5.9,5.9,6.1,6.1,6.0,3.5,6.1,6.3],"y":[1.5,1.5,1.4,1.9,1.7,1.4,1.9,1.8,1.8,1.6,1.9,1.8,1.3,1.5,1.5,1.5,1.5,1.2,2.0,1.4,1.6,1.4,1.3,1.2,1.6,1.3,1.3,1.5,1.3,1.3,1.2,1.7,1.8,2.3,2.3,2.4,2.0,2.0,2.1,2.3,2.1,2.0,1.8,2.1,2.3,2.1,2.2,1.3,1.2,1.0,1.4,1.0,1.1,1.2,1.1,1.0,1.3,1.6,2.2,1.8,1.8,1.4,2.4,2.5,2.3,2.3,2.1,1.9,2.3,2.5,1.0,2.5,1.8],"mode":"markers","marker":{},"name":"Cluster 1"}];
            var layout = {"title":"eps:0.5 minPts:20 pts:150 cluster:2 noisePts:8","xaxis":{"title":"Petal width","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"yaxis":{"title":"Petal length","ticks":"inside","mirror":"all","showline":true,"showgrid":true}};
            var config = {};
            Plotly.newPlot('d9c8bfeb-e684-4c1c-8586-25307019a40d', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_d9c8bfebe6844c1c858625307019a40d();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_d9c8bfebe6844c1c858625307019a40d();
            }
</script>

<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//to create a chart with three dimensional data use the following function</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs131', 349)" onmouseover="showTip(event, 'fs131', 349)" class="fn">create3dChart</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs132', 350)" onmouseover="showTip(event, 'fs132', 350)" class="fn">dfu</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs133', 351)" onmouseover="showTip(event, 'fs133', 351)" class="rt">array</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs133', 352)" onmouseover="showTip(event, 'fs133', 352)" class="rt">array</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs25', 353)" onmouseover="showTip(event, 'fs25', 353)" class="vt">float</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs134', 354)" onmouseover="showTip(event, 'fs134', 354)" class="fn">minPts</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs135', 355)" onmouseover="showTip(event, 'fs135', 355)" class="vt">int</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs136', 356)" onmouseover="showTip(event, 'fs136', 356)" class="fn">eps</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs25', 357)" onmouseover="showTip(event, 'fs25', 357)" class="vt">float</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs137', 358)" onmouseover="showTip(event, 'fs137', 358)" class="fn">input</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs7', 359)" onmouseover="showTip(event, 'fs7', 359)" class="if">seq</span><span class="pn">&lt;</span><span class="pn">#</span><span onmouseout="hideTip(event, 'fs7', 360)" onmouseover="showTip(event, 'fs7', 360)" class="if">seq</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="o">=</span>   
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs107', 361)" onmouseover="showTip(event, 'fs107', 361)" class="fn">axis</span> <span onmouseout="hideTip(event, 'fs94', 362)" onmouseover="showTip(event, 'fs94', 362)" class="fn">title</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 363)" onmouseover="showTip(event, 'fs95', 363)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 364)" onmouseover="showTip(event, 'fs96', 364)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 365)" onmouseover="showTip(event, 'fs97', 365)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 366)" onmouseover="showTip(event, 'fs94', 366)" class="fn">title</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 367)" onmouseover="showTip(event, 'fs39', 367)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 368)" onmouseover="showTip(event, 'fs98', 368)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 369)" onmouseover="showTip(event, 'fs99', 369)" class="id">All</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 370)" onmouseover="showTip(event, 'fs39', 370)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 371)" onmouseover="showTip(event, 'fs100', 371)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 372)" onmouseover="showTip(event, 'fs101', 372)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs108', 373)" onmouseover="showTip(event, 'fs108', 373)" class="fn">axisRange</span> <span onmouseout="hideTip(event, 'fs94', 374)" onmouseover="showTip(event, 'fs94', 374)" class="fn">title</span> <span onmouseout="hideTip(event, 'fs103', 375)" onmouseover="showTip(event, 'fs103', 375)" class="fn">range</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 376)" onmouseover="showTip(event, 'fs95', 376)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 377)" onmouseover="showTip(event, 'fs96', 377)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 378)" onmouseover="showTip(event, 'fs97', 378)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 379)" onmouseover="showTip(event, 'fs94', 379)" class="fn">title</span><span class="pn">,</span><span class="fn">Range</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 380)" onmouseover="showTip(event, 'fs39', 380)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs104', 381)" onmouseover="showTip(event, 'fs104', 381)" class="rt">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs105', 382)" onmouseover="showTip(event, 'fs105', 382)" class="id">MinMax</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 383)" onmouseover="showTip(event, 'fs103', 383)" class="fn">range</span><span class="pn">)</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 384)" onmouseover="showTip(event, 'fs39', 384)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 385)" onmouseover="showTip(event, 'fs98', 385)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 386)" onmouseover="showTip(event, 'fs99', 386)" class="id">All</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">false</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 387)" onmouseover="showTip(event, 'fs39', 387)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 388)" onmouseover="showTip(event, 'fs100', 388)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 389)" onmouseover="showTip(event, 'fs101', 389)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    
    <span class="k">if</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs137', 390)" onmouseover="showTip(event, 'fs137', 390)" class="fn">input</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 391)" onmouseover="showTip(event, 'fs45', 391)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs109', 392)" onmouseover="showTip(event, 'fs109', 392)" class="id">head</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 393)" onmouseover="showTip(event, 'fs45', 393)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 394)" onmouseover="showTip(event, 'fs110', 394)" class="id">length</span><span class="pn">)</span> <span class="o">&lt;&gt;</span> <span class="n">3</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs111', 395)" onmouseover="showTip(event, 'fs111', 395)" class="fn">failwithf</span> <span class="s">&quot;create3dChart only can handle 3 coordinates&quot;</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs138', 396)" onmouseover="showTip(event, 'fs138', 396)" class="fn">result</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 397)" onmouseover="showTip(event, 'fs85', 397)" class="m">DbScan</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs86', 398)" onmouseover="showTip(event, 'fs86', 398)" class="id">compute</span> <span onmouseout="hideTip(event, 'fs132', 399)" onmouseover="showTip(event, 'fs132', 399)" class="fn">dfu</span> <span onmouseout="hideTip(event, 'fs134', 400)" onmouseover="showTip(event, 'fs134', 400)" class="fn">minPts</span> <span onmouseout="hideTip(event, 'fs136', 401)" onmouseover="showTip(event, 'fs136', 401)" class="fn">eps</span> <span onmouseout="hideTip(event, 'fs137', 402)" onmouseover="showTip(event, 'fs137', 402)" class="fn">input</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs114', 403)" onmouseover="showTip(event, 'fs114', 403)" class="fn">chartCluster</span> <span class="o">=</span> 
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs138', 404)" onmouseover="showTip(event, 'fs138', 404)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs139', 405)" onmouseover="showTip(event, 'fs139', 405)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 406)" onmouseover="showTip(event, 'fs45', 406)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 407)" onmouseover="showTip(event, 'fs110', 407)" class="id">length</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span> 
            <span onmouseout="hideTip(event, 'fs138', 408)" onmouseover="showTip(event, 'fs138', 408)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs139', 409)" onmouseover="showTip(event, 'fs139', 409)" class="id">Clusterlist</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 410)" onmouseover="showTip(event, 'fs45', 410)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 411)" onmouseover="showTip(event, 'fs46', 411)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs30', 412)" onmouseover="showTip(event, 'fs30', 412)" class="fn">i</span> <span onmouseout="hideTip(event, 'fs140', 413)" onmouseover="showTip(event, 'fs140', 413)" class="fn">l</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs140', 414)" onmouseover="showTip(event, 'fs140', 414)" class="fn">l</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 415)" onmouseover="showTip(event, 'fs45', 415)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 416)" onmouseover="showTip(event, 'fs23', 416)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs141', 417)" onmouseover="showTip(event, 'fs141', 417)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs141', 418)" onmouseover="showTip(event, 'fs141', 418)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs141', 419)" onmouseover="showTip(event, 'fs141', 419)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs141', 420)" onmouseover="showTip(event, 'fs141', 420)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">2</span><span class="pn">]</span><span class="pn">)</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 421)" onmouseover="showTip(event, 'fs45', 421)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 422)" onmouseover="showTip(event, 'fs118', 422)" class="id">distinct</span> <span class="c">//faster visualization; no difference in plot but in point number</span>
                <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs142', 423)" onmouseover="showTip(event, 'fs142', 423)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs43', 424)" onmouseover="showTip(event, 'fs43', 424)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs143', 425)" onmouseover="showTip(event, 'fs143', 425)" class="id">Scatter3d</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs142', 426)" onmouseover="showTip(event, 'fs142', 426)" class="fn">x</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs39', 427)" onmouseover="showTip(event, 'fs39', 427)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs144', 428)" onmouseover="showTip(event, 'fs144', 428)" class="rt">Mode</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs145', 429)" onmouseover="showTip(event, 'fs145', 429)" class="id">Markers</span><span class="pn">)</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 430)" onmouseover="showTip(event, 'fs43', 430)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 431)" onmouseover="showTip(event, 'fs120', 431)" class="id">withTraceName</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs33', 432)" onmouseover="showTip(event, 'fs33', 432)" class="fn">sprintf</span> <span class="s">&quot;Cluster_</span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs30', 433)" onmouseover="showTip(event, 'fs30', 433)" class="fn">i</span><span class="pn">)</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 434)" onmouseover="showTip(event, 'fs43', 434)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 435)" onmouseover="showTip(event, 'fs121', 435)" class="id">Combine</span>
        <span class="k">else</span>  <span onmouseout="hideTip(event, 'fs43', 436)" onmouseover="showTip(event, 'fs43', 436)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs143', 437)" onmouseover="showTip(event, 'fs143', 437)" class="id">Scatter3d</span> <span class="pn">(</span><span class="pn">[</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs39', 438)" onmouseover="showTip(event, 'fs39', 438)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs144', 439)" onmouseover="showTip(event, 'fs144', 439)" class="rt">Mode</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs145', 440)" onmouseover="showTip(event, 'fs145', 440)" class="id">Markers</span><span class="pn">)</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs122', 441)" onmouseover="showTip(event, 'fs122', 441)" class="fn">chartNoise</span> <span class="o">=</span>
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs138', 442)" onmouseover="showTip(event, 'fs138', 442)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs146', 443)" onmouseover="showTip(event, 'fs146', 443)" class="id">Noisepoints</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 444)" onmouseover="showTip(event, 'fs45', 444)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 445)" onmouseover="showTip(event, 'fs110', 445)" class="id">length</span> <span class="o">&gt;</span> <span class="n">0</span> <span class="k">then</span> 
            <span onmouseout="hideTip(event, 'fs138', 446)" onmouseover="showTip(event, 'fs138', 446)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs146', 447)" onmouseover="showTip(event, 'fs146', 447)" class="id">Noisepoints</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 448)" onmouseover="showTip(event, 'fs45', 448)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 449)" onmouseover="showTip(event, 'fs23', 449)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs141', 450)" onmouseover="showTip(event, 'fs141', 450)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs141', 451)" onmouseover="showTip(event, 'fs141', 451)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs141', 452)" onmouseover="showTip(event, 'fs141', 452)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs141', 453)" onmouseover="showTip(event, 'fs141', 453)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">2</span><span class="pn">]</span><span class="pn">)</span>  
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 454)" onmouseover="showTip(event, 'fs45', 454)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs118', 455)" onmouseover="showTip(event, 'fs118', 455)" class="id">distinct</span> <span class="c">//faster visualization; no difference in plot but in point number</span>
            <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs142', 456)" onmouseover="showTip(event, 'fs142', 456)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs43', 457)" onmouseover="showTip(event, 'fs43', 457)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs143', 458)" onmouseover="showTip(event, 'fs143', 458)" class="id">Scatter3d</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs142', 459)" onmouseover="showTip(event, 'fs142', 459)" class="fn">x</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs39', 460)" onmouseover="showTip(event, 'fs39', 460)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs144', 461)" onmouseover="showTip(event, 'fs144', 461)" class="rt">Mode</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs145', 462)" onmouseover="showTip(event, 'fs145', 462)" class="id">Markers</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 463)" onmouseover="showTip(event, 'fs43', 463)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 464)" onmouseover="showTip(event, 'fs120', 464)" class="id">withTraceName</span> <span class="s">&quot;Noise&quot;</span>
        <span class="k">else</span> <span onmouseout="hideTip(event, 'fs43', 465)" onmouseover="showTip(event, 'fs43', 465)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs143', 466)" onmouseover="showTip(event, 'fs143', 466)" class="id">Scatter3d</span> <span class="pn">(</span><span class="pn">[</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs39', 467)" onmouseover="showTip(event, 'fs39', 467)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs144', 468)" onmouseover="showTip(event, 'fs144', 468)" class="rt">Mode</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs145', 469)" onmouseover="showTip(event, 'fs145', 469)" class="id">Markers</span><span class="pn">)</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs124', 470)" onmouseover="showTip(event, 'fs124', 470)" class="fn">chartname</span> <span class="o">=</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs125', 471)" onmouseover="showTip(event, 'fs125', 471)" class="fn">noiseCount</span>    <span class="o">=</span> <span onmouseout="hideTip(event, 'fs138', 472)" onmouseover="showTip(event, 'fs138', 472)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs146', 473)" onmouseover="showTip(event, 'fs146', 473)" class="id">Noisepoints</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 474)" onmouseover="showTip(event, 'fs45', 474)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 475)" onmouseover="showTip(event, 'fs110', 475)" class="id">length</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs126', 476)" onmouseover="showTip(event, 'fs126', 476)" class="fn">clusterCount</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs138', 477)" onmouseover="showTip(event, 'fs138', 477)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs139', 478)" onmouseover="showTip(event, 'fs139', 478)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 479)" onmouseover="showTip(event, 'fs45', 479)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 480)" onmouseover="showTip(event, 'fs110', 480)" class="id">length</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs127', 481)" onmouseover="showTip(event, 'fs127', 481)" class="fn">clPtsCount</span>    <span class="o">=</span> <span onmouseout="hideTip(event, 'fs138', 482)" onmouseover="showTip(event, 'fs138', 482)" class="fn">result</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs139', 483)" onmouseover="showTip(event, 'fs139', 483)" class="id">Clusterlist</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 484)" onmouseover="showTip(event, 'fs45', 484)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs128', 485)" onmouseover="showTip(event, 'fs128', 485)" class="id">sumBy</span> <span onmouseout="hideTip(event, 'fs45', 486)" onmouseover="showTip(event, 'fs45', 486)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs110', 487)" onmouseover="showTip(event, 'fs110', 487)" class="id">length</span>
        <span onmouseout="hideTip(event, 'fs33', 488)" onmouseover="showTip(event, 'fs33', 488)" class="fn">sprintf</span> <span class="s">&quot;eps:</span><span class="pf">%.1f</span><span class="s"> minPts:</span><span class="pf">%i</span><span class="s"> n:</span><span class="pf">%i</span><span class="s"> Cluster:</span><span class="pf">%i</span><span class="s"> NoisePts:</span><span class="pf">%i</span><span class="s">&quot;</span> 
            <span onmouseout="hideTip(event, 'fs136', 489)" onmouseover="showTip(event, 'fs136', 489)" class="fn">eps</span> <span onmouseout="hideTip(event, 'fs134', 490)" onmouseover="showTip(event, 'fs134', 490)" class="fn">minPts</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs125', 491)" onmouseover="showTip(event, 'fs125', 491)" class="fn">noiseCount</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs127', 492)" onmouseover="showTip(event, 'fs127', 492)" class="fn">clPtsCount</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs126', 493)" onmouseover="showTip(event, 'fs126', 493)" class="fn">clusterCount</span> <span onmouseout="hideTip(event, 'fs125', 494)" onmouseover="showTip(event, 'fs125', 494)" class="fn">noiseCount</span> 

    <span class="pn">[</span><span onmouseout="hideTip(event, 'fs122', 495)" onmouseover="showTip(event, 'fs122', 495)" class="fn">chartNoise</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs114', 496)" onmouseover="showTip(event, 'fs114', 496)" class="fn">chartCluster</span><span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 497)" onmouseover="showTip(event, 'fs43', 497)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 498)" onmouseover="showTip(event, 'fs121', 498)" class="id">Combine</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 499)" onmouseover="showTip(event, 'fs43', 499)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 500)" onmouseover="showTip(event, 'fs49', 500)" class="id">withTitle</span> <span onmouseout="hideTip(event, 'fs124', 501)" onmouseover="showTip(event, 'fs124', 501)" class="fn">chartname</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 502)" onmouseover="showTip(event, 'fs43', 502)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 503)" onmouseover="showTip(event, 'fs129', 503)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 504)" onmouseover="showTip(event, 'fs107', 504)" class="fn">axis</span> <span class="s">&quot;Petal width&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 505)" onmouseover="showTip(event, 'fs43', 505)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 506)" onmouseover="showTip(event, 'fs130', 506)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 507)" onmouseover="showTip(event, 'fs107', 507)" class="fn">axis</span> <span class="s">&quot;Petal length&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 508)" onmouseover="showTip(event, 'fs43', 508)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs147', 509)" onmouseover="showTip(event, 'fs147', 509)" class="id">withZ_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 510)" onmouseover="showTip(event, 'fs107', 510)" class="fn">axis</span> <span class="s">&quot;Sepal length&quot;</span><span class="pn">)</span>
        
<span class="c">//for faster computation you can use the squaredEuclidean distance and set your eps to its square</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs148', 511)" onmouseover="showTip(event, 'fs148', 511)" class="id">clusteredChart3D</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs131', 512)" onmouseover="showTip(event, 'fs131', 512)" class="fn">create3dChart</span> <span onmouseout="hideTip(event, 'fs63', 513)" onmouseover="showTip(event, 'fs63', 513)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs87', 514)" onmouseover="showTip(event, 'fs87', 514)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs149', 515)" onmouseover="showTip(event, 'fs149', 515)" class="id">euclideanNaNSquared</span> <span class="n">20</span> <span class="pn">(</span><span class="n">0.7</span><span class="o">**</span><span class="n">2.</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs92', 516)" onmouseover="showTip(event, 'fs92', 516)" class="id">petWpetLsepL</span> 
</code></pre>
<div id="11143d04-dc8d-46cd-a632-a8e1252d9f93" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_11143d04dc8d46cda632a8e1252d9f93 = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"scatter3d","x":[1.6,1.8,2.0,2.5,1.9,1.0,1.1,2.3,1.0,2.2,2.3,2.1,2.0,1.7],"y":[5.8,6.3,6.4,6.1,6.1,3.3,3.0,6.9,3.3,6.7,6.1,6.6,6.7,4.5],"z":[7.2,7.3,7.9,7.2,7.4,4.9,5.1,7.7,5.0,7.7,7.7,7.6,7.7,4.9],"mode":"markers","line":{"width":{}},"marker":{},"name":"Noise"},{"type":"scatter3d","x":[0.2,0.1,0.2,0.2,0.2,0.2,0.3,0.2,0.2,0.3,0.3,0.2,0.2,0.2,0.3,0.1,0.1,0.2,0.2,0.2,0.3,0.4,0.4,0.2,0.2,0.2,0.3,0.2,0.1,0.2,0.2,0.4,0.5,0.4,0.2,0.2,0.2,0.4,0.2,0.6,0.2,0.4,0.3,0.4,0.2],"y":[1.0,1.5,1.6,1.3,1.2,1.4,1.4,1.5,1.4,1.4,1.3,1.6,1.5,1.4,1.3,1.4,1.1,1.4,1.3,1.4,1.4,1.5,1.7,1.5,1.5,1.4,1.5,1.6,1.5,1.6,1.3,1.9,1.7,1.6,1.5,1.7,1.4,1.3,1.9,1.6,1.5,1.5,1.7,1.5,1.2],"z":[4.6,4.9,4.8,4.4,5.0,5.1,4.8,5.0,5.0,5.1,4.5,4.7,4.6,4.4,5.0,4.8,4.3,4.9,4.7,4.6,4.6,5.4,5.4,5.2,5.3,5.5,5.1,5.0,5.2,5.1,5.5,5.1,5.1,5.0,5.1,5.4,5.2,5.4,4.8,5.0,5.4,5.1,5.7,5.7,5.8],"mode":"markers","line":{"width":{}},"marker":{},"name":"Cluster_0"},{"type":"scatter3d","x":[1.5,1.5,1.9,1.4,1.9,1.8,1.6,1.8,1.6,1.9,1.8,1.5,1.5,1.5,1.3,1.4,1.3,1.5,1.8,1.4,1.2,1.5,1.5,2.0,1.8,1.8,2.0,1.6,1.4,1.3,1.3,1.2,1.2,1.3,1.3,1.3,1.0,1.5,1.5,1.3,1.3,1.3,1.2,1.4,1.5,1.8,1.7,2.3,2.3,1.8,2.0,2.1,2.2,2.0,2.3,1.8,2.4,2.4,2.4,2.2,2.1,1.8,2.3,2.1,2.1,1.4,1.5,1.4,1.0,1.3,1.2,1.1,1.4,1.0,1.3,1.1,1.0,2.3,2.5,2.5,2.3,2.1,1.8,1.0],"y":[5.0,4.5,5.1,4.6,5.0,4.8,4.5,5.1,5.1,5.3,4.9,4.5,5.1,4.9,4.4,5.6,4.5,4.6,4.8,4.7,4.7,4.5,4.5,5.0,4.8,4.9,4.9,4.7,4.4,4.2,4.0,4.4,4.0,4.1,4.6,4.3,4.1,4.2,4.5,4.1,4.3,4.2,4.2,4.4,4.7,5.5,5.0,5.3,5.4,5.5,5.2,5.6,5.6,5.1,5.2,5.6,5.1,5.6,5.6,5.8,5.7,5.8,5.1,5.5,5.4,4.8,4.9,4.7,4.0,4.0,3.9,3.9,3.9,3.7,3.6,3.8,3.5,5.7,5.7,6.0,5.9,5.9,6.0,3.5],"z":[6.0,6.0,5.8,6.1,6.3,6.2,6.0,5.9,6.0,6.4,6.3,6.4,6.3,6.3,6.3,6.1,5.7,6.5,5.9,6.1,6.1,6.2,5.6,5.7,6.0,6.1,5.6,6.3,6.6,5.7,6.1,5.5,5.8,5.7,6.6,6.4,5.8,5.9,5.4,5.6,6.2,5.6,5.7,6.7,6.7,6.5,6.7,6.4,6.2,6.4,6.5,6.4,6.4,6.5,6.7,6.3,5.8,6.3,6.7,6.5,6.7,6.7,6.9,6.8,6.9,6.8,6.9,7.0,6.0,5.5,5.8,5.6,5.2,5.5,5.6,5.5,5.7,6.9,6.7,6.3,6.8,7.1,7.2,5.0],"mode":"markers","line":{"width":{}},"marker":{},"name":"Cluster_1"}];
            var layout = {"title":"eps:0.5 minPts:20 n:150 Cluster:2 NoisePts:14","scene":{"xaxis":{"title":"Petal width","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"yaxis":{"title":"Petal length","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"zaxis":{"title":"Sepal length","ticks":"inside","mirror":"all","showline":true,"showgrid":true}}};
            var config = {};
            Plotly.newPlot('11143d04-dc8d-46cd-a632-a8e1252d9f93', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_11143d04dc8d46cda632a8e1252d9f93();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_11143d04dc8d46cda632a8e1252d9f93();
            }
</script>

<h2><a name="Hierarchical-clustering" class="anchor" href="#Hierarchical-clustering">Hierarchical clustering</a></h2>
<p>Hierarchical clustering results in a tree structure, that has a single cluster (node) on its root and recursively
splits up into clusters of elements that are more similar to each other than to elements of other clusters.
For generating multiple cluster results with different number of clusters, the clustering has to performed only once.
Subsequently a threshold can be determined which will result in the desired number of clusters.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 520)" onmouseover="showTip(event, 'fs1', 520)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 521)" onmouseover="showTip(event, 'fs2', 521)" class="id">Stats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs52', 522)" onmouseover="showTip(event, 'fs52', 522)" class="id">ML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 523)" onmouseover="showTip(event, 'fs53', 523)" class="id">Unsupervised</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs54', 524)" onmouseover="showTip(event, 'fs54', 524)" class="m">HierarchicalClustering</span>

<span class="c">// calculates the clustering and reports a single root cluster (node), </span>
<span class="c">// that may recursively contains further nodes</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs150', 525)" onmouseover="showTip(event, 'fs150', 525)" class="id">clusterResultH</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs54', 526)" onmouseover="showTip(event, 'fs54', 526)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs151', 527)" onmouseover="showTip(event, 'fs151', 527)" class="id">generate</span> <span onmouseout="hideTip(event, 'fs63', 528)" onmouseover="showTip(event, 'fs63', 528)" class="m">DistanceMetrics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs152', 529)" onmouseover="showTip(event, 'fs152', 529)" class="id">euclideanNaNSquared</span> <span onmouseout="hideTip(event, 'fs153', 530)" onmouseover="showTip(event, 'fs153', 530)" class="m">Linker</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs154', 531)" onmouseover="showTip(event, 'fs154', 531)" class="id">wardLwLinker</span> <span onmouseout="hideTip(event, 'fs20', 532)" onmouseover="showTip(event, 'fs20', 532)" class="id">data</span>

<span class="c">// If a desired cluster number is specified, the following function cuts the cluster according</span>
<span class="c">// to the depth, that results in the respective number of clusters (here 3). Only leaves are reported.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs155', 533)" onmouseover="showTip(event, 'fs155', 533)" class="id">threeClustersH</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs54', 534)" onmouseover="showTip(event, 'fs54', 534)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs156', 535)" onmouseover="showTip(event, 'fs156', 535)" class="id">cutHClust</span> <span class="n">3</span> <span onmouseout="hideTip(event, 'fs150', 536)" onmouseover="showTip(event, 'fs150', 536)" class="id">clusterResultH</span>
    
</code></pre>
<p>Every cluster leaf contains its raw values and an index that
indicates the position of the respective data point in the raw data.
The index can be retrieved from leaves by HierarchicalClustering.getClusterId.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs157', 537)" onmouseover="showTip(event, 'fs157', 537)" class="id">inspectThreeClusters</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs155', 538)" onmouseover="showTip(event, 'fs155', 538)" class="id">threeClustersH</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 539)" onmouseover="showTip(event, 'fs78', 539)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs158', 540)" onmouseover="showTip(event, 'fs158', 540)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs159', 541)" onmouseover="showTip(event, 'fs159', 541)" class="fn">cluster</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs159', 542)" onmouseover="showTip(event, 'fs159', 542)" class="fn">cluster</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 543)" onmouseover="showTip(event, 'fs78', 543)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs158', 544)" onmouseover="showTip(event, 'fs158', 544)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs160', 545)" onmouseover="showTip(event, 'fs160', 545)" class="fn">leaf</span> <span class="k">-&gt;</span> 
            <span onmouseout="hideTip(event, 'fs19', 546)" onmouseover="showTip(event, 'fs19', 546)" class="id">lables</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs54', 547)" onmouseover="showTip(event, 'fs54', 547)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs161', 548)" onmouseover="showTip(event, 'fs161', 548)" class="id">getClusterId</span> <span onmouseout="hideTip(event, 'fs160', 549)" onmouseover="showTip(event, 'fs160', 549)" class="fn">leaf</span><span class="pn">]</span>
            <span class="pn">)</span>
        <span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs162', 550)" onmouseover="showTip(event, 'fs162', 550)" class="fn">clusteredLabels</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs33', 551)" onmouseover="showTip(event, 'fs33', 551)" class="fn">sprintf</span> <span class="s">&quot;Detailed information for </span><span class="pf">%i</span><span class="s"> clusters is given:&quot;</span> <span onmouseout="hideTip(event, 'fs162', 552)" onmouseover="showTip(event, 'fs162', 552)" class="fn">clusteredLabels</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 553)" onmouseover="showTip(event, 'fs163', 553)" class="id">Length</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs162', 554)" onmouseover="showTip(event, 'fs162', 554)" class="fn">clusteredLabels</span>
    
</code></pre>
<table class="pre"><tr><td><pre><code>("Detailed information for 3 clusters is given:",
 [["Iris-versicolor_70"; "Iris-versicolor_147"; "Iris-versicolor_42";
   "Iris-virginica_124"; "Iris-virginica_129"; "Iris-versicolor_112";
   "Iris-virginica_44"; "Iris-versicolor_34"; "Iris-versicolor_79";
   "Iris-versicolor_71"; "Iris-versicolor_117"; "Iris-versicolor_16";
   "Iris-versicolor_113"; "Iris-versicolor_3"; "Iris-versicolor_115";
   "Iris-versicolor_62"; "Iris-versicolor_103"; "Iris-versicolor_141";
   "Iris-versicolor_20"; "Iris-versicolor_61"; "Iris-versicolor_5";
   "Iris-versicolor_145"; "Iris-versicolor_78"; "Iris-versicolor_47";
   "Iris-virginica_73"; "Iris-versicolor_93"; "Iris-virginica_33";
   "Iris-virginica_49"; "Iris-virginica_24"; "Iris-virginica_101";
   "Iris-versicolor_98"; "Iris-versicolor_119"; "Iris-virginica_1";
   "Iris-virginica_9"; "Iris-virginica_76"; "Iris-virginica_123";
   "Iris-virginica_131"; "Iris-virginica_58"; "Iris-versicolor_39";
   "Iris-versicolor_102"; "Iris-versicolor_83"; "Iris-versicolor_121";
   "Iris-versicolor_30"; "Iris-versicolor_139"; "Iris-versicolor_96";
   "Iris-versicolor_54"; "Iris-versicolor_125"; "Iris-virginica_148";
   "Iris-versicolor_97"; "Iris-versicolor_116"; "Iris-versicolor_142";
   "Iris-versicolor_37"; "Iris-versicolor_84"; "Iris-versicolor_50";
   "Iris-versicolor_18"; "Iris-versicolor_108"; "Iris-versicolor_51";
   "Iris-versicolor_130"; "Iris-versicolor_72"; "Iris-versicolor_19";
   "Iris-versicolor_88"; "Iris-versicolor_100"; "Iris-versicolor_91";
   "Iris-versicolor_143"];
  ["Iris-virginica_36"; "Iris-virginica_133"; "Iris-virginica_25";
   "Iris-virginica_109"; "Iris-virginica_135"; "Iris-virginica_137";
   "Iris-virginica_94"; "Iris-virginica_2"; "Iris-virginica_80";
   "Iris-virginica_149"; "Iris-virginica_8"; "Iris-virginica_87";
   "Iris-virginica_57"; "Iris-virginica_118"; "Iris-virginica_105";
   "Iris-virginica_122"; "Iris-virginica_75"; "Iris-virginica_104";
   "Iris-versicolor_14"; "Iris-virginica_82"; "Iris-virginica_90";
   "Iris-virginica_21"; "Iris-virginica_55"; "Iris-virginica_6";
   "Iris-virginica_63"; "Iris-virginica_146"; "Iris-virginica_48";
   "Iris-virginica_4"; "Iris-virginica_52"; "Iris-virginica_31";
   "Iris-virginica_136"; "Iris-virginica_22"; "Iris-virginica_127";
   "Iris-virginica_32"; "Iris-virginica_17"; "Iris-virginica_59"];
  ["Iris-setosa_15"; "Iris-setosa_138"; "Iris-setosa_46"; "Iris-setosa_128";
   "Iris-setosa_7"; "Iris-setosa_89"; "Iris-setosa_11"; "Iris-setosa_107";
   "Iris-setosa_29"; "Iris-setosa_144"; "Iris-setosa_43"; "Iris-setosa_64";
   "Iris-setosa_45"; "Iris-setosa_69"; "Iris-setosa_56"; "Iris-setosa_12";
   "Iris-setosa_92"; "Iris-setosa_40"; "Iris-setosa_65"; "Iris-setosa_85";
   "Iris-setosa_60"; "Iris-setosa_67"; "Iris-setosa_68"; "Iris-setosa_134";
   "Iris-setosa_111"; "Iris-setosa_114"; "Iris-setosa_28"; "Iris-setosa_38";
   "Iris-setosa_81"; "Iris-setosa_95"; "Iris-setosa_26"; "Iris-setosa_99";
   "Iris-setosa_0"; "Iris-setosa_66"; "Iris-setosa_13"; "Iris-setosa_74";
   "Iris-setosa_23"; "Iris-setosa_132"; "Iris-setosa_77"; "Iris-setosa_120";
   "Iris-setosa_110"; "Iris-setosa_140"; "Iris-setosa_10"; "Iris-setosa_53";
   "Iris-setosa_126"; "Iris-setosa_35"; "Iris-setosa_41"; "Iris-setosa_106";
   "Iris-setosa_86"; "Iris-setosa_27"]])</code></pre></td></tr></table>
<pre class="fssnip highlighted"><code lang="fsharp">    
    
<span class="c">// To recursevely flatten the cluster tree into leaves only, use flattenHClust.</span>
<span class="c">// A leaf list is reported, that does not contain any cluster membership, </span>
<span class="c">// but is sorted by the clustering result.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs164', 555)" onmouseover="showTip(event, 'fs164', 555)" class="id">hLeaves</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs150', 556)" onmouseover="showTip(event, 'fs150', 556)" class="id">clusterResultH</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs54', 557)" onmouseover="showTip(event, 'fs54', 557)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs165', 558)" onmouseover="showTip(event, 'fs165', 558)" class="id">flattenHClust</span>
    
<span class="c">// takes the sorted cluster result and reports a tuple of lable and data value.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs166', 559)" onmouseover="showTip(event, 'fs166', 559)" class="id">dataSortedByClustering</span> <span class="o">=</span>    
    <span onmouseout="hideTip(event, 'fs164', 560)" onmouseover="showTip(event, 'fs164', 560)" class="id">hLeaves</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 561)" onmouseover="showTip(event, 'fs45', 561)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs167', 562)" onmouseover="showTip(event, 'fs167', 562)" class="id">choose</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs168', 563)" onmouseover="showTip(event, 'fs168', 563)" class="fn">c</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 564)" onmouseover="showTip(event, 'fs31', 564)" class="fn">lable</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs19', 565)" onmouseover="showTip(event, 'fs19', 565)" class="id">lables</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs54', 566)" onmouseover="showTip(event, 'fs54', 566)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs161', 567)" onmouseover="showTip(event, 'fs161', 567)" class="id">getClusterId</span> <span onmouseout="hideTip(event, 'fs168', 568)" onmouseover="showTip(event, 'fs168', 568)" class="fn">c</span><span class="pn">]</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs169', 569)" onmouseover="showTip(event, 'fs169', 569)" class="fn">values</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs54', 570)" onmouseover="showTip(event, 'fs54', 570)" class="m">HierarchicalClustering</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs170', 571)" onmouseover="showTip(event, 'fs170', 571)" class="id">tryGetLeafValue</span> <span onmouseout="hideTip(event, 'fs168', 572)" onmouseover="showTip(event, 'fs168', 572)" class="fn">c</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs169', 573)" onmouseover="showTip(event, 'fs169', 573)" class="fn">values</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs171', 574)" onmouseover="showTip(event, 'fs171', 574)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs171', 575)" onmouseover="showTip(event, 'fs171', 575)" class="uc">None</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs172', 576)" onmouseover="showTip(event, 'fs172', 576)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs91', 577)" onmouseover="showTip(event, 'fs91', 577)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs172', 578)" onmouseover="showTip(event, 'fs172', 578)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs31', 579)" onmouseover="showTip(event, 'fs31', 579)" class="fn">lable</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs91', 580)" onmouseover="showTip(event, 'fs91', 580)" class="fn">x</span><span class="pn">)</span>
        <span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs173', 581)" onmouseover="showTip(event, 'fs173', 581)" class="id">hierClusteredDataHeatmap</span> <span class="o">=</span> 
    <span class="k">let</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs174', 582)" onmouseover="showTip(event, 'fs174', 582)" class="fn">hlable</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs175', 583)" onmouseover="showTip(event, 'fs175', 583)" class="fn">hdata</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs166', 584)" onmouseover="showTip(event, 'fs166', 584)" class="id">dataSortedByClustering</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 585)" onmouseover="showTip(event, 'fs45', 585)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs176', 586)" onmouseover="showTip(event, 'fs176', 586)" class="id">unzip</span>
    <span onmouseout="hideTip(event, 'fs43', 587)" onmouseover="showTip(event, 'fs43', 587)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 588)" onmouseover="showTip(event, 'fs44', 588)" class="id">Heatmap</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs175', 589)" onmouseover="showTip(event, 'fs175', 589)" class="fn">hdata</span><span class="pn">,</span><span class="fn">ColNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs37', 590)" onmouseover="showTip(event, 'fs37', 590)" class="id">colnames</span><span class="pn">,</span><span class="fn">RowNames</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs174', 591)" onmouseover="showTip(event, 'fs174', 591)" class="fn">hlable</span><span class="pn">,</span><span class="fn">Colorscale</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs38', 592)" onmouseover="showTip(event, 'fs38', 592)" class="id">colorscaleValue</span><span class="pn">,</span><span class="fn">Showscale</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 593)" onmouseover="showTip(event, 'fs43', 593)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs48', 594)" onmouseover="showTip(event, 'fs48', 594)" class="id">withMarginSize</span><span class="pn">(</span><span class="fn">Left</span><span class="o">=</span><span class="n">250.</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 595)" onmouseover="showTip(event, 'fs43', 595)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 596)" onmouseover="showTip(event, 'fs49', 596)" class="id">withTitle</span> <span class="s">&quot;Clustered iris data (hierarchical clustering)&quot;</span>
</code></pre>
<div id="40110d11-da59-47d3-a5b1-b110e6edffb3" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_40110d11da5947d3a5b1b110e6edffb3 = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"heatmap","z":[[6.4,3.2,4.5,1.5],[6.3,3.3,4.7,1.6],[6.0,3.4,4.5,1.6],[6.0,3.0,4.8,1.8],[6.1,3.0,4.9,1.8],[5.9,3.2,4.8,1.8],[5.9,3.0,5.1,1.8],[6.1,2.8,4.0,1.3],[5.9,3.0,4.2,1.5],[6.4,2.9,4.3,1.3],[6.2,2.9,4.3,1.3],[6.1,3.0,4.6,1.4],[6.1,2.9,4.7,1.4],[6.0,2.9,4.5,1.5],[6.1,2.8,4.7,1.2],[6.6,2.9,4.6,1.3],[6.5,2.8,4.6,1.5],[6.8,2.8,4.8,1.4],[6.6,3.0,4.4,1.4],[6.7,3.1,4.4,1.4],[7.0,3.2,4.7,1.4],[6.9,3.1,4.9,1.5],[6.7,3.1,4.7,1.5],[6.0,2.7,5.1,1.6],[6.3,2.8,5.1,1.5],[6.3,2.5,4.9,1.5],[6.2,2.8,4.8,1.8],[6.3,2.7,4.9,1.8],[6.3,2.5,5.0,1.9],[6.1,2.6,5.6,1.4],[6.3,2.3,4.4,1.3],[6.2,2.2,4.5,1.5],[6.0,2.2,5.0,1.5],[5.8,2.7,5.1,1.9],[5.8,2.7,5.1,1.9],[5.7,2.5,5.0,2.0],[5.6,2.8,4.9,2.0],[5.8,2.8,5.1,2.4],[5.5,2.6,4.4,1.2],[5.7,2.8,4.5,1.3],[5.4,3.0,4.5,1.5],[5.6,3.0,4.5,1.5],[5.7,2.9,4.2,1.3],[5.7,3.0,4.2,1.2],[5.6,3.0,4.1,1.3],[5.7,2.8,4.1,1.3],[5.6,2.7,4.2,1.3],[4.9,2.5,4.5,1.7],[5.5,2.4,3.7,1.0],[5.5,2.4,3.8,1.1],[5.6,2.5,3.9,1.1],[5.5,2.3,4.0,1.3],[5.5,2.5,4.0,1.3],[5.2,2.7,3.9,1.4],[5.7,2.6,3.5,1.0],[5.6,2.9,3.6,1.3],[5.8,2.6,4.0,1.2],[5.8,2.7,3.9,1.2],[5.8,2.7,4.1,1.0],[6.0,2.2,4.0,1.0],[4.9,2.4,3.3,1.0],[5.0,2.3,3.3,1.0],[5.1,2.5,3.0,1.1],[5.0,2.0,3.5,1.0],[7.2,3.6,6.1,2.5],[7.7,3.0,6.1,2.3],[7.9,3.8,6.4,2.0],[7.7,3.8,6.7,2.2],[7.6,3.0,6.6,2.1],[7.7,2.8,6.7,2.0],[7.7,2.6,6.9,2.3],[7.2,3.0,5.8,1.6],[7.2,3.2,6.0,1.8],[7.1,3.0,5.9,2.1],[7.3,2.9,6.3,1.8],[7.4,2.8,6.1,1.9],[6.9,3.1,5.1,2.3],[6.7,3.0,5.2,2.3],[6.8,3.0,5.5,2.1],[6.9,3.1,5.4,2.1],[6.5,3.0,5.2,2.0],[6.5,3.2,5.1,2.0],[6.7,3.0,5.0,1.7],[6.4,2.8,5.6,2.1],[6.4,2.8,5.6,2.2],[6.5,3.0,5.8,2.2],[6.7,2.5,5.8,1.8],[6.5,3.0,5.5,1.8],[6.4,3.1,5.5,1.8],[6.3,2.9,5.6,1.8],[6.4,2.7,5.3,1.9],[6.3,3.4,5.6,2.4],[6.2,3.4,5.4,2.3],[6.4,3.2,5.3,2.3],[6.3,3.3,6.0,2.5],[6.8,3.2,5.9,2.3],[6.9,3.2,5.7,2.3],[6.7,3.3,5.7,2.1],[6.7,3.1,5.6,2.4],[6.7,3.3,5.7,2.5],[5.3,3.7,1.5,0.2],[5.4,3.7,1.5,0.2],[5.5,3.5,1.3,0.2],[5.4,3.9,1.3,0.4],[5.4,3.4,1.5,0.4],[5.4,3.4,1.7,0.2],[5.4,3.9,1.7,0.4],[5.7,3.8,1.7,0.3],[5.1,3.8,1.5,0.3],[5.1,3.7,1.5,0.4],[5.1,3.8,1.6,0.2],[5.1,3.8,1.9,0.4],[5.0,3.4,1.5,0.2],[5.1,3.4,1.5,0.2],[5.0,3.3,1.4,0.2],[5.2,3.5,1.5,0.2],[5.2,3.4,1.4,0.2],[5.1,3.5,1.4,0.2],[5.1,3.5,1.4,0.3],[5.0,3.5,1.3,0.3],[5.0,3.6,1.4,0.2],[5.1,3.3,1.7,0.5],[5.0,3.4,1.6,0.4],[5.0,3.5,1.6,0.6],[5.7,4.4,1.5,0.4],[5.8,4.0,1.2,0.2],[5.5,4.2,1.4,0.2],[5.2,4.1,1.5,0.1],[4.4,2.9,1.4,0.2],[4.4,3.0,1.3,0.2],[4.4,3.2,1.3,0.2],[4.3,3.0,1.1,0.1],[4.6,3.6,1.0,0.2],[4.5,2.3,1.3,0.3],[4.8,3.1,1.6,0.2],[4.7,3.2,1.6,0.2],[4.8,3.4,1.6,0.2],[4.8,3.4,1.9,0.2],[4.6,3.1,1.5,0.2],[4.6,3.2,1.4,0.2],[4.7,3.2,1.3,0.2],[4.6,3.4,1.4,0.3],[4.9,3.1,1.5,0.1],[4.9,3.1,1.5,0.1],[4.9,3.1,1.5,0.1],[5.0,3.0,1.6,0.2],[4.8,3.0,1.4,0.3],[4.9,3.0,1.4,0.2],[4.8,3.0,1.4,0.1],[5.0,3.2,1.2,0.2]],"x":["Sepal length","Sepal width","Petal length","Petal width"],"y":["Iris-versicolor_70","Iris-versicolor_147","Iris-versicolor_42","Iris-virginica_124","Iris-virginica_129","Iris-versicolor_112","Iris-virginica_44","Iris-versicolor_34","Iris-versicolor_79","Iris-versicolor_71","Iris-versicolor_117","Iris-versicolor_16","Iris-versicolor_113","Iris-versicolor_3","Iris-versicolor_115","Iris-versicolor_62","Iris-versicolor_103","Iris-versicolor_141","Iris-versicolor_20","Iris-versicolor_61","Iris-versicolor_5","Iris-versicolor_145","Iris-versicolor_78","Iris-versicolor_47","Iris-virginica_73","Iris-versicolor_93","Iris-virginica_33","Iris-virginica_49","Iris-virginica_24","Iris-virginica_101","Iris-versicolor_98","Iris-versicolor_119","Iris-virginica_1","Iris-virginica_9","Iris-virginica_76","Iris-virginica_123","Iris-virginica_131","Iris-virginica_58","Iris-versicolor_39","Iris-versicolor_102","Iris-versicolor_83","Iris-versicolor_121","Iris-versicolor_30","Iris-versicolor_139","Iris-versicolor_96","Iris-versicolor_54","Iris-versicolor_125","Iris-virginica_148","Iris-versicolor_97","Iris-versicolor_116","Iris-versicolor_142","Iris-versicolor_37","Iris-versicolor_84","Iris-versicolor_50","Iris-versicolor_18","Iris-versicolor_108","Iris-versicolor_51","Iris-versicolor_130","Iris-versicolor_72","Iris-versicolor_19","Iris-versicolor_88","Iris-versicolor_100","Iris-versicolor_91","Iris-versicolor_143","Iris-virginica_36","Iris-virginica_133","Iris-virginica_25","Iris-virginica_109","Iris-virginica_135","Iris-virginica_137","Iris-virginica_94","Iris-virginica_2","Iris-virginica_80","Iris-virginica_149","Iris-virginica_8","Iris-virginica_87","Iris-virginica_57","Iris-virginica_118","Iris-virginica_105","Iris-virginica_122","Iris-virginica_75","Iris-virginica_104","Iris-versicolor_14","Iris-virginica_82","Iris-virginica_90","Iris-virginica_21","Iris-virginica_55","Iris-virginica_6","Iris-virginica_63","Iris-virginica_146","Iris-virginica_48","Iris-virginica_4","Iris-virginica_52","Iris-virginica_31","Iris-virginica_136","Iris-virginica_22","Iris-virginica_127","Iris-virginica_32","Iris-virginica_17","Iris-virginica_59","Iris-setosa_15","Iris-setosa_138","Iris-setosa_46","Iris-setosa_128","Iris-setosa_7","Iris-setosa_89","Iris-setosa_11","Iris-setosa_107","Iris-setosa_29","Iris-setosa_144","Iris-setosa_43","Iris-setosa_64","Iris-setosa_45","Iris-setosa_69","Iris-setosa_56","Iris-setosa_12","Iris-setosa_92","Iris-setosa_40","Iris-setosa_65","Iris-setosa_85","Iris-setosa_60","Iris-setosa_67","Iris-setosa_68","Iris-setosa_134","Iris-setosa_111","Iris-setosa_114","Iris-setosa_28","Iris-setosa_38","Iris-setosa_81","Iris-setosa_95","Iris-setosa_26","Iris-setosa_99","Iris-setosa_0","Iris-setosa_66","Iris-setosa_13","Iris-setosa_74","Iris-setosa_23","Iris-setosa_132","Iris-setosa_77","Iris-setosa_120","Iris-setosa_110","Iris-setosa_140","Iris-setosa_10","Iris-setosa_53","Iris-setosa_126","Iris-setosa_35","Iris-setosa_41","Iris-setosa_106","Iris-setosa_86","Iris-setosa_27"],"colorscale":"Electric","showscale":true}];
            var layout = {"margin":{"l":250.0},"title":"Clustered iris data (hierarchical clustering)"};
            var config = {};
            Plotly.newPlot('40110d11-da59-47d3-a5b1-b110e6edffb3', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_40110d11da5947d3a5b1b110e6edffb3();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_40110d11da5947d3a5b1b110e6edffb3();
            }
</script>

<h1><a name="Determining-the-optimal-number-of-clusters" class="anchor" href="#Determining-the-optimal-number-of-clusters">Determining the optimal number of clusters</a></h1>
<h2><a name="Rule-of-thumb" class="anchor" href="#Rule-of-thumb">Rule of thumb</a></h2>
<p>The rule of thumb is a very crude cluster number estimation only based on the number of data points.</p>
<p>Reference: 'Review on Determining of Cluster in K-means Clustering'; Kodinariya et al; January 2013</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//optimal k for iris data set by using rule-of-thumb</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs177', 600)" onmouseover="showTip(event, 'fs177', 600)" class="id">ruleOfThumb</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs178', 601)" onmouseover="showTip(event, 'fs178', 601)" class="m">ClusterNumber</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs179', 602)" onmouseover="showTip(event, 'fs179', 602)" class="id">kRuleOfThumb</span> <span onmouseout="hideTip(event, 'fs20', 603)" onmouseover="showTip(event, 'fs20', 603)" class="id">data</span>
</code></pre>
<table class="pre"><tr><td><pre><code>8.660254038</code></pre></td></tr></table>
<h2><a name="Elbow-criterion" class="anchor" href="#Elbow-criterion">Elbow criterion</a></h2>
<p>The elbow criterion is a visual method to determine the optimal cluster number. The cluster dispersion is measured as the sum of all average (squared) euclidean distance of each point to its associated centroid.
The point at which the dispersion drops drastically and further increase in k does not lead to a strong decrease in dispersion is the optimal k.</p>
<p>Reference: 'Review on Determining of Cluster in K-means Clustering'; Kodinariya et al; January 2013</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs58', 604)" onmouseover="showTip(event, 'fs58', 604)" class="m">IterativeClustering</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs63', 605)" onmouseover="showTip(event, 'fs63', 605)" class="m">DistanceMetrics</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs180', 606)" onmouseover="showTip(event, 'fs180', 606)" class="id">kElbow</span> <span class="o">=</span> <span class="n">10</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs181', 607)" onmouseover="showTip(event, 'fs181', 607)" class="id">iterations</span> <span class="o">=</span> <span class="n">10</span> 

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs182', 608)" onmouseover="showTip(event, 'fs182', 608)" class="id">dispersionOfK</span> <span class="o">=</span> 
    <span class="pn">[|</span><span class="n">1..</span><span onmouseout="hideTip(event, 'fs180', 609)" onmouseover="showTip(event, 'fs180', 609)" class="id">kElbow</span><span class="pn">|]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 610)" onmouseover="showTip(event, 'fs183', 610)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 611)" onmouseover="showTip(event, 'fs90', 611)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs76', 612)" onmouseover="showTip(event, 'fs76', 612)" class="fn">k</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs184', 613)" onmouseover="showTip(event, 'fs184', 613)" class="fn">dispersion</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs185', 614)" onmouseover="showTip(event, 'fs185', 614)" class="fn">std</span><span class="pn">)</span> <span class="o">=</span> 
            <span class="pn">[|</span><span class="n">1..</span><span onmouseout="hideTip(event, 'fs181', 615)" onmouseover="showTip(event, 'fs181', 615)" class="id">iterations</span><span class="pn">|]</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 616)" onmouseover="showTip(event, 'fs183', 616)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 617)" onmouseover="showTip(event, 'fs90', 617)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs30', 618)" onmouseover="showTip(event, 'fs30', 618)" class="fn">i</span> <span class="k">-&gt;</span> 
                <span onmouseout="hideTip(event, 'fs186', 619)" onmouseover="showTip(event, 'fs186', 619)" class="fn">kmeans</span> <span onmouseout="hideTip(event, 'fs152', 620)" onmouseover="showTip(event, 'fs152', 620)" class="fn">euclideanNaNSquared</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs60', 621)" onmouseover="showTip(event, 'fs60', 621)" class="fn">randomCentroids</span> <span onmouseout="hideTip(event, 'fs55', 622)" onmouseover="showTip(event, 'fs55', 622)" class="id">rnd</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs20', 623)" onmouseover="showTip(event, 'fs20', 623)" class="id">data</span> <span onmouseout="hideTip(event, 'fs76', 624)" onmouseover="showTip(event, 'fs76', 624)" class="fn">k</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs187', 625)" onmouseover="showTip(event, 'fs187', 625)" class="fn">DispersionOfClusterResult</span><span class="pn">)</span>
            <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs188', 626)" onmouseover="showTip(event, 'fs188', 626)" class="fn">dispersions</span> <span class="k">-&gt;</span> 
                <span onmouseout="hideTip(event, 'fs45', 627)" onmouseover="showTip(event, 'fs45', 627)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs189', 628)" onmouseover="showTip(event, 'fs189', 628)" class="id">mean</span> <span onmouseout="hideTip(event, 'fs188', 629)" onmouseover="showTip(event, 'fs188', 629)" class="fn">dispersions</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs45', 630)" onmouseover="showTip(event, 'fs45', 630)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs190', 631)" onmouseover="showTip(event, 'fs190', 631)" class="id">stDev</span> <span onmouseout="hideTip(event, 'fs188', 632)" onmouseover="showTip(event, 'fs188', 632)" class="fn">dispersions</span>
        <span onmouseout="hideTip(event, 'fs76', 633)" onmouseover="showTip(event, 'fs76', 633)" class="fn">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs184', 634)" onmouseover="showTip(event, 'fs184', 634)" class="fn">dispersion</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs185', 635)" onmouseover="showTip(event, 'fs185', 635)" class="fn">std</span>
        <span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs191', 636)" onmouseover="showTip(event, 'fs191', 636)" class="id">elbowChart</span> <span class="o">=</span> 

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs107', 637)" onmouseover="showTip(event, 'fs107', 637)" class="fn">axis</span> <span onmouseout="hideTip(event, 'fs94', 638)" onmouseover="showTip(event, 'fs94', 638)" class="fn">title</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 639)" onmouseover="showTip(event, 'fs95', 639)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 640)" onmouseover="showTip(event, 'fs96', 640)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 641)" onmouseover="showTip(event, 'fs97', 641)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 642)" onmouseover="showTip(event, 'fs94', 642)" class="fn">title</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 643)" onmouseover="showTip(event, 'fs39', 643)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 644)" onmouseover="showTip(event, 'fs98', 644)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 645)" onmouseover="showTip(event, 'fs99', 645)" class="id">All</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 646)" onmouseover="showTip(event, 'fs39', 646)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 647)" onmouseover="showTip(event, 'fs100', 647)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 648)" onmouseover="showTip(event, 'fs101', 648)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs108', 649)" onmouseover="showTip(event, 'fs108', 649)" class="fn">axisRange</span> <span onmouseout="hideTip(event, 'fs94', 650)" onmouseover="showTip(event, 'fs94', 650)" class="fn">title</span> <span onmouseout="hideTip(event, 'fs103', 651)" onmouseover="showTip(event, 'fs103', 651)" class="fn">range</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 652)" onmouseover="showTip(event, 'fs95', 652)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 653)" onmouseover="showTip(event, 'fs96', 653)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 654)" onmouseover="showTip(event, 'fs97', 654)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 655)" onmouseover="showTip(event, 'fs94', 655)" class="fn">title</span><span class="pn">,</span><span class="fn">Range</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 656)" onmouseover="showTip(event, 'fs39', 656)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs104', 657)" onmouseover="showTip(event, 'fs104', 657)" class="rt">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs105', 658)" onmouseover="showTip(event, 'fs105', 658)" class="id">MinMax</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 659)" onmouseover="showTip(event, 'fs103', 659)" class="fn">range</span><span class="pn">)</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 660)" onmouseover="showTip(event, 'fs39', 660)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 661)" onmouseover="showTip(event, 'fs98', 661)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 662)" onmouseover="showTip(event, 'fs99', 662)" class="id">All</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">false</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 663)" onmouseover="showTip(event, 'fs39', 663)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 664)" onmouseover="showTip(event, 'fs100', 664)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 665)" onmouseover="showTip(event, 'fs101', 665)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>

    <span onmouseout="hideTip(event, 'fs43', 666)" onmouseover="showTip(event, 'fs43', 666)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs192', 667)" onmouseover="showTip(event, 'fs192', 667)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs182', 668)" onmouseover="showTip(event, 'fs182', 668)" class="id">dispersionOfK</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 669)" onmouseover="showTip(event, 'fs183', 669)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 670)" onmouseover="showTip(event, 'fs90', 670)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs76', 671)" onmouseover="showTip(event, 'fs76', 671)" class="fn">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs184', 672)" onmouseover="showTip(event, 'fs184', 672)" class="fn">dispersion</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs185', 673)" onmouseover="showTip(event, 'fs185', 673)" class="fn">std</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs76', 674)" onmouseover="showTip(event, 'fs76', 674)" class="fn">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs184', 675)" onmouseover="showTip(event, 'fs184', 675)" class="fn">dispersion</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 676)" onmouseover="showTip(event, 'fs43', 676)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs193', 677)" onmouseover="showTip(event, 'fs193', 677)" class="id">withYErrorStyle</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs182', 678)" onmouseover="showTip(event, 'fs182', 678)" class="id">dispersionOfK</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 679)" onmouseover="showTip(event, 'fs183', 679)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 680)" onmouseover="showTip(event, 'fs90', 680)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs76', 681)" onmouseover="showTip(event, 'fs76', 681)" class="fn">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs184', 682)" onmouseover="showTip(event, 'fs184', 682)" class="fn">dispersion</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs185', 683)" onmouseover="showTip(event, 'fs185', 683)" class="fn">std</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs185', 684)" onmouseover="showTip(event, 'fs185', 684)" class="fn">std</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 685)" onmouseover="showTip(event, 'fs43', 685)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 686)" onmouseover="showTip(event, 'fs129', 686)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 687)" onmouseover="showTip(event, 'fs107', 687)" class="fn">axis</span> <span class="s">&quot;k&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 688)" onmouseover="showTip(event, 'fs43', 688)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 689)" onmouseover="showTip(event, 'fs130', 689)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 690)" onmouseover="showTip(event, 'fs107', 690)" class="fn">axis</span> <span class="s">&quot;dispersion&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 691)" onmouseover="showTip(event, 'fs43', 691)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 692)" onmouseover="showTip(event, 'fs49', 692)" class="id">withTitle</span> <span class="s">&quot;Iris data set dispersion&quot;</span>
</code></pre>
<div id="625142f9-e4f3-4914-b8c0-846be9ff3310" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_625142f9e4f34914b8c0846be9ff3310 = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10],"y":[31.924721795581654,2.6540379473960143,0.9478692404973821,0.3851148188410017,0.19499662523916103,0.17220479539567807,0.13229067079429133,0.12796760356644593,0.10204792907178564,0.08731931153328104],"mode":"lines","marker":{},"error_y":{"array":[0.0,0.0,0.8088764664700684,0.13347083323560713,0.02522920168586034,0.021719715516807785,0.037531432956833095,0.056036963111381954,0.03577688691769346,0.039715483510572205]}}];
            var layout = {"xaxis":{"title":"k","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"yaxis":{"title":"dispersion","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"title":"Iris data set dispersion"};
            var config = {};
            Plotly.newPlot('625142f9-e4f3-4914-b8c0-846be9ff3310', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_625142f9e4f34914b8c0846be9ff3310();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_625142f9e4f34914b8c0846be9ff3310();
            }
</script>

<h1><a name="AIC" class="anchor" href="#AIC">AIC</a></h1>
<p><a href="https://nlp.stanford.edu/IR-book/html/htmledition/cluster-cardinality-in-k-means-1.html">Reference</a></p>
<p>The Akaike information criterion (AIC) balances the information gain (with raising k) against parameter necessity (number of k).
The k that minimizes the AIC is assumed to be the optimal one.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs194', 696)" onmouseover="showTip(event, 'fs194', 696)" class="id">aicBootstraps</span> <span class="o">=</span> <span class="n">10</span>

<span class="c">//optimal k for iris data set by using aic</span>
<span class="k">let</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs195', 697)" onmouseover="showTip(event, 'fs195', 697)" class="id">aicK</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs196', 698)" onmouseover="showTip(event, 'fs196', 698)" class="id">aicMeans</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs197', 699)" onmouseover="showTip(event, 'fs197', 699)" class="id">aicStd</span><span class="pn">)</span> <span class="o">=</span>
    <span class="c">//perform 10 iterations and take the mean and standard deviation of the aic</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs198', 700)" onmouseover="showTip(event, 'fs198', 700)" class="fn">aic</span> <span class="o">=</span> 
        <span class="pn">[|</span><span class="n">1..</span><span onmouseout="hideTip(event, 'fs194', 701)" onmouseover="showTip(event, 'fs194', 701)" class="id">aicBootstraps</span><span class="pn">|]</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 702)" onmouseover="showTip(event, 'fs183', 702)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 703)" onmouseover="showTip(event, 'fs90', 703)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs199', 704)" onmouseover="showTip(event, 'fs199', 704)" class="fn">b</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs178', 705)" onmouseover="showTip(event, 'fs178', 705)" class="m">ClusterNumber</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs200', 706)" onmouseover="showTip(event, 'fs200', 706)" class="id">calcAIC</span> <span class="n">10</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs186', 707)" onmouseover="showTip(event, 'fs186', 707)" class="fn">kmeans</span> <span onmouseout="hideTip(event, 'fs152', 708)" onmouseover="showTip(event, 'fs152', 708)" class="fn">euclideanNaNSquared</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs60', 709)" onmouseover="showTip(event, 'fs60', 709)" class="fn">randomCentroids</span> <span onmouseout="hideTip(event, 'fs55', 710)" onmouseover="showTip(event, 'fs55', 710)" class="id">rnd</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs20', 711)" onmouseover="showTip(event, 'fs20', 711)" class="id">data</span><span class="pn">)</span> <span class="n">15</span><span class="pn">)</span>
    <span onmouseout="hideTip(event, 'fs198', 712)" onmouseover="showTip(event, 'fs198', 712)" class="fn">aic</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 713)" onmouseover="showTip(event, 'fs183', 713)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 714)" onmouseover="showTip(event, 'fs90', 714)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs201', 715)" onmouseover="showTip(event, 'fs201', 715)" class="fn">iteration</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs183', 716)" onmouseover="showTip(event, 'fs183', 716)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 717)" onmouseover="showTip(event, 'fs90', 717)" class="id">map</span> <span onmouseout="hideTip(event, 'fs202', 718)" onmouseover="showTip(event, 'fs202', 718)" class="fn">snd</span> <span onmouseout="hideTip(event, 'fs201', 719)" onmouseover="showTip(event, 'fs201', 719)" class="fn">iteration</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs203', 720)" onmouseover="showTip(event, 'fs203', 720)" class="m">JaggedArray</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs204', 721)" onmouseover="showTip(event, 'fs204', 721)" class="id">transpose</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 722)" onmouseover="showTip(event, 'fs183', 722)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs29', 723)" onmouseover="showTip(event, 'fs29', 723)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs30', 724)" onmouseover="showTip(event, 'fs30', 724)" class="fn">i</span> <span onmouseout="hideTip(event, 'fs205', 725)" onmouseover="showTip(event, 'fs205', 725)" class="fn">aics</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs30', 726)" onmouseover="showTip(event, 'fs30', 726)" class="fn">i</span><span class="o">+</span><span class="n">1</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs45', 727)" onmouseover="showTip(event, 'fs45', 727)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs189', 728)" onmouseover="showTip(event, 'fs189', 728)" class="id">mean</span> <span onmouseout="hideTip(event, 'fs205', 729)" onmouseover="showTip(event, 'fs205', 729)" class="fn">aics</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs45', 730)" onmouseover="showTip(event, 'fs45', 730)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs190', 731)" onmouseover="showTip(event, 'fs190', 731)" class="id">stDev</span> <span onmouseout="hideTip(event, 'fs205', 732)" onmouseover="showTip(event, 'fs205', 732)" class="fn">aics</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 733)" onmouseover="showTip(event, 'fs183', 733)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs206', 734)" onmouseover="showTip(event, 'fs206', 734)" class="id">unzip3</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs207', 735)" onmouseover="showTip(event, 'fs207', 735)" class="id">aicChart</span> <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs107', 736)" onmouseover="showTip(event, 'fs107', 736)" class="fn">axis</span> <span onmouseout="hideTip(event, 'fs94', 737)" onmouseover="showTip(event, 'fs94', 737)" class="fn">title</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 738)" onmouseover="showTip(event, 'fs95', 738)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 739)" onmouseover="showTip(event, 'fs96', 739)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 740)" onmouseover="showTip(event, 'fs97', 740)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 741)" onmouseover="showTip(event, 'fs94', 741)" class="fn">title</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 742)" onmouseover="showTip(event, 'fs39', 742)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 743)" onmouseover="showTip(event, 'fs98', 743)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 744)" onmouseover="showTip(event, 'fs99', 744)" class="id">All</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 745)" onmouseover="showTip(event, 'fs39', 745)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 746)" onmouseover="showTip(event, 'fs100', 746)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 747)" onmouseover="showTip(event, 'fs101', 747)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs108', 748)" onmouseover="showTip(event, 'fs108', 748)" class="fn">axisRange</span> <span onmouseout="hideTip(event, 'fs94', 749)" onmouseover="showTip(event, 'fs94', 749)" class="fn">title</span> <span onmouseout="hideTip(event, 'fs103', 750)" onmouseover="showTip(event, 'fs103', 750)" class="fn">range</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 751)" onmouseover="showTip(event, 'fs95', 751)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 752)" onmouseover="showTip(event, 'fs96', 752)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 753)" onmouseover="showTip(event, 'fs97', 753)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 754)" onmouseover="showTip(event, 'fs94', 754)" class="fn">title</span><span class="pn">,</span><span class="fn">Range</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 755)" onmouseover="showTip(event, 'fs39', 755)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs104', 756)" onmouseover="showTip(event, 'fs104', 756)" class="rt">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs105', 757)" onmouseover="showTip(event, 'fs105', 757)" class="id">MinMax</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 758)" onmouseover="showTip(event, 'fs103', 758)" class="fn">range</span><span class="pn">)</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 759)" onmouseover="showTip(event, 'fs39', 759)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 760)" onmouseover="showTip(event, 'fs98', 760)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 761)" onmouseover="showTip(event, 'fs99', 761)" class="id">All</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">false</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 762)" onmouseover="showTip(event, 'fs39', 762)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 763)" onmouseover="showTip(event, 'fs100', 763)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 764)" onmouseover="showTip(event, 'fs101', 764)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    
    <span onmouseout="hideTip(event, 'fs43', 765)" onmouseover="showTip(event, 'fs43', 765)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs192', 766)" onmouseover="showTip(event, 'fs192', 766)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs195', 767)" onmouseover="showTip(event, 'fs195', 767)" class="id">aicK</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs196', 768)" onmouseover="showTip(event, 'fs196', 768)" class="id">aicMeans</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 769)" onmouseover="showTip(event, 'fs43', 769)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 770)" onmouseover="showTip(event, 'fs129', 770)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 771)" onmouseover="showTip(event, 'fs107', 771)" class="fn">axis</span> <span class="s">&quot;k&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 772)" onmouseover="showTip(event, 'fs43', 772)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 773)" onmouseover="showTip(event, 'fs130', 773)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 774)" onmouseover="showTip(event, 'fs107', 774)" class="fn">axis</span> <span class="s">&quot;AIC&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 775)" onmouseover="showTip(event, 'fs43', 775)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs193', 776)" onmouseover="showTip(event, 'fs193', 776)" class="id">withYErrorStyle</span> <span onmouseout="hideTip(event, 'fs197', 777)" onmouseover="showTip(event, 'fs197', 777)" class="id">aicStd</span>
</code></pre>
<div id="099d1a7f-6e04-46a5-84f5-cc804bd37224" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_099d1a7f6e0446a584f5cc804bd37224 = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],"y":[5088.7082693372495,998.1056921094023,1040.7036744300149,1259.5280551057235,1542.135706665174,1828.983942865858,2122.702819022978,2417.7080590183295,2713.9062764494734,3012.3066514243646,3310.415269013128,3608.959657817594,3907.7185453656325,4207.425047293388,4506.692835299101],"mode":"lines","marker":{},"error_y":{"array":[0.0,0.0,42.365760184948186,12.331981394588167,11.199158286570155,5.577918820890501,2.931330336870545,1.525177151103472,1.1638741035665965,2.2663733308693255,1.3369301030046243,0.8314926072348601,0.7052064758278245,0.6675757957457068,0.26798188299990217]}}];
            var layout = {"xaxis":{"title":"k","ticks":"inside","mirror":"all","showline":true,"showgrid":true},"yaxis":{"title":"AIC","ticks":"inside","mirror":"all","showline":true,"showgrid":true}};
            var config = {};
            Plotly.newPlot('099d1a7f-6e04-46a5-84f5-cc804bd37224', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_099d1a7f6e0446a584f5cc804bd37224();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_099d1a7f6e0446a584f5cc804bd37224();
            }
</script>

<h2><a name="Silhouette-coefficient" class="anchor" href="#Silhouette-coefficient">Silhouette coefficient</a></h2>
<p>The silhouette index ranges from -1 to 1, where -1 indicates a misclassified point, and 1 indicates a perfect fit.
It can be calculated for every point by comparing the mean intra cluster distance with the nearest mean inter cluster distance.
The mean of all indices can be visualized, where a maximal value indicates the optimal k.</p>
<p>Reference: 'Review on Determining of Cluster in K-means Clustering'; Kodinariya et al; January 2013</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// The following example expects the raw data to be clustered by k means clustering.</span>
<span class="c">// If you already have clustered data use the &#39;silhouetteIndex&#39; function instead.</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs208', 781)" onmouseover="showTip(event, 'fs208', 781)" class="id">silhouetteData</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs9', 782)" onmouseover="showTip(event, 'fs9', 782)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 783)" onmouseover="showTip(event, 'fs10', 783)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 784)" onmouseover="showTip(event, 'fs11', 784)" class="rt">File</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs209', 785)" onmouseover="showTip(event, 'fs209', 785)" class="id">ReadAllLines</span><span class="pn">(</span><span class="k">__SOURCE_DIRECTORY__</span> <span class="o">+</span> <span class="s">&quot;/data/silhouetteIndexData.txt&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 786)" onmouseover="showTip(event, 'fs183', 786)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 787)" onmouseover="showTip(event, 'fs90', 787)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs210', 788)" onmouseover="showTip(event, 'fs210', 788)" class="fn">x</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs211', 789)" onmouseover="showTip(event, 'fs211', 789)" class="fn">tmp</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs210', 790)" onmouseover="showTip(event, 'fs210', 790)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 791)" onmouseover="showTip(event, 'fs18', 791)" class="id">Split</span> <span class="s">&#39;\t&#39;</span>
        <span class="pn">[|</span><span onmouseout="hideTip(event, 'fs25', 792)" onmouseover="showTip(event, 'fs25', 792)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs211', 793)" onmouseover="showTip(event, 'fs211', 793)" class="fn">tmp</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs25', 794)" onmouseover="showTip(event, 'fs25', 794)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs211', 795)" onmouseover="showTip(event, 'fs211', 795)" class="fn">tmp</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">|]</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs212', 796)" onmouseover="showTip(event, 'fs212', 796)" class="id">sI</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs52', 797)" onmouseover="showTip(event, 'fs52', 797)" class="id">ML</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 798)" onmouseover="showTip(event, 'fs53', 798)" class="id">Unsupervised</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs178', 799)" onmouseover="showTip(event, 'fs178', 799)" class="m">ClusterNumber</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs213', 800)" onmouseover="showTip(event, 'fs213', 800)" class="id">silhouetteIndexKMeans</span> 
        <span class="n">50</span>              <span class="c">// number of bootstraps </span>
        <span class="pn">(</span><span onmouseout="hideTip(event, 'fs186', 801)" onmouseover="showTip(event, 'fs186', 801)" class="fn">kmeans</span> <span onmouseout="hideTip(event, 'fs152', 802)" onmouseover="showTip(event, 'fs152', 802)" class="fn">euclideanNaNSquared</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs60', 803)" onmouseover="showTip(event, 'fs60', 803)" class="fn">randomCentroids</span> <span onmouseout="hideTip(event, 'fs55', 804)" onmouseover="showTip(event, 'fs55', 804)" class="id">rnd</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs208', 805)" onmouseover="showTip(event, 'fs208', 805)" class="id">silhouetteData</span><span class="pn">)</span> 
        <span onmouseout="hideTip(event, 'fs208', 806)" onmouseover="showTip(event, 'fs208', 806)" class="id">silhouetteData</span>  <span class="c">// input data</span>
        <span class="n">15</span>              <span class="c">// maximal number of allowed k</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs214', 807)" onmouseover="showTip(event, 'fs214', 807)" class="id">rawDataChart</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs208', 808)" onmouseover="showTip(event, 'fs208', 808)" class="id">silhouetteData</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 809)" onmouseover="showTip(event, 'fs183', 809)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 810)" onmouseover="showTip(event, 'fs90', 810)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs91', 811)" onmouseover="showTip(event, 'fs91', 811)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs91', 812)" onmouseover="showTip(event, 'fs91', 812)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs91', 813)" onmouseover="showTip(event, 'fs91', 813)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 814)" onmouseover="showTip(event, 'fs43', 814)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 815)" onmouseover="showTip(event, 'fs119', 815)" class="id">Point</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs215', 816)" onmouseover="showTip(event, 'fs215', 816)" class="id">silhouetteIndicesChart</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs43', 817)" onmouseover="showTip(event, 'fs43', 817)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs192', 818)" onmouseover="showTip(event, 'fs192', 818)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs212', 819)" onmouseover="showTip(event, 'fs212', 819)" class="id">sI</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 820)" onmouseover="showTip(event, 'fs183', 820)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 821)" onmouseover="showTip(event, 'fs90', 821)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs216', 822)" onmouseover="showTip(event, 'fs216', 822)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs216', 823)" onmouseover="showTip(event, 'fs216', 823)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs217', 824)" onmouseover="showTip(event, 'fs217', 824)" class="id">ClusterNumber</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs216', 825)" onmouseover="showTip(event, 'fs216', 825)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs218', 826)" onmouseover="showTip(event, 'fs218', 826)" class="id">SilhouetteIndex</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 827)" onmouseover="showTip(event, 'fs43', 827)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs193', 828)" onmouseover="showTip(event, 'fs193', 828)" class="id">withYErrorStyle</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs212', 829)" onmouseover="showTip(event, 'fs212', 829)" class="id">sI</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 830)" onmouseover="showTip(event, 'fs183', 830)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 831)" onmouseover="showTip(event, 'fs90', 831)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs216', 832)" onmouseover="showTip(event, 'fs216', 832)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs216', 833)" onmouseover="showTip(event, 'fs216', 833)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs219', 834)" onmouseover="showTip(event, 'fs219', 834)" class="id">SilhouetteIndexStDev</span><span class="pn">)</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs220', 835)" onmouseover="showTip(event, 'fs220', 835)" class="id">combinedSilhouette</span> <span class="o">=</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs107', 836)" onmouseover="showTip(event, 'fs107', 836)" class="fn">axis</span> <span onmouseout="hideTip(event, 'fs94', 837)" onmouseover="showTip(event, 'fs94', 837)" class="fn">title</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 838)" onmouseover="showTip(event, 'fs95', 838)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 839)" onmouseover="showTip(event, 'fs96', 839)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 840)" onmouseover="showTip(event, 'fs97', 840)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 841)" onmouseover="showTip(event, 'fs94', 841)" class="fn">title</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 842)" onmouseover="showTip(event, 'fs39', 842)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 843)" onmouseover="showTip(event, 'fs98', 843)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 844)" onmouseover="showTip(event, 'fs99', 844)" class="id">All</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 845)" onmouseover="showTip(event, 'fs39', 845)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 846)" onmouseover="showTip(event, 'fs100', 846)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 847)" onmouseover="showTip(event, 'fs101', 847)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs108', 848)" onmouseover="showTip(event, 'fs108', 848)" class="fn">axisRange</span> <span onmouseout="hideTip(event, 'fs94', 849)" onmouseover="showTip(event, 'fs94', 849)" class="fn">title</span> <span onmouseout="hideTip(event, 'fs103', 850)" onmouseover="showTip(event, 'fs103', 850)" class="fn">range</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 851)" onmouseover="showTip(event, 'fs95', 851)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 852)" onmouseover="showTip(event, 'fs96', 852)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 853)" onmouseover="showTip(event, 'fs97', 853)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 854)" onmouseover="showTip(event, 'fs94', 854)" class="fn">title</span><span class="pn">,</span><span class="fn">Range</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 855)" onmouseover="showTip(event, 'fs39', 855)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs104', 856)" onmouseover="showTip(event, 'fs104', 856)" class="rt">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs105', 857)" onmouseover="showTip(event, 'fs105', 857)" class="id">MinMax</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 858)" onmouseover="showTip(event, 'fs103', 858)" class="fn">range</span><span class="pn">)</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 859)" onmouseover="showTip(event, 'fs39', 859)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 860)" onmouseover="showTip(event, 'fs98', 860)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 861)" onmouseover="showTip(event, 'fs99', 861)" class="id">All</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">false</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 862)" onmouseover="showTip(event, 'fs39', 862)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 863)" onmouseover="showTip(event, 'fs100', 863)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 864)" onmouseover="showTip(event, 'fs101', 864)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>

    <span class="pn">[</span>
    <span onmouseout="hideTip(event, 'fs214', 865)" onmouseover="showTip(event, 'fs214', 865)" class="id">rawDataChart</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 866)" onmouseover="showTip(event, 'fs43', 866)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 867)" onmouseover="showTip(event, 'fs129', 867)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 868)" onmouseover="showTip(event, 'fs107', 868)" class="fn">axis</span> <span class="s">&quot;&quot;</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 869)" onmouseover="showTip(event, 'fs43', 869)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 870)" onmouseover="showTip(event, 'fs130', 870)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 871)" onmouseover="showTip(event, 'fs107', 871)" class="fn">axis</span> <span class="s">&quot;&quot;</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 872)" onmouseover="showTip(event, 'fs43', 872)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 873)" onmouseover="showTip(event, 'fs120', 873)" class="id">withTraceName</span> <span class="s">&quot;raw data&quot;</span>
    <span onmouseout="hideTip(event, 'fs215', 874)" onmouseover="showTip(event, 'fs215', 874)" class="id">silhouetteIndicesChart</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 875)" onmouseover="showTip(event, 'fs43', 875)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 876)" onmouseover="showTip(event, 'fs129', 876)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 877)" onmouseover="showTip(event, 'fs107', 877)" class="fn">axis</span> <span class="s">&quot;k&quot;</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 878)" onmouseover="showTip(event, 'fs43', 878)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 879)" onmouseover="showTip(event, 'fs130', 879)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 880)" onmouseover="showTip(event, 'fs107', 880)" class="fn">axis</span> <span class="s">&quot;silhouette index&quot;</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 881)" onmouseover="showTip(event, 'fs43', 881)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 882)" onmouseover="showTip(event, 'fs120', 882)" class="id">withTraceName</span> <span class="s">&quot;silhouette&quot;</span>
    <span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 883)" onmouseover="showTip(event, 'fs43', 883)" class="rt">Chart</span><span class="pn">.</span><span class="id">Stack</span> <span class="pn">(</span><span class="n">2</span><span class="pn">,</span><span class="n">0.1</span><span class="pn">)</span>
</code></pre>
<div id="ec52f67d-ed3d-4964-83da-0fafaa0eeb4c" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_ec52f67ded3d496483da0fafaa0eeb4c = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"scatter","x":[7.27,8.29,6.98,6.37,2.13,0.81,9.57,7.44,4.68,6.85,1.78,5.52,6.97,8.5,10.01,11.94,2.48,10.94,7.8,2.22,0.1,10.65,7.37,6.9,8.61,11.42,7.84,6.92,7.28,9.6,10.54,8.32,5.29,11.58,2.05,2.06,1.03,3.35,5.85,11.99,7.89,6.12,11.34,5.36,7.04,0.0,6.82,7.21,2.14,2.65,7.75,8.03,6.7,11.35,9.29,5.9,7.53,9.97,10.97,-0.8,11.55,8.07,7.88,9.92,1.65,-0.59,1.58,10.65,1.37,6.77,12.41,2.26,-0.28,1.57,10.8,7.52,11.21,8.15,1.82,11.33,10.46,-1.59,6.48,6.8,11.13,10.73,7.48,8.64,2.98,-0.57,7.6,10.62,4.27,-1.8,-1.51,6.18,9.69,11.64,0.86,8.54,7.85,1.83,-0.45,5.37,10.12,10.35,10.38,13.17,8.13,11.34,1.39,1.77,10.39,3.1,7.83,5.11,4.91,7.84,1.92,7.12,9.79,11.4,1.69,1.21,10.65,0.2,12.23,2.69,1.04,10.71],"y":[3.06,0.52,3.16,2.41,4.98,10.82,-0.55,1.17,10.66,3.1,5.38,1.33,1.62,2.86,0.34,-0.15,4.65,13.65,1.3,9.97,10.8,-0.14,2.52,2.85,1.49,0.31,0.74,2.11,1.35,0.22,12.88,2.62,0.86,13.88,9.71,3.6,11.55,11.18,2.43,-0.32,2.17,3.25,-1.23,3.01,1.55,9.82,3.55,3.26,10.8,10.24,1.75,1.74,2.12,13.69,13.95,0.98,2.39,-0.85,0.39,11.71,12.73,2.66,4.72,0.63,5.08,9.73,10.32,12.03,9.36,2.37,-0.28,5.03,8.18,4.75,13.54,2.08,14.15,2.12,10.51,-0.15,-0.35,9.96,3.3,3.84,14.77,13.82,2.1,15.52,10.97,9.03,0.28,-0.51,2.34,10.01,10.19,2.67,14.36,15.31,9.49,3.61,2.47,11.21,10.53,3.56,-0.62,0.48,-0.66,0.41,2.3,14.58,9.68,5.17,13.64,4.52,1.25,2.6,0.43,1.94,9.82,2.03,13.56,14.57,11.19,8.98,13.15,9.23,15.21,4.93,10.54,-1.31],"mode":"markers","marker":{},"name":"raw data","xaxis":"x","yaxis":"y"},{"type":"scatter","x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15],"y":[0.7124952568761254,0.7736570912143587,0.775668582304306,0.7882344593794083,0.7552411919481468,0.7025059476719413,0.6566578721630397,0.6464628710516328,0.6183851820378424,0.6157287111207933,0.5941421500595412,0.5826183399426254,0.572364196278702,0.5518373811590014],"mode":"lines","marker":{},"error_y":{"array":[0.02914649673289937,0.14804556554425669,0.03945594181022483,0.07137627713888536,0.04321338132531265,0.05008699305226207,0.05065984909503762,0.04573863504083635,0.0468531039965991,0.055629049951065775,0.049008373771705666,0.040963815322557065,0.042023862392308486,0.051099703998666625]},"name":"silhouette","xaxis":"x2","yaxis":"y2"}];
            var layout = {"yaxis":{"title":"","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"x","domain":[0.09999999999999998,1.0]},"xaxis":{"title":"","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"y","domain":[0.0,0.4]},"yaxis2":{"title":"silhouette index","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"x2","domain":[0.09999999999999998,1.0]},"xaxis2":{"title":"k","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"y2","domain":[0.5,0.9]}};
            var config = {};
            Plotly.newPlot('ec52f67d-ed3d-4964-83da-0fafaa0eeb4c', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_ec52f67ded3d496483da0fafaa0eeb4c();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_ec52f67ded3d496483da0fafaa0eeb4c();
            }
</script>

<h2><a name="GapStatistics" class="anchor" href="#GapStatistics">GapStatistics</a></h2>
<p>Reference: 'Estimating the number of clusters in a data set via the gap statistic'; J. R. Statist. Soc. B (2001); Tibshirani, Walther, and Hastie</p>
<p>Gap statistics allows to determine the optimal cluster number by comparing the cluster dispersion (intra-cluster variation) of a reference dataset to the original data cluster dispersion.
For each k both dispersions are calculated, while for the reference dataset multiple iterations are performed for each k. The difference of the log(dispersionOriginal) and the log(dispersionReference) is called 'gap'.
The maximal gap points to the optimal cluster number.</p>
<p>Two ways to generate a reference data set are implemented.</p>
<ul>
<li>a uniform coverage within the range of the original data set</li>
<li>a PCA based point coverage, that considers the density/shape of the original data</li>
</ul>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs221', 887)" onmouseover="showTip(event, 'fs221', 887)" class="id">gapStatisticsData</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs9', 888)" onmouseover="showTip(event, 'fs9', 888)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 889)" onmouseover="showTip(event, 'fs10', 889)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 890)" onmouseover="showTip(event, 'fs11', 890)" class="rt">File</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs209', 891)" onmouseover="showTip(event, 'fs209', 891)" class="id">ReadAllLines</span><span class="pn">(</span><span class="k">__SOURCE_DIRECTORY__</span> <span class="o">+</span> <span class="s">&quot;/data/gapStatisticsData.txt&quot;</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 892)" onmouseover="showTip(event, 'fs183', 892)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 893)" onmouseover="showTip(event, 'fs90', 893)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs210', 894)" onmouseover="showTip(event, 'fs210', 894)" class="fn">x</span> <span class="k">-&gt;</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs211', 895)" onmouseover="showTip(event, 'fs211', 895)" class="fn">tmp</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs210', 896)" onmouseover="showTip(event, 'fs210', 896)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 897)" onmouseover="showTip(event, 'fs18', 897)" class="id">Split</span> <span class="s">&#39;\t&#39;</span>
        <span onmouseout="hideTip(event, 'fs211', 898)" onmouseover="showTip(event, 'fs211', 898)" class="fn">tmp</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 899)" onmouseover="showTip(event, 'fs183', 899)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 900)" onmouseover="showTip(event, 'fs90', 900)" class="id">map</span> <span onmouseout="hideTip(event, 'fs25', 901)" onmouseover="showTip(event, 'fs25', 901)" class="fn">float</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs222', 902)" onmouseover="showTip(event, 'fs222', 902)" class="id">gapDataChart</span> <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs107', 903)" onmouseover="showTip(event, 'fs107', 903)" class="fn">axis</span> <span onmouseout="hideTip(event, 'fs94', 904)" onmouseover="showTip(event, 'fs94', 904)" class="fn">title</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 905)" onmouseover="showTip(event, 'fs95', 905)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 906)" onmouseover="showTip(event, 'fs96', 906)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 907)" onmouseover="showTip(event, 'fs97', 907)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 908)" onmouseover="showTip(event, 'fs94', 908)" class="fn">title</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 909)" onmouseover="showTip(event, 'fs39', 909)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 910)" onmouseover="showTip(event, 'fs98', 910)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 911)" onmouseover="showTip(event, 'fs99', 911)" class="id">All</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 912)" onmouseover="showTip(event, 'fs39', 912)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 913)" onmouseover="showTip(event, 'fs100', 913)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 914)" onmouseover="showTip(event, 'fs101', 914)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs108', 915)" onmouseover="showTip(event, 'fs108', 915)" class="fn">axisRange</span> <span onmouseout="hideTip(event, 'fs94', 916)" onmouseover="showTip(event, 'fs94', 916)" class="fn">title</span> <span onmouseout="hideTip(event, 'fs103', 917)" onmouseover="showTip(event, 'fs103', 917)" class="fn">range</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 918)" onmouseover="showTip(event, 'fs95', 918)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 919)" onmouseover="showTip(event, 'fs96', 919)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 920)" onmouseover="showTip(event, 'fs97', 920)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 921)" onmouseover="showTip(event, 'fs94', 921)" class="fn">title</span><span class="pn">,</span><span class="fn">Range</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 922)" onmouseover="showTip(event, 'fs39', 922)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs104', 923)" onmouseover="showTip(event, 'fs104', 923)" class="rt">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs105', 924)" onmouseover="showTip(event, 'fs105', 924)" class="id">MinMax</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 925)" onmouseover="showTip(event, 'fs103', 925)" class="fn">range</span><span class="pn">)</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 926)" onmouseover="showTip(event, 'fs39', 926)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 927)" onmouseover="showTip(event, 'fs98', 927)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 928)" onmouseover="showTip(event, 'fs99', 928)" class="id">All</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">false</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 929)" onmouseover="showTip(event, 'fs39', 929)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 930)" onmouseover="showTip(event, 'fs100', 930)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 931)" onmouseover="showTip(event, 'fs101', 931)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    
    <span class="pn">[</span>
    <span onmouseout="hideTip(event, 'fs221', 932)" onmouseover="showTip(event, 'fs221', 932)" class="id">gapStatisticsData</span><span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 933)" onmouseover="showTip(event, 'fs183', 933)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 934)" onmouseover="showTip(event, 'fs90', 934)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs91', 935)" onmouseover="showTip(event, 'fs91', 935)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs91', 936)" onmouseover="showTip(event, 'fs91', 936)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs91', 937)" onmouseover="showTip(event, 'fs91', 937)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 938)" onmouseover="showTip(event, 'fs43', 938)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 939)" onmouseover="showTip(event, 'fs119', 939)" class="id">Point</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 940)" onmouseover="showTip(event, 'fs43', 940)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 941)" onmouseover="showTip(event, 'fs120', 941)" class="id">withTraceName</span> <span class="s">&quot;original&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 942)" onmouseover="showTip(event, 'fs43', 942)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 943)" onmouseover="showTip(event, 'fs129', 943)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs108', 944)" onmouseover="showTip(event, 'fs108', 944)" class="fn">axisRange</span> <span class="s">&quot;&quot;</span> <span class="pn">(</span><span class="o">-</span><span class="n">4.</span><span class="pn">,</span><span class="n">10.</span><span class="pn">)</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 945)" onmouseover="showTip(event, 'fs43', 945)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 946)" onmouseover="showTip(event, 'fs130', 946)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs108', 947)" onmouseover="showTip(event, 'fs108', 947)" class="fn">axisRange</span> <span class="s">&quot;&quot;</span> <span class="pn">(</span><span class="o">-</span><span class="n">2.5</span><span class="pn">,</span><span class="n">9.</span><span class="pn">)</span><span class="pn">)</span>
    <span class="pn">(</span><span onmouseout="hideTip(event, 'fs223', 948)" onmouseover="showTip(event, 'fs223', 948)" class="m">GapStatistics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs224', 949)" onmouseover="showTip(event, 'fs224', 949)" class="m">PointGenerators</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs225', 950)" onmouseover="showTip(event, 'fs225', 950)" class="id">generateUniformPoints</span> <span onmouseout="hideTip(event, 'fs55', 951)" onmouseover="showTip(event, 'fs55', 951)" class="id">rnd</span> <span onmouseout="hideTip(event, 'fs221', 952)" onmouseover="showTip(event, 'fs221', 952)" class="id">gapStatisticsData</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 953)" onmouseover="showTip(event, 'fs183', 953)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 954)" onmouseover="showTip(event, 'fs90', 954)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs91', 955)" onmouseover="showTip(event, 'fs91', 955)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs91', 956)" onmouseover="showTip(event, 'fs91', 956)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs91', 957)" onmouseover="showTip(event, 'fs91', 957)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 958)" onmouseover="showTip(event, 'fs43', 958)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 959)" onmouseover="showTip(event, 'fs119', 959)" class="id">Point</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 960)" onmouseover="showTip(event, 'fs43', 960)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 961)" onmouseover="showTip(event, 'fs120', 961)" class="id">withTraceName</span> <span class="s">&quot;uniform&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 962)" onmouseover="showTip(event, 'fs43', 962)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 963)" onmouseover="showTip(event, 'fs129', 963)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs108', 964)" onmouseover="showTip(event, 'fs108', 964)" class="fn">axisRange</span> <span class="s">&quot;&quot;</span> <span class="pn">(</span><span class="o">-</span><span class="n">4.</span><span class="pn">,</span><span class="n">10.</span><span class="pn">)</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 965)" onmouseover="showTip(event, 'fs43', 965)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 966)" onmouseover="showTip(event, 'fs130', 966)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs108', 967)" onmouseover="showTip(event, 'fs108', 967)" class="fn">axisRange</span> <span class="s">&quot;&quot;</span> <span class="pn">(</span><span class="o">-</span><span class="n">2.5</span><span class="pn">,</span><span class="n">9.</span><span class="pn">)</span><span class="pn">)</span>
    <span class="pn">(</span><span onmouseout="hideTip(event, 'fs223', 968)" onmouseover="showTip(event, 'fs223', 968)" class="m">GapStatistics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs224', 969)" onmouseover="showTip(event, 'fs224', 969)" class="m">PointGenerators</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs226', 970)" onmouseover="showTip(event, 'fs226', 970)" class="id">generateUniformPointsPCA</span> <span onmouseout="hideTip(event, 'fs55', 971)" onmouseover="showTip(event, 'fs55', 971)" class="id">rnd</span> <span onmouseout="hideTip(event, 'fs221', 972)" onmouseover="showTip(event, 'fs221', 972)" class="id">gapStatisticsData</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 973)" onmouseover="showTip(event, 'fs183', 973)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 974)" onmouseover="showTip(event, 'fs90', 974)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs91', 975)" onmouseover="showTip(event, 'fs91', 975)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs91', 976)" onmouseover="showTip(event, 'fs91', 976)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">0</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs91', 977)" onmouseover="showTip(event, 'fs91', 977)" class="fn">x</span><span class="id">.</span><span class="pn">[</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 978)" onmouseover="showTip(event, 'fs43', 978)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs119', 979)" onmouseover="showTip(event, 'fs119', 979)" class="id">Point</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 980)" onmouseover="showTip(event, 'fs43', 980)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 981)" onmouseover="showTip(event, 'fs120', 981)" class="id">withTraceName</span> <span class="s">&quot;uniform PCA&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 982)" onmouseover="showTip(event, 'fs43', 982)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 983)" onmouseover="showTip(event, 'fs129', 983)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs108', 984)" onmouseover="showTip(event, 'fs108', 984)" class="fn">axisRange</span> <span class="s">&quot;&quot;</span> <span class="pn">(</span><span class="o">-</span><span class="n">4.</span><span class="pn">,</span><span class="n">10.</span><span class="pn">)</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 985)" onmouseover="showTip(event, 'fs43', 985)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 986)" onmouseover="showTip(event, 'fs130', 986)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs108', 987)" onmouseover="showTip(event, 'fs108', 987)" class="fn">axisRange</span> <span class="s">&quot;&quot;</span> <span class="pn">(</span><span class="o">-</span><span class="n">2.5</span><span class="pn">,</span><span class="n">9.</span><span class="pn">)</span><span class="pn">)</span>
    <span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 988)" onmouseover="showTip(event, 'fs43', 988)" class="rt">Chart</span><span class="pn">.</span><span class="id">Stack</span> <span class="n">3</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 989)" onmouseover="showTip(event, 'fs43', 989)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs227', 990)" onmouseover="showTip(event, 'fs227', 990)" class="id">withSize</span><span class="pn">(</span><span class="n">800.</span><span class="pn">,</span><span class="n">400.</span><span class="pn">)</span>
    
</code></pre>
<div id="482f5ce3-0e08-4167-8f24-f75306674595" style="width: 800px; height: 400px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_482f5ce30e0841678f24f75306674595 = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"scatter","x":[-0.1,-0.7,0.3,2.4,1.0,-0.8,-0.1,-0.6,0.6,-0.25,-0.25,-1.2,-0.2,-0.8,-0.9,-0.5,-0.5,0.0,0.2,0.75,1.2,1.5,-0.8,0.0,0.6,2.9,3.15,3.9,4.3,4.8,4.75,4.85,5.9,5.7,5.85,5.9,5.8,7.2,7.9,4.3,5.25,5.8,6.1,4.6,4.95,4.6,5.1,5.75,5.9],"y":[-2.1,-1.75,-1.25,-1.25,-1.2,-1.2,-1.2,-0.9,-0.7,-0.25,-0.25,0.4,0.4,0.6,0.8,0.8,0.9,0.7,0.8,0.8,0.7,0.6,1.4,1.25,1.3,8.2,4.8,4.1,4.1,4.0,4.2,4.4,3.9,4.2,4.2,4.4,4.7,4.55,4.7,4.8,5.0,5.0,5.0,5.25,5.25,5.5,5.9,5.9,6.0],"mode":"markers","marker":{},"name":"original","xaxis":"x","yaxis":"y"},{"type":"scatter","x":[7.762139475886774,1.4859649909594863,4.300590838119662,1.9780479477150588,5.997637191972526,6.271471396447844,-0.8462090737867212,4.447241478295643,4.623130342375082,4.843916846552824,6.549403539043573,2.0825412826996956,1.0112842397351207,3.185527820133384,1.0385153972723125,2.382136098939058,0.44534724356855615,5.02143681171417,-1.0138536564604628,5.823055419895358,2.5636290039232135,6.866646620755383,6.186658983671413,0.7371929704850506,4.560363467205485,2.276897024399087,0.17711275772988455,2.513820792694492,3.2720837256741166,3.2028440633801942,4.193819977200506,3.0277180753777344,7.171023653713532,4.219414024855668,1.7933338427885126,2.853467956862164,0.08600636412669282,1.6932829434020833,0.2509256550813679,-0.17603765496799606,5.660563934203499,3.937631864351049,4.0604886688108035,0.8432221217282219,-1.0636053731029878,-0.1118179341367529,1.1394311740246745,1.637775499670662,7.267222530845189],"y":[6.781815381293098,4.618684733947125,7.268970279474264,-1.0532990365071686,0.9004451414106618,0.31699895636038766,3.0570138018378112,6.39802309158166,3.6310042271069265,4.550864576152927,5.523944468807402,1.720006329156461,-0.3647541509777099,1.1638773382473162,4.461481603449899,1.7255502366579831,4.482936928227048,-0.33104538285687846,1.8100318876607484,2.175414606172318,1.276049816038482,3.8816879581109096,0.5610159825817753,2.1699921652534937,5.648755557718108,-1.4926978788304601,-0.58710776925418,4.328556196684277,-1.5627239848779162,-0.83789570491663,-1.0365730473010677,1.9922704679389809,4.494404260951283,1.5585986131143743,4.081239548130537,6.841843044125401,0.4809851405587904,7.840922665754762,3.5546799648342096,-1.789764827112558,6.643867344522786,6.7983153011642,0.39579564994005256,5.858760708132181,-0.11996299052609305,3.4272542291913424,-0.25592032310362955,7.6747123696723545,7.855485336322097],"mode":"markers","marker":{},"name":"uniform","xaxis":"x2","yaxis":"y2"},{"type":"scatter","x":[1.9983829701752878,6.680739230792424,1.2294409373001869,1.9260094254462974,5.891816337853002,-1.1433521498245645,-0.672205988263191,1.6401638006915769,-2.3355957484119,3.7444230190545618,1.9810785517826086,4.319280053541894,-1.5123924362142744,-2.1076920223476274,5.3324516205360695,0.3980045929568221,2.2768526956389907,-0.7561723054607516,3.7142897237116532,4.126504465723691,4.604818748958889,-1.6270285659761181,5.399086146243968,0.5707128588070389,6.974091834586975,-2.5598285812871784,2.150936855980147,-2.0209354284662844,4.446025159578286,4.697616912297859,2.1063563200417494,1.752744942418606,-0.44311700194811093,1.7644342951455991,3.356444992684405,4.206434453844187,2.264087372957116,2.1793313386088444,1.6412180788143185,1.6328578019612787,-1.3956743142622898,1.0621346046972233,1.347645010488976,4.248076514909473,1.9540778929810025,1.7549276592107292,1.8890074429220705,-0.05904565832610814,4.404828488425199],"y":[-1.1459215136669174,4.159669555677362,-0.83805101982144,-0.7202186145988085,4.167120752266339,2.2852642141069897,3.7364549049936415,6.665544093608852,0.19978994840916742,6.962112639229766,5.841742781611261,1.9695687738495637,2.0608469365978648,2.315888680722434,4.636951977312693,2.8532591292729403,-1.3681633822875738,1.3489987458027517,7.760938147212407,3.6038708644738175,4.452436083784804,-0.2545718371870038,6.180048069205961,-1.5275849733819822,5.331354890122294,1.056312272733463,6.847176215565515,0.5555747620640064,4.172567907254328,4.0923077327041755,-1.5548291956693043,3.3134650120283737,0.6727743676032926,6.7288552819473955,7.172592463015739,2.537244831239652,4.423166436477426,6.392839385030604,1.0429018051135936,1.1399885741081135,2.64097916896723,4.42089276274136,-0.19987563490824412,4.172996887264243,5.8937242170115365,2.79924094914,5.445001248970672,0.728891209886232,7.45324977336297],"mode":"markers","marker":{},"name":"uniform PCA","xaxis":"x3","yaxis":"y3"}];
            var layout = {"yaxis":{"title":"","range":[-2.5,9.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"x","domain":[0.050000000000000044,1.0]},"xaxis":{"title":"","range":[-4.0,10.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"y","domain":[0.0,0.2833333333333333]},"yaxis2":{"title":"","range":[-2.5,9.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"x2","domain":[0.050000000000000044,1.0]},"xaxis2":{"title":"","range":[-4.0,10.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"y2","domain":[0.3333333333333333,0.6166666666666666]},"yaxis3":{"title":"","range":[-2.5,9.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"x3","domain":[0.050000000000000044,1.0]},"xaxis3":{"title":"","range":[-4.0,10.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"y3","domain":[0.6666666666666666,0.95]},"width":800.0,"height":400.0};
            var config = {};
            Plotly.newPlot('482f5ce3-0e08-4167-8f24-f75306674595', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_482f5ce30e0841678f24f75306674595();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_482f5ce30e0841678f24f75306674595();
            }
</script>

<p>The log(dispersionReference) should decrease with rising k, but - if clusters are present in the data - should be greater than the log(dispersionOriginal).</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs223', 994)" onmouseover="showTip(event, 'fs223', 994)" class="m">GapStatistics</span>

<span class="c">//create gap statistics</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs228', 995)" onmouseover="showTip(event, 'fs228', 995)" class="id">gaps</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs223', 996)" onmouseover="showTip(event, 'fs223', 996)" class="m">GapStatistics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs229', 997)" onmouseover="showTip(event, 'fs229', 997)" class="id">calculate</span>
        <span class="pn">(</span><span onmouseout="hideTip(event, 'fs224', 998)" onmouseover="showTip(event, 'fs224', 998)" class="m">PointGenerators</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs226', 999)" onmouseover="showTip(event, 'fs226', 999)" class="id">generateUniformPointsPCA</span> <span onmouseout="hideTip(event, 'fs55', 1000)" onmouseover="showTip(event, 'fs55', 1000)" class="id">rnd</span><span class="pn">)</span>      <span class="c">//uniform point distribution</span>
        <span class="n">100</span><span class="c">// no gain above 500                                //number of bootstraps samples </span>
        <span onmouseout="hideTip(event, 'fs230', 1001)" onmouseover="showTip(event, 'fs230', 1001)" class="m">ClusterDispersionMetric</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs231', 1002)" onmouseover="showTip(event, 'fs231', 1002)" class="id">logDispersionKMeansInitRandom</span> <span class="c">//dispersion metric of clustering algorithm</span>
        <span class="n">10</span>                                                     <span class="c">//maximal number of allowed clusters</span>
        <span onmouseout="hideTip(event, 'fs221', 1003)" onmouseover="showTip(event, 'fs221', 1003)" class="id">gapStatisticsData</span>                                      <span class="c">//float [] [] data of coordinates</span>

<span class="c">//number of clusters        </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs232', 1004)" onmouseover="showTip(event, 'fs232', 1004)" class="id">k</span>        <span class="o">=</span> <span onmouseout="hideTip(event, 'fs228', 1005)" onmouseover="showTip(event, 'fs228', 1005)" class="id">gaps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 1006)" onmouseover="showTip(event, 'fs183', 1006)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 1007)" onmouseover="showTip(event, 'fs90', 1007)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs233', 1008)" onmouseover="showTip(event, 'fs233', 1008)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs233', 1009)" onmouseover="showTip(event, 'fs233', 1009)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs234', 1010)" onmouseover="showTip(event, 'fs234', 1010)" class="id">ClusterIndex</span><span class="pn">)</span>
<span class="c">//log(dispersion) of the original data (with rising k)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs235', 1011)" onmouseover="showTip(event, 'fs235', 1011)" class="id">disp</span>     <span class="o">=</span> <span onmouseout="hideTip(event, 'fs228', 1012)" onmouseover="showTip(event, 'fs228', 1012)" class="id">gaps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 1013)" onmouseover="showTip(event, 'fs183', 1013)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 1014)" onmouseover="showTip(event, 'fs90', 1014)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs233', 1015)" onmouseover="showTip(event, 'fs233', 1015)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs233', 1016)" onmouseover="showTip(event, 'fs233', 1016)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs236', 1017)" onmouseover="showTip(event, 'fs236', 1017)" class="id">Dispersion</span><span class="pn">)</span>
<span class="c">//log(dispersion) of the reference data (with rising k)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs237', 1018)" onmouseover="showTip(event, 'fs237', 1018)" class="id">dispRef</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs228', 1019)" onmouseover="showTip(event, 'fs228', 1019)" class="id">gaps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 1020)" onmouseover="showTip(event, 'fs183', 1020)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 1021)" onmouseover="showTip(event, 'fs90', 1021)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs233', 1022)" onmouseover="showTip(event, 'fs233', 1022)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs233', 1023)" onmouseover="showTip(event, 'fs233', 1023)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs238', 1024)" onmouseover="showTip(event, 'fs238', 1024)" class="id">ReferenceDispersion</span><span class="pn">)</span>
<span class="c">//log(dispersionRef) - log(dispersionOriginal)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs239', 1025)" onmouseover="showTip(event, 'fs239', 1025)" class="id">gap</span>      <span class="o">=</span> <span onmouseout="hideTip(event, 'fs228', 1026)" onmouseover="showTip(event, 'fs228', 1026)" class="id">gaps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 1027)" onmouseover="showTip(event, 'fs183', 1027)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 1028)" onmouseover="showTip(event, 'fs90', 1028)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs233', 1029)" onmouseover="showTip(event, 'fs233', 1029)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs233', 1030)" onmouseover="showTip(event, 'fs233', 1030)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs240', 1031)" onmouseover="showTip(event, 'fs240', 1031)" class="id">Gaps</span><span class="pn">)</span>
<span class="c">//standard deviation of reference data set dispersion</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs241', 1032)" onmouseover="showTip(event, 'fs241', 1032)" class="id">std</span>      <span class="o">=</span> <span onmouseout="hideTip(event, 'fs228', 1033)" onmouseover="showTip(event, 'fs228', 1033)" class="id">gaps</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 1034)" onmouseover="showTip(event, 'fs183', 1034)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 1035)" onmouseover="showTip(event, 'fs90', 1035)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs233', 1036)" onmouseover="showTip(event, 'fs233', 1036)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs233', 1037)" onmouseover="showTip(event, 'fs233', 1037)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs242', 1038)" onmouseover="showTip(event, 'fs242', 1038)" class="id">RefDispersionStDev</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs243', 1039)" onmouseover="showTip(event, 'fs243', 1039)" class="id">gapStatisticsChart</span> <span class="o">=</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs107', 1040)" onmouseover="showTip(event, 'fs107', 1040)" class="fn">axis</span> <span onmouseout="hideTip(event, 'fs94', 1041)" onmouseover="showTip(event, 'fs94', 1041)" class="fn">title</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 1042)" onmouseover="showTip(event, 'fs95', 1042)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 1043)" onmouseover="showTip(event, 'fs96', 1043)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 1044)" onmouseover="showTip(event, 'fs97', 1044)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 1045)" onmouseover="showTip(event, 'fs94', 1045)" class="fn">title</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 1046)" onmouseover="showTip(event, 'fs39', 1046)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 1047)" onmouseover="showTip(event, 'fs98', 1047)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 1048)" onmouseover="showTip(event, 'fs99', 1048)" class="id">All</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 1049)" onmouseover="showTip(event, 'fs39', 1049)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 1050)" onmouseover="showTip(event, 'fs100', 1050)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 1051)" onmouseover="showTip(event, 'fs101', 1051)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs108', 1052)" onmouseover="showTip(event, 'fs108', 1052)" class="fn">axisRange</span> <span onmouseout="hideTip(event, 'fs94', 1053)" onmouseover="showTip(event, 'fs94', 1053)" class="fn">title</span> <span onmouseout="hideTip(event, 'fs103', 1054)" onmouseover="showTip(event, 'fs103', 1054)" class="fn">range</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs95', 1055)" onmouseover="showTip(event, 'fs95', 1055)" class="m">Axis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs96', 1056)" onmouseover="showTip(event, 'fs96', 1056)" class="rt">LinearAxis</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs97', 1057)" onmouseover="showTip(event, 'fs97', 1057)" class="id">init</span><span class="pn">(</span><span class="fn">Title</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs94', 1058)" onmouseover="showTip(event, 'fs94', 1058)" class="fn">title</span><span class="pn">,</span><span class="fn">Range</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 1059)" onmouseover="showTip(event, 'fs39', 1059)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs104', 1060)" onmouseover="showTip(event, 'fs104', 1060)" class="rt">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs105', 1061)" onmouseover="showTip(event, 'fs105', 1061)" class="id">MinMax</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 1062)" onmouseover="showTip(event, 'fs103', 1062)" class="fn">range</span><span class="pn">)</span><span class="pn">,</span><span class="fn">Mirror</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 1063)" onmouseover="showTip(event, 'fs39', 1063)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs98', 1064)" onmouseover="showTip(event, 'fs98', 1064)" class="rt">Mirror</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs99', 1065)" onmouseover="showTip(event, 'fs99', 1065)" class="id">All</span><span class="pn">,</span><span class="fn">Showgrid</span><span class="o">=</span><span class="k">false</span><span class="pn">,</span><span class="fn">Ticks</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs39', 1066)" onmouseover="showTip(event, 'fs39', 1066)" class="m">StyleParam</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs100', 1067)" onmouseover="showTip(event, 'fs100', 1067)" class="rt">TickOptions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs101', 1068)" onmouseover="showTip(event, 'fs101', 1068)" class="id">Inside</span><span class="pn">,</span><span class="fn">Showline</span><span class="o">=</span><span class="k">true</span><span class="pn">)</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs244', 1069)" onmouseover="showTip(event, 'fs244', 1069)" class="fn">dispersions</span> <span class="o">=</span>
        <span class="pn">[</span>
        <span onmouseout="hideTip(event, 'fs43', 1070)" onmouseover="showTip(event, 'fs43', 1070)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs192', 1071)" onmouseover="showTip(event, 'fs192', 1071)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs232', 1072)" onmouseover="showTip(event, 'fs232', 1072)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs235', 1073)" onmouseover="showTip(event, 'fs235', 1073)" class="id">disp</span><span class="pn">)</span>    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1074)" onmouseover="showTip(event, 'fs43', 1074)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 1075)" onmouseover="showTip(event, 'fs120', 1075)" class="id">withTraceName</span> <span class="s">&quot;disp&quot;</span>
        <span onmouseout="hideTip(event, 'fs43', 1076)" onmouseover="showTip(event, 'fs43', 1076)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs192', 1077)" onmouseover="showTip(event, 'fs192', 1077)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs232', 1078)" onmouseover="showTip(event, 'fs232', 1078)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs237', 1079)" onmouseover="showTip(event, 'fs237', 1079)" class="id">dispRef</span><span class="pn">)</span><span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1080)" onmouseover="showTip(event, 'fs43', 1080)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 1081)" onmouseover="showTip(event, 'fs120', 1081)" class="id">withTraceName</span> <span class="s">&quot;dispRef&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1082)" onmouseover="showTip(event, 'fs43', 1082)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs193', 1083)" onmouseover="showTip(event, 'fs193', 1083)" class="id">withYErrorStyle</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs241', 1084)" onmouseover="showTip(event, 'fs241', 1084)" class="id">std</span><span class="pn">)</span>
        <span class="pn">]</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1085)" onmouseover="showTip(event, 'fs43', 1085)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs121', 1086)" onmouseover="showTip(event, 'fs121', 1086)" class="id">Combine</span> 
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1087)" onmouseover="showTip(event, 'fs43', 1087)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 1088)" onmouseover="showTip(event, 'fs129', 1088)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs108', 1089)" onmouseover="showTip(event, 'fs108', 1089)" class="fn">axisRange</span> <span class="s">&quot;&quot;</span> <span class="pn">(</span><span class="n">0.</span><span class="pn">,</span><span class="n">11.</span><span class="pn">)</span><span class="pn">)</span> 
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1090)" onmouseover="showTip(event, 'fs43', 1090)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 1091)" onmouseover="showTip(event, 'fs130', 1091)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 1092)" onmouseover="showTip(event, 'fs107', 1092)" class="fn">axis</span> <span class="s">&quot;log(disp)&quot;</span><span class="pn">)</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs245', 1093)" onmouseover="showTip(event, 'fs245', 1093)" class="fn">gaps</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs43', 1094)" onmouseover="showTip(event, 'fs43', 1094)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs192', 1095)" onmouseover="showTip(event, 'fs192', 1095)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs232', 1096)" onmouseover="showTip(event, 'fs232', 1096)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs239', 1097)" onmouseover="showTip(event, 'fs239', 1097)" class="id">gap</span><span class="pn">)</span><span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1098)" onmouseover="showTip(event, 'fs43', 1098)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs120', 1099)" onmouseover="showTip(event, 'fs120', 1099)" class="id">withTraceName</span> <span class="s">&quot;gaps&quot;</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1100)" onmouseover="showTip(event, 'fs43', 1100)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 1101)" onmouseover="showTip(event, 'fs129', 1101)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs108', 1102)" onmouseover="showTip(event, 'fs108', 1102)" class="fn">axisRange</span> <span class="s">&quot;k&quot;</span> <span class="pn">(</span><span class="n">0.</span><span class="pn">,</span><span class="n">11.</span><span class="pn">)</span><span class="pn">)</span> 
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1103)" onmouseover="showTip(event, 'fs43', 1103)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 1104)" onmouseover="showTip(event, 'fs130', 1104)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs107', 1105)" onmouseover="showTip(event, 'fs107', 1105)" class="fn">axis</span> <span class="s">&quot;gaps&quot;</span><span class="pn">)</span>
    <span class="pn">[</span><span onmouseout="hideTip(event, 'fs244', 1106)" onmouseover="showTip(event, 'fs244', 1106)" class="fn">dispersions</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs245', 1107)" onmouseover="showTip(event, 'fs245', 1107)" class="fn">gaps</span><span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1108)" onmouseover="showTip(event, 'fs43', 1108)" class="rt">Chart</span><span class="pn">.</span><span class="id">Stack</span> <span class="n">1</span>
</code></pre>
<div id="33d2ad13-f752-4883-a20f-2083ca461dd7" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_33d2ad13f7524883a20f2083ca461dd7 = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10],"y":[6.582208710713414,4.541349540449495,4.321213622079801,4.157377155985934,3.864822569617776,3.5945332539763237,3.5908530888153756,3.594729730527455,3.1179578076376693,2.7562594457517204],"mode":"lines","marker":{},"name":"disp","xaxis":"x","yaxis":"y"},{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10],"y":[6.378283298167698,5.54460251780087,5.217048911577953,4.896562634880749,4.603063111861784,4.374599509027365,4.185270594914137,4.035568792545316,3.9119614354985357,3.7639254961188713],"mode":"lines","marker":{},"name":"dispRef","error_y":{"array":[0.10048844930676734,0.12055849769873354,0.10863257052225646,0.13907011154835547,0.14956059216342402,0.14466915501946942,0.1587684905093726,0.17387771334676297,0.1816657051044145,0.1660540836074277]},"xaxis":"x","yaxis":"y"},{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10],"y":[-0.20392541254571572,1.0032529773513748,0.8958352894981516,0.7391854788948153,0.7382405422440086,0.7800662550510413,0.5944175060987611,0.44083906201786105,0.7940036278608664,1.0076660503671508],"mode":"lines","marker":{},"name":"gaps","xaxis":"x2","yaxis":"y2"}];
            var layout = {"yaxis":{"title":"log(disp)","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"x","domain":[0.55,1.0]},"xaxis":{"title":"","range":[0.0,11.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"y","domain":[0.0,0.95]},"yaxis2":{"title":"gaps","ticks":"inside","mirror":"all","showline":true,"showgrid":true,"anchor":"x2","domain":[0.050000000000000044,0.5]},"xaxis2":{"title":"k","range":[0.0,11.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false,"anchor":"y2","domain":[0.0,0.95]}};
            var config = {};
            Plotly.newPlot('33d2ad13-f752-4883-a20f-2083ca461dd7', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_33d2ad13f7524883a20f2083ca461dd7();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_33d2ad13f7524883a20f2083ca461dd7();
            }
</script>

<p>The maximal gap points to the optimal cluster number with the following condition:</p>
<ul>
<li>kopt = smallest k such that Gap(k)&gt;= Gap(k+1)-sk+1</li>
<li>where sk = std * sqrt(1+1/bootstraps)</li>
</ul>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//calculate s(k) out of std(k) and the number of performed iterations for the refernce data set</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs246', 1112)" onmouseover="showTip(event, 'fs246', 1112)" class="id">sK</span>   <span class="o">=</span> <span onmouseout="hideTip(event, 'fs241', 1113)" onmouseover="showTip(event, 'fs241', 1113)" class="id">std</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 1114)" onmouseover="showTip(event, 'fs183', 1114)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs90', 1115)" onmouseover="showTip(event, 'fs90', 1115)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs247', 1116)" onmouseover="showTip(event, 'fs247', 1116)" class="fn">sd</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs247', 1117)" onmouseover="showTip(event, 'fs247', 1117)" class="fn">sd</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs248', 1118)" onmouseover="showTip(event, 'fs248', 1118)" class="fn">sqrt</span><span class="pn">(</span><span class="n">1.</span> <span class="o">+</span> <span class="n">1.</span><span class="o">/</span><span class="n">500.</span><span class="pn">)</span><span class="pn">)</span> <span class="c">//bootstraps = 500 </span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs249', 1119)" onmouseover="showTip(event, 'fs249', 1119)" class="id">gapChart</span> <span class="o">=</span>

    <span onmouseout="hideTip(event, 'fs43', 1120)" onmouseover="showTip(event, 'fs43', 1120)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs192', 1121)" onmouseover="showTip(event, 'fs192', 1121)" class="id">Line</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs232', 1122)" onmouseover="showTip(event, 'fs232', 1122)" class="id">k</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs239', 1123)" onmouseover="showTip(event, 'fs239', 1123)" class="id">gap</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1124)" onmouseover="showTip(event, 'fs43', 1124)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs193', 1125)" onmouseover="showTip(event, 'fs193', 1125)" class="id">withYErrorStyle</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs246', 1126)" onmouseover="showTip(event, 'fs246', 1126)" class="id">sK</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1127)" onmouseover="showTip(event, 'fs43', 1127)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 1128)" onmouseover="showTip(event, 'fs129', 1128)" class="id">withX_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs102', 1129)" onmouseover="showTip(event, 'fs102', 1129)" class="fn">axisRange</span> <span class="s">&quot;k&quot;</span> <span class="pn">(</span><span class="n">0.</span><span class="pn">,</span><span class="n">11.</span><span class="pn">)</span><span class="pn">)</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 1130)" onmouseover="showTip(event, 'fs43', 1130)" class="rt">Chart</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 1131)" onmouseover="showTip(event, 'fs130', 1131)" class="id">withY_Axis</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs102', 1132)" onmouseover="showTip(event, 'fs102', 1132)" class="fn">axisRange</span> <span class="s">&quot;gap&quot;</span> <span class="pn">(</span><span class="o">-</span><span class="n">0.5</span><span class="pn">,</span><span class="n">2.</span><span class="pn">)</span><span class="pn">)</span> 
    
</code></pre>
<div id="b71db6fe-288c-471b-94d0-623f99a10c18" style="width: 600px; height: 600px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script type="text/javascript">

            var renderPlotly_b71db6fe288c471b94d0623f99a10c18 = function() {
            var fsharpPlotlyRequire = requirejs.config({context:'fsharp-plotly',paths:{plotly:'https://cdn.plot.ly/plotly-latest.min'}}) || require;
            fsharpPlotlyRequire(['plotly'], function(Plotly) {

            var data = [{"type":"scatter","x":[1,2,3,4,5,6,7,8,9,10],"y":[-0.20392541254571572,1.0032529773513748,0.8958352894981516,0.7391854788948153,0.7382405422440086,0.7800662550510413,0.5944175060987611,0.44083906201786105,0.7940036278608664,1.0076660503671508],"mode":"lines","marker":{},"error_y":{"array":[0.10058888756203097,0.12067899597738743,0.10874114883074194,0.13920911219429632,0.14971007804997832,0.14481375191215567,0.1589271796949219,0.1740515042080834,0.18184728006738582,0.16622005474691676]}}];
            var layout = {"xaxis":{"title":"k","range":[0.0,11.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false},"yaxis":{"title":"gap","range":[-0.5,2.0],"ticks":"inside","mirror":"all","showline":true,"showgrid":false}};
            var config = {};
            Plotly.newPlot('b71db6fe-288c-471b-94d0-623f99a10c18', data, layout, config);
});
            };
            if ((typeof(requirejs) !==  typeof(Function)) || (typeof(requirejs.config) !== typeof(Function))) {
                var script = document.createElement("script");
                script.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js");
                script.onload = function(){
                    renderPlotly_b71db6fe288c471b94d0623f99a10c18();
                };
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            else {
                renderPlotly_b71db6fe288c471b94d0623f99a10c18();
            }
</script>

<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//choose kOpt = smallest k such that Gap(k)&gt;= Gap(k+1)-sk+1, where sk = sdk * sqrt(1+1/bootstraps)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs250', 1136)" onmouseover="showTip(event, 'fs250', 1136)" class="id">kOpt</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs183', 1137)" onmouseover="showTip(event, 'fs183', 1137)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs251', 1138)" onmouseover="showTip(event, 'fs251', 1138)" class="id">init</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs239', 1139)" onmouseover="showTip(event, 'fs239', 1139)" class="id">gap</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs252', 1140)" onmouseover="showTip(event, 'fs252', 1140)" class="id">Length</span> <span class="o">-</span> <span class="n">2</span><span class="pn">)</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs30', 1141)" onmouseover="showTip(event, 'fs30', 1141)" class="fn">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs239', 1142)" onmouseover="showTip(event, 'fs239', 1142)" class="id">gap</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs30', 1143)" onmouseover="showTip(event, 'fs30', 1143)" class="fn">i</span><span class="pn">]</span> <span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs239', 1144)" onmouseover="showTip(event, 'fs239', 1144)" class="id">gap</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs30', 1145)" onmouseover="showTip(event, 'fs30', 1145)" class="fn">i</span><span class="o">+</span><span class="n">1</span><span class="pn">]</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs246', 1146)" onmouseover="showTip(event, 'fs246', 1146)" class="id">sK</span><span class="id">.</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs30', 1147)" onmouseover="showTip(event, 'fs30', 1147)" class="fn">i</span><span class="o">+</span><span class="n">1</span><span class="pn">]</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs183', 1148)" onmouseover="showTip(event, 'fs183', 1148)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs253', 1149)" onmouseover="showTip(event, 'fs253', 1149)" class="id">findIndex</span> <span onmouseout="hideTip(event, 'fs254', 1150)" onmouseover="showTip(event, 'fs254', 1150)" class="fn">id</span>
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs80', 1151)" onmouseover="showTip(event, 'fs80', 1151)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs33', 1152)" onmouseover="showTip(event, 'fs33', 1152)" class="fn">sprintf</span> <span class="s">&quot;The optimal cluster number is: </span><span class="pf">%i</span><span class="s">&quot;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs80', 1153)" onmouseover="showTip(event, 'fs80', 1153)" class="fn">x</span> <span class="o">+</span> <span class="n">1</span><span class="pn">)</span>
    
</code></pre>
<table class="pre"><tr><td><pre><code>"The optimal cluster number is: 2"</code></pre></td></tr></table>

                </div>
            </div>
        </div>
        <div class="fsdocs-tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs2">namespace FSharp.Stats</div>
<div class="fsdocs-tip" id="fs3">val fromFileWithSep : separator:char -&gt; filePath:string -&gt; seq&lt;string []&gt;</div>
<div class="fsdocs-tip" id="fs4">val separator : char</div>
<div class="fsdocs-tip" id="fs5">Multiple items<br />val char : value:&#39;T -&gt; char (requires member op_Explicit)<br /><br />--------------------<br />type char = System.Char</div>
<div class="fsdocs-tip" id="fs6">val filePath : string</div>
<div class="fsdocs-tip" id="fs7">Multiple items<br />val seq : sequence:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />--------------------<br />type seq&lt;&#39;T&gt; = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs8">val sr : System.IO.StreamReader</div>
<div class="fsdocs-tip" id="fs9">namespace System</div>
<div class="fsdocs-tip" id="fs10">namespace System.IO</div>
<div class="fsdocs-tip" id="fs11">type File =<br />&#160;&#160;static member AppendAllLines : path:string * contents:IEnumerable&lt;string&gt; -&gt; unit + 1 overload<br />&#160;&#160;static member AppendAllLinesAsync : path:string * contents:IEnumerable&lt;string&gt; * ?cancellationToken:CancellationToken -&gt; Task + 1 overload<br />&#160;&#160;static member AppendAllText : path:string * contents:string -&gt; unit + 1 overload<br />&#160;&#160;static member AppendAllTextAsync : path:string * contents:string * ?cancellationToken:CancellationToken -&gt; Task + 1 overload<br />&#160;&#160;static member AppendText : path:string -&gt; StreamWriter<br />&#160;&#160;static member Copy : sourceFileName:string * destFileName:string -&gt; unit + 1 overload<br />&#160;&#160;static member Create : path:string -&gt; FileStream + 2 overloads<br />&#160;&#160;static member CreateText : path:string -&gt; StreamWriter<br />&#160;&#160;static member Decrypt : path:string -&gt; unit<br />&#160;&#160;static member Delete : path:string -&gt; unit<br />&#160;&#160;...</div>
<div class="fsdocs-tip" id="fs12">System.IO.File.OpenText(path: string) : System.IO.StreamReader</div>
<div class="fsdocs-tip" id="fs13">val not : value:bool -&gt; bool</div>
<div class="fsdocs-tip" id="fs14">property System.IO.StreamReader.EndOfStream: bool with get</div>
<div class="fsdocs-tip" id="fs15">val line : string</div>
<div class="fsdocs-tip" id="fs16">System.IO.StreamReader.ReadLine() : string</div>
<div class="fsdocs-tip" id="fs17">val words : string []</div>
<div class="fsdocs-tip" id="fs18">System.String.Split([&lt;System.ParamArray&gt;] separator: char []) : string []<br />System.String.Split(separator: string [], options: System.StringSplitOptions) : string []<br />System.String.Split(separator: string,?options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], count: int) : string []<br />System.String.Split(separator: char,?options: System.StringSplitOptions) : string []<br />System.String.Split(separator: string [], count: int, options: System.StringSplitOptions) : string []<br />System.String.Split(separator: string, count: int,?options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], count: int, options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char, count: int,?options: System.StringSplitOptions) : string []</div>
<div class="fsdocs-tip" id="fs19">val lables : string []</div>
<div class="fsdocs-tip" id="fs20">val data : float [] []</div>
<div class="fsdocs-tip" id="fs21">Multiple items<br />module Seq<br /><br />from FSharp.Stats<br /><br />--------------------<br />module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="fsdocs-tip" id="fs22">val skip : count:int -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs23">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;</div>
<div class="fsdocs-tip" id="fs24">val arr : string []</div>
<div class="fsdocs-tip" id="fs25">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />--------------------<br />type float = System.Double<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float</div>
<div class="fsdocs-tip" id="fs26">val toArray : source:seq&lt;&#39;T&gt; -&gt; &#39;T []</div>
<div class="fsdocs-tip" id="fs27">Multiple items<br />module Array<br /><br />from FSharp.Stats<br /><br />--------------------<br />module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="fsdocs-tip" id="fs28">val shuffleFisherYates : arr:&#39;b [] -&gt; &#39;b []</div>
<div class="fsdocs-tip" id="fs29">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []</div>
<div class="fsdocs-tip" id="fs30">val i : int</div>
<div class="fsdocs-tip" id="fs31">val lable : string</div>
<div class="fsdocs-tip" id="fs32">val data : float []</div>
<div class="fsdocs-tip" id="fs33">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs34">val unzip : array:(&#39;T1 * &#39;T2) [] -&gt; &#39;T1 [] * &#39;T2 []</div>
<div class="fsdocs-tip" id="fs35">namespace Plotly</div>
<div class="fsdocs-tip" id="fs36">namespace Plotly.NET</div>
<div class="fsdocs-tip" id="fs37">val colnames : string list</div>
<div class="fsdocs-tip" id="fs38">val colorscaleValue : StyleParam.Colorscale</div>
<div class="fsdocs-tip" id="fs39">module StyleParam<br /><br />from Plotly.NET</div>
<div class="fsdocs-tip" id="fs40">type Colorscale =<br />&#160;&#160;| Custom of seq&lt;float * string&gt;<br />&#160;&#160;| RdBu<br />&#160;&#160;| Earth<br />&#160;&#160;| Blackbody<br />&#160;&#160;| YIOrRd<br />&#160;&#160;| YIGnBu<br />&#160;&#160;| Bluered<br />&#160;&#160;| Portland<br />&#160;&#160;| Electric<br />&#160;&#160;| Jet<br />&#160;&#160;...<br />&#160;&#160;&#160;&#160;static member convert : (Colorscale -&gt; obj)</div>
<div class="fsdocs-tip" id="fs41">union case StyleParam.Colorscale.Electric: StyleParam.Colorscale</div>
<div class="fsdocs-tip" id="fs42">val dataChart : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs43">type Chart =<br />&#160;&#160;static member Area : xy:seq&lt;#IConvertible * #IConvertible&gt; * ?Name:string * ?ShowMarkers:bool * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Dash:DrawingStyle * ?Width:&#39;a2 -&gt; GenericChart<br />&#160;&#160;static member Area : x:seq&lt;#IConvertible&gt; * y:seq&lt;#IConvertible&gt; * ?Name:string * ?ShowMarkers:bool * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Dash:DrawingStyle * ?Width:&#39;a2 -&gt; GenericChart<br />&#160;&#160;static member Bar : keysvalues:seq&lt;#IConvertible * #IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Color:&#39;a2 * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Marker:Marker -&gt; GenericChart<br />&#160;&#160;static member Bar : keys:seq&lt;#IConvertible&gt; * values:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Color:&#39;a2 * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?Marker:Marker -&gt; GenericChart<br />&#160;&#160;static member BoxPlot : xy:seq&lt;&#39;a0 * &#39;a1&gt; * ?Name:string * ?Showlegend:bool * ?Color:string * ?Fillcolor:&#39;a2 * ?Opacity:float * ?Whiskerwidth:&#39;a3 * ?Boxpoints:Boxpoints * ?Boxmean:BoxMean * ?Jitter:&#39;a4 * ?Pointpos:&#39;a5 * ?Orientation:Orientation * ?Marker:Marker * ?Line:Line * ?Alignmentgroup:&#39;a6 * ?Offsetgroup:&#39;a7 * ?Notched:bool * ?NotchWidth:float * ?QuartileMethod:QuartileMethod -&gt; GenericChart<br />&#160;&#160;static member BoxPlot : ?x:&#39;a0 * ?y:&#39;a1 * ?Name:string * ?Showlegend:bool * ?Color:string * ?Fillcolor:&#39;a2 * ?Opacity:float * ?Whiskerwidth:&#39;a3 * ?Boxpoints:Boxpoints * ?Boxmean:BoxMean * ?Jitter:&#39;a4 * ?Pointpos:&#39;a5 * ?Orientation:Orientation * ?Marker:Marker * ?Line:Line * ?Alignmentgroup:&#39;a6 * ?Offsetgroup:&#39;a7 * ?Notched:bool * ?NotchWidth:float * ?QuartileMethod:QuartileMethod -&gt; GenericChart<br />&#160;&#160;static member Bubble : xysizes:seq&lt;#IConvertible * #IConvertible * #IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?StackGroup:string * ?Orientation:Orientation * ?GroupNorm:GroupNorm * ?UseWebGL:bool -&gt; GenericChart<br />&#160;&#160;static member Bubble : x:seq&lt;#IConvertible&gt; * y:seq&lt;#IConvertible&gt; * sizes:seq&lt;#IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:TextPosition * ?TextFont:Font * ?StackGroup:string * ?Orientation:Orientation * ?GroupNorm:GroupNorm * ?UseWebGL:bool -&gt; GenericChart<br />&#160;&#160;static member Candlestick : stockTimeSeries:seq&lt;DateTime * StockData&gt; * ?Increasing:Line * ?Decreasing:Line * ?WhiskerWidth:float * ?Line:Line * ?XCalendar:Calendar -&gt; GenericChart<br />&#160;&#160;static member Candlestick : open:seq&lt;#IConvertible&gt; * high:seq&lt;#IConvertible&gt; * low:seq&lt;#IConvertible&gt; * close:seq&lt;#IConvertible&gt; * x:seq&lt;#IConvertible&gt; * ?Increasing:Line * ?Decreasing:Line * ?WhiskerWidth:float * ?Line:Line * ?XCalendar:Calendar -&gt; GenericChart<br />&#160;&#160;...</div>
<div class="fsdocs-tip" id="fs44">static member Chart.Heatmap : data:seq&lt;#seq&lt;&#39;b&gt;&gt; * ?ColNames:seq&lt;#System.IConvertible&gt; * ?RowNames:seq&lt;#System.IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?Opacity:float * ?Colorscale:StyleParam.Colorscale * ?Showscale:&#39;e * ?Xgap:&#39;f * ?Ygap:&#39;g * ?zSmooth:StyleParam.SmoothAlg * ?Colorbar:&#39;h -&gt; GenericChart.GenericChart (requires &#39;b :&gt; System.IConvertible)</div>
<div class="fsdocs-tip" id="fs45">Multiple items<br />module Seq<br /><br />from Plotly.NET<br /><br />--------------------<br />module Seq<br /><br />from FSharp.Stats<br /><br />--------------------<br />module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="fsdocs-tip" id="fs46">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;</div>
<div class="fsdocs-tip" id="fs47">val s : string</div>
<div class="fsdocs-tip" id="fs48">static member Chart.withMarginSize : ?Left:&#39;a * ?Right:&#39;b * ?Top:&#39;c * ?Bottom:&#39;d * ?Pad:&#39;e * ?Autoexpand:&#39;f -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="fsdocs-tip" id="fs49">static member Chart.withTitle : title:string * ?Titlefont:Font -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="fsdocs-tip" id="fs50">module GenericChart<br /><br />from Plotly.NET</div>
<div class="fsdocs-tip" id="fs51">val toChartHTML : gChart:GenericChart.GenericChart -&gt; string</div>
<div class="fsdocs-tip" id="fs52">namespace FSharp.Stats.ML</div>
<div class="fsdocs-tip" id="fs53">namespace FSharp.Stats.ML.Unsupervised</div>
<div class="fsdocs-tip" id="fs54">module HierarchicalClustering<br /><br />from FSharp.Stats.ML.Unsupervised</div>
<div class="fsdocs-tip" id="fs55">val rnd : System.Random</div>
<div class="fsdocs-tip" id="fs56">Multiple items<br />type Random =<br />&#160;&#160;new : unit -&gt; Random + 1 overload<br />&#160;&#160;member Next : unit -&gt; int + 2 overloads<br />&#160;&#160;member NextBytes : buffer:byte[] -&gt; unit + 1 overload<br />&#160;&#160;member NextDouble : unit -&gt; float<br /><br />--------------------<br />System.Random() : System.Random<br />System.Random(Seed: int) : System.Random</div>
<div class="fsdocs-tip" id="fs57">val randomInitFactory : IterativeClustering.CentroidsFactory&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs58">module IterativeClustering<br /><br />from FSharp.Stats.ML.Unsupervised</div>
<div class="fsdocs-tip" id="fs59">type CentroidsFactory&lt;&#39;a&gt; = &#39;a array -&gt; int -&gt; &#39;a array</div>
<div class="fsdocs-tip" id="fs60">val randomCentroids : rng:System.Random -&gt; sample:&#39;a array -&gt; k:int -&gt; &#39;a []</div>
<div class="fsdocs-tip" id="fs61">val kmeansResult : IterativeClustering.KClusteringResult&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs62">val kmeans : dist:DistanceMetrics.Distance&lt;float []&gt; -&gt; factory:IterativeClustering.CentroidsFactory&lt;float []&gt; -&gt; dataset:float [] array -&gt; k:int -&gt; IterativeClustering.KClusteringResult&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs63">module DistanceMetrics<br /><br />from FSharp.Stats.ML</div>
<div class="fsdocs-tip" id="fs64">val euclidean : s1:seq&lt;&#39;a&gt; -&gt; s2:seq&lt;&#39;a&gt; -&gt; &#39;c (requires member ( - ) and member get_Zero and member ( + ) and member Sqrt and member ( * ))</div>
<div class="fsdocs-tip" id="fs65">val clusteredIrisData : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs66">val zip : array1:&#39;T1 [] -&gt; array2:&#39;T2 [] -&gt; (&#39;T1 * &#39;T2) []</div>
<div class="fsdocs-tip" id="fs67">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; array:&#39;T [] -&gt; &#39;T [] (requires comparison)</div>
<div class="fsdocs-tip" id="fs68">val l : string</div>
<div class="fsdocs-tip" id="fs69">val dataPoint : float []</div>
<div class="fsdocs-tip" id="fs70">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1</div>
<div class="fsdocs-tip" id="fs71">IterativeClustering.KClusteringResult.Classifier: float [] -&gt; int * float []</div>
<div class="fsdocs-tip" id="fs72">val labels : string []</div>
<div class="fsdocs-tip" id="fs73">val d : float [] []</div>
<div class="fsdocs-tip" id="fs74">val getBestkMeansClustering : data:float [] array -&gt; k:int -&gt; bootstraps:int -&gt; IterativeClustering.KClusteringResult&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs75">val data : float [] array</div>
<div class="fsdocs-tip" id="fs76">val k : int</div>
<div class="fsdocs-tip" id="fs77">val bootstraps : int</div>
<div class="fsdocs-tip" id="fs78">Multiple items<br />module List<br /><br />from FSharp.Stats<br /><br />--------------------<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;&#160;&#160;interface IReadOnlyList&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IEnumerable<br />&#160;&#160;&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member GetReverseIndex : rank:int * offset:int -&gt; int<br />&#160;&#160;&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;&#160;&#160;member Head : &#39;T<br />&#160;&#160;&#160;&#160;member IsEmpty : bool<br />&#160;&#160;&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;&#160;&#160;member Length : int<br />&#160;&#160;&#160;&#160;...</div>
<div class="fsdocs-tip" id="fs79">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list</div>
<div class="fsdocs-tip" id="fs80">val x : int</div>
<div class="fsdocs-tip" id="fs81">val minBy : projection:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;T (requires comparison)</div>
<div class="fsdocs-tip" id="fs82">val clusteringResult : IterativeClustering.KClusteringResult&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs83">val DispersionOfClusterResult : kmeansResult:IterativeClustering.KClusteringResult&lt;&#39;a&gt; -&gt; float</div>
<div class="fsdocs-tip" id="fs84">val t : DbScan.DbscanResult&lt;float array&gt;</div>
<div class="fsdocs-tip" id="fs85">module DbScan<br /><br />from FSharp.Stats.ML.Unsupervised</div>
<div class="fsdocs-tip" id="fs86">val compute : dfu:(&#39;a array -&gt; &#39;a array -&gt; float) -&gt; minPts:int -&gt; eps:float -&gt; input:seq&lt;#seq&lt;&#39;a&gt;&gt; -&gt; DbScan.DbscanResult&lt;&#39;a array&gt;</div>
<div class="fsdocs-tip" id="fs87">module Array<br /><br />from FSharp.Stats.ML.DistanceMetrics</div>
<div class="fsdocs-tip" id="fs88">val euclideanNaN : a1:float array -&gt; a2:float array -&gt; float</div>
<div class="fsdocs-tip" id="fs89">val petLpetW : float [] []</div>
<div class="fsdocs-tip" id="fs90">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []</div>
<div class="fsdocs-tip" id="fs91">val x : float []</div>
<div class="fsdocs-tip" id="fs92">val petWpetLsepL : float [] []</div>
<div class="fsdocs-tip" id="fs93">val axis : title:string -&gt; Axis.LinearAxis</div>
<div class="fsdocs-tip" id="fs94">val title : string</div>
<div class="fsdocs-tip" id="fs95">module Axis<br /><br />from Plotly.NET</div>
<div class="fsdocs-tip" id="fs96">Multiple items<br />type LinearAxis =<br />&#160;&#160;inherit DynamicObj<br />&#160;&#160;new : unit -&gt; LinearAxis<br />&#160;&#160;static member init : ?AxisType:AxisType * ?Title:string * ?Titlefont:Font * ?Autorange:AutoRange * ?Rangemode:RangeMode * ?Range:Range * ?RangeSlider:RangeSlider * ?Fixedrange:&#39;a * ?Tickmode:TickMode * ?nTicks:&#39;b * ?Tick0:&#39;c * ?dTick:&#39;d * ?Tickvals:&#39;e * ?Ticktext:&#39;f * ?Ticks:TickOptions * ?Mirror:Mirror * ?Ticklen:&#39;g * ?Tickwidth:&#39;h * ?Tickcolor:&#39;i * ?Showticklabels:&#39;j * ?Tickfont:Font * ?Tickangle:&#39;k * ?Tickprefix:&#39;l * ?Showtickprefix:ShowTickOption * ?Ticksuffix:&#39;m * ?Showticksuffix:ShowTickOption * ?Showexponent:ShowExponent * ?Exponentformat:ExponentFormat * ?Tickformat:&#39;n * ?Hoverformat:&#39;o * ?Showline:bool * ?Linecolor:&#39;p * ?Linewidth:&#39;q * ?Showgrid:bool * ?Gridcolor:&#39;r * ?Gridwidth:&#39;s * ?Zeroline:bool * ?Zerolinecolor:&#39;t * ?Zerolinewidth:&#39;a1 * ?Anchor:AxisAnchorId * ?Side:Side * ?Overlaying:AxisAnchorId * ?Domain:Range * ?Position:float * ?IsSubplotObj:&#39;a2 * ?Tickvalssrc:&#39;a3 * ?Ticktextsrc:&#39;a4 * ?Showspikes:&#39;a5 * ?Spikesides:&#39;a6 * ?Spikethickness:&#39;a7 * ?Spikecolor:&#39;a8 * ?Showbackground:&#39;a9 * ?Backgroundcolor:&#39;a10 * ?Showaxeslabels:&#39;a11 -&gt; LinearAxis<br />&#160;&#160;static member style : ?AxisType:AxisType * ?Title:string * ?Titlefont:Font * ?Autorange:AutoRange * ?Rangemode:RangeMode * ?Range:Range * ?RangeSlider:RangeSlider * ?Fixedrange:&#39;a * ?Tickmode:TickMode * ?nTicks:&#39;b * ?Tick0:&#39;c * ?dTick:&#39;d * ?Tickvals:&#39;e * ?Ticktext:&#39;f * ?Ticks:TickOptions * ?Mirror:Mirror * ?Ticklen:&#39;g * ?Tickwidth:&#39;h * ?Tickcolor:&#39;i * ?Showticklabels:&#39;j * ?Tickfont:Font * ?Tickangle:&#39;k * ?Tickprefix:&#39;l * ?Showtickprefix:ShowTickOption * ?Ticksuffix:&#39;m * ?Showticksuffix:ShowTickOption * ?Showexponent:ShowExponent * ?Exponentformat:ExponentFormat * ?Tickformat:&#39;n * ?Hoverformat:&#39;o * ?Showline:bool * ?Linecolor:&#39;p * ?Linewidth:&#39;q * ?Showgrid:bool * ?Gridcolor:&#39;r * ?Gridwidth:&#39;s * ?Zeroline:bool * ?Zerolinecolor:&#39;t * ?Zerolinewidth:&#39;a1 * ?Anchor:AxisAnchorId * ?Side:Side * ?Overlaying:AxisAnchorId * ?Domain:Range * ?Position:float * ?IsSubplotObj:&#39;a2 * ?Tickvalssrc:&#39;a3 * ?Ticktextsrc:&#39;a4 * ?Showspikes:&#39;a5 * ?Spikesides:&#39;a6 * ?Spikethickness:&#39;a7 * ?Spikecolor:&#39;a8 * ?Showbackground:&#39;a9 * ?Backgroundcolor:&#39;a10 * ?Showaxeslabels:&#39;a11 -&gt; (LinearAxis -&gt; LinearAxis)<br /><br />--------------------<br />new : unit -&gt; Axis.LinearAxis</div>
<div class="fsdocs-tip" id="fs97">static member Axis.LinearAxis.init : ?AxisType:StyleParam.AxisType * ?Title:string * ?Titlefont:Font * ?Autorange:StyleParam.AutoRange * ?Rangemode:StyleParam.RangeMode * ?Range:StyleParam.Range * ?RangeSlider:RangeSlider * ?Fixedrange:&#39;a * ?Tickmode:StyleParam.TickMode * ?nTicks:&#39;b * ?Tick0:&#39;c * ?dTick:&#39;d * ?Tickvals:&#39;e * ?Ticktext:&#39;f * ?Ticks:StyleParam.TickOptions * ?Mirror:StyleParam.Mirror * ?Ticklen:&#39;g * ?Tickwidth:&#39;h * ?Tickcolor:&#39;i * ?Showticklabels:&#39;j * ?Tickfont:Font * ?Tickangle:&#39;k * ?Tickprefix:&#39;l * ?Showtickprefix:StyleParam.ShowTickOption * ?Ticksuffix:&#39;m * ?Showticksuffix:StyleParam.ShowTickOption * ?Showexponent:StyleParam.ShowExponent * ?Exponentformat:StyleParam.ExponentFormat * ?Tickformat:&#39;n * ?Hoverformat:&#39;o * ?Showline:bool * ?Linecolor:&#39;p * ?Linewidth:&#39;q * ?Showgrid:bool * ?Gridcolor:&#39;r * ?Gridwidth:&#39;s * ?Zeroline:bool * ?Zerolinecolor:&#39;t * ?Zerolinewidth:&#39;a1 * ?Anchor:StyleParam.AxisAnchorId * ?Side:StyleParam.Side * ?Overlaying:StyleParam.AxisAnchorId * ?Domain:StyleParam.Range * ?Position:float * ?IsSubplotObj:&#39;a2 * ?Tickvalssrc:&#39;a3 * ?Ticktextsrc:&#39;a4 * ?Showspikes:&#39;a5 * ?Spikesides:&#39;a6 * ?Spikethickness:&#39;a7 * ?Spikecolor:&#39;a8 * ?Showbackground:&#39;a9 * ?Backgroundcolor:&#39;a10 * ?Showaxeslabels:&#39;a11 -&gt; Axis.LinearAxis</div>
<div class="fsdocs-tip" id="fs98">type Mirror =<br />&#160;&#160;| True<br />&#160;&#160;| Ticks<br />&#160;&#160;| False<br />&#160;&#160;| All<br />&#160;&#160;| AllTicks<br />&#160;&#160;&#160;&#160;static member convert : (Mirror -&gt; obj)<br />&#160;&#160;&#160;&#160;static member toString : (Mirror -&gt; string)</div>
<div class="fsdocs-tip" id="fs99">union case StyleParam.Mirror.All: StyleParam.Mirror</div>
<div class="fsdocs-tip" id="fs100">type TickOptions =<br />&#160;&#160;| Outside<br />&#160;&#160;| Inside<br />&#160;&#160;| Empty<br />&#160;&#160;&#160;&#160;static member convert : (TickOptions -&gt; obj)<br />&#160;&#160;&#160;&#160;static member toString : (TickOptions -&gt; string)</div>
<div class="fsdocs-tip" id="fs101">union case StyleParam.TickOptions.Inside: StyleParam.TickOptions</div>
<div class="fsdocs-tip" id="fs102">val axisRange : title:string -&gt; float * float -&gt; Axis.LinearAxis</div>
<div class="fsdocs-tip" id="fs103">val range : float * float</div>
<div class="fsdocs-tip" id="fs104">type Range =<br />&#160;&#160;| MinMax of float * float<br />&#160;&#160;| Values of float array<br />&#160;&#160;&#160;&#160;static member convert : (Range -&gt; obj)</div>
<div class="fsdocs-tip" id="fs105">union case StyleParam.Range.MinMax: float * float -&gt; StyleParam.Range</div>
<div class="fsdocs-tip" id="fs106">val dbscanPlot : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs107">val axis : (string -&gt; Axis.LinearAxis)</div>
<div class="fsdocs-tip" id="fs108">val axisRange : (string -&gt; float * float -&gt; Axis.LinearAxis)</div>
<div class="fsdocs-tip" id="fs109">val head : source:seq&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs110">val length : source:seq&lt;&#39;T&gt; -&gt; int</div>
<div class="fsdocs-tip" id="fs111">val failwithf : format:Printf.StringFormat&lt;&#39;T,&#39;Result&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs112">val result : DbScan.DbscanResult&lt;float array&gt;</div>
<div class="fsdocs-tip" id="fs113">val euclidean : a1:&#39;a array -&gt; a2:&#39;a array -&gt; float (requires member get_Zero and member ( - ) and member ( + ) and member op_Explicit and member ( * ))</div>
<div class="fsdocs-tip" id="fs114">val chartCluster : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs115">DbScan.DbscanResult.Clusterlist: seq&lt;seq&lt;float array&gt;&gt;</div>
<div class="fsdocs-tip" id="fs116">val l : seq&lt;float array&gt;</div>
<div class="fsdocs-tip" id="fs117">val x : float array</div>
<div class="fsdocs-tip" id="fs118">val distinct : source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires equality)</div>
<div class="fsdocs-tip" id="fs119">static member Chart.Point : xy:seq&lt;#System.IConvertible * #System.IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font * ?StackGroup:string * ?Orientation:StyleParam.Orientation * ?GroupNorm:StyleParam.GroupNorm * ?UseWebGL:bool -&gt; GenericChart.GenericChart<br />static member Chart.Point : x:seq&lt;#System.IConvertible&gt; * y:seq&lt;#System.IConvertible&gt; * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font * ?StackGroup:string * ?Orientation:StyleParam.Orientation * ?GroupNorm:StyleParam.GroupNorm * ?UseWebGL:bool -&gt; GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs120">static member Chart.withTraceName : ?Name:string * ?Showlegend:bool * ?Legendgroup:string * ?Visible:StyleParam.Visible -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="fsdocs-tip" id="fs121">static member Chart.Combine : gCharts:seq&lt;GenericChart.GenericChart&gt; -&gt; GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs122">val chartNoise : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs123">DbScan.DbscanResult.Noisepoints: seq&lt;float array&gt;</div>
<div class="fsdocs-tip" id="fs124">val chartname : string</div>
<div class="fsdocs-tip" id="fs125">val noiseCount : int</div>
<div class="fsdocs-tip" id="fs126">val clusterCount : int</div>
<div class="fsdocs-tip" id="fs127">val clPtsCount : int</div>
<div class="fsdocs-tip" id="fs128">val sumBy : projection:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; &#39;U (requires member ( + ) and member get_Zero)</div>
<div class="fsdocs-tip" id="fs129">static member Chart.withX_Axis : xAxis:Axis.LinearAxis * ?Id:int -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="fsdocs-tip" id="fs130">static member Chart.withY_Axis : yAxis:Axis.LinearAxis * ?Id:int -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="fsdocs-tip" id="fs131">val create3dChart : dfu:(&#39;a array -&gt; &#39;a array -&gt; float) -&gt; minPts:int -&gt; eps:float -&gt; input:seq&lt;#seq&lt;&#39;a&gt;&gt; -&gt; GenericChart.GenericChart (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="fsdocs-tip" id="fs132">val dfu : (&#39;a array -&gt; &#39;a array -&gt; float) (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="fsdocs-tip" id="fs133">type &#39;T array = &#39;T []</div>
<div class="fsdocs-tip" id="fs134">val minPts : int</div>
<div class="fsdocs-tip" id="fs135">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />--------------------<br />type int = int32<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int</div>
<div class="fsdocs-tip" id="fs136">val eps : float</div>
<div class="fsdocs-tip" id="fs137">val input : seq&lt;#seq&lt;&#39;a0&gt;&gt; (requires equality and &#39;a0 :&gt; System.IConvertible)</div>
<div class="fsdocs-tip" id="fs138">val result : DbScan.DbscanResult&lt;&#39;a array&gt; (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="fsdocs-tip" id="fs139">DbScan.DbscanResult.Clusterlist: seq&lt;seq&lt;&#39;a array&gt;&gt;</div>
<div class="fsdocs-tip" id="fs140">val l : seq&lt;&#39;a array&gt; (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="fsdocs-tip" id="fs141">val x : &#39;a array (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="fsdocs-tip" id="fs142">val x : seq&lt;&#39;a * &#39;a * &#39;a&gt; (requires equality and &#39;a :&gt; System.IConvertible)</div>
<div class="fsdocs-tip" id="fs143">static member Chart.Scatter3d : xyz:seq&lt;#System.IConvertible * #System.IConvertible * #System.IConvertible&gt; * mode:StyleParam.Mode * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font * ?Dash:StyleParam.DrawingStyle * ?Width:&#39;e -&gt; GenericChart.GenericChart<br />static member Chart.Scatter3d : x:seq&lt;#System.IConvertible&gt; * y:seq&lt;#System.IConvertible&gt; * z:seq&lt;#System.IConvertible&gt; * mode:StyleParam.Mode * ?Name:string * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font * ?Dash:StyleParam.DrawingStyle * ?Width:&#39;a3 -&gt; GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs144">type Mode =<br />&#160;&#160;| None<br />&#160;&#160;| Lines<br />&#160;&#160;| Lines_Markers<br />&#160;&#160;| Lines_Text<br />&#160;&#160;| Lines_Markers_Text<br />&#160;&#160;| Markers<br />&#160;&#160;| Markers_Text<br />&#160;&#160;| Text<br />&#160;&#160;&#160;&#160;static member convert : (Mode -&gt; obj)<br />&#160;&#160;&#160;&#160;static member toString : (Mode -&gt; string)</div>
<div class="fsdocs-tip" id="fs145">union case StyleParam.Mode.Markers: StyleParam.Mode</div>
<div class="fsdocs-tip" id="fs146">DbScan.DbscanResult.Noisepoints: seq&lt;&#39;a array&gt;</div>
<div class="fsdocs-tip" id="fs147">static member Chart.withZ_Axis : zAxis:Axis.LinearAxis -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="fsdocs-tip" id="fs148">val clusteredChart3D : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs149">val euclideanNaNSquared : a1:float array -&gt; a2:float array -&gt; float</div>
<div class="fsdocs-tip" id="fs150">val clusterResultH : Cluster&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs151">val generate : distance:DistanceMetrics.Distance&lt;&#39;T&gt; -&gt; linker:Linker.LancWilliamsLinker -&gt; data:seq&lt;&#39;T&gt; -&gt; Cluster&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs152">val euclideanNaNSquared : s1:seq&lt;float&gt; -&gt; s2:seq&lt;float&gt; -&gt; float</div>
<div class="fsdocs-tip" id="fs153">module Linker<br /><br />from FSharp.Stats.ML.Unsupervised.HierarchicalClustering</div>
<div class="fsdocs-tip" id="fs154">val wardLwLinker : int * int * int -&gt; dAB:float -&gt; dAC:float -&gt; dBC:float -&gt; float</div>
<div class="fsdocs-tip" id="fs155">val threeClustersH : Cluster&lt;float []&gt; list list</div>
<div class="fsdocs-tip" id="fs156">val cutHClust : desiredNumber:int -&gt; clusterTree:Cluster&lt;&#39;T&gt; -&gt; Cluster&lt;&#39;T&gt; list list</div>
<div class="fsdocs-tip" id="fs157">val inspectThreeClusters : string * string list list</div>
<div class="fsdocs-tip" id="fs158">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list</div>
<div class="fsdocs-tip" id="fs159">val cluster : Cluster&lt;float []&gt; list</div>
<div class="fsdocs-tip" id="fs160">val leaf : Cluster&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs161">val getClusterId : c:Cluster&lt;&#39;T&gt; -&gt; int</div>
<div class="fsdocs-tip" id="fs162">val clusteredLabels : string list list</div>
<div class="fsdocs-tip" id="fs163">property List.Length: int with get</div>
<div class="fsdocs-tip" id="fs164">val hLeaves : Cluster&lt;float []&gt; list</div>
<div class="fsdocs-tip" id="fs165">val flattenHClust : clusterTree:Cluster&lt;&#39;T&gt; -&gt; Cluster&lt;&#39;T&gt; list</div>
<div class="fsdocs-tip" id="fs166">val dataSortedByClustering : seq&lt;string * float []&gt;</div>
<div class="fsdocs-tip" id="fs167">val choose : chooser:(&#39;T -&gt; &#39;U option) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;</div>
<div class="fsdocs-tip" id="fs168">val c : Cluster&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs169">val values : float [] option</div>
<div class="fsdocs-tip" id="fs170">val tryGetLeafValue : c:Cluster&lt;&#39;T&gt; -&gt; &#39;T option</div>
<div class="fsdocs-tip" id="fs171">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs172">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs173">val hierClusteredDataHeatmap : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs174">val hlable : seq&lt;string&gt;</div>
<div class="fsdocs-tip" id="fs175">val hdata : seq&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs176">val unzip : input:seq&lt;&#39;a * &#39;b&gt; -&gt; seq&lt;&#39;a&gt; * seq&lt;&#39;b&gt;</div>
<div class="fsdocs-tip" id="fs177">val ruleOfThumb : float</div>
<div class="fsdocs-tip" id="fs178">module ClusterNumber<br /><br />from FSharp.Stats.ML.Unsupervised</div>
<div class="fsdocs-tip" id="fs179">val kRuleOfThumb : observations:seq&lt;&#39;a&gt; -&gt; float</div>
<div class="fsdocs-tip" id="fs180">val kElbow : int</div>
<div class="fsdocs-tip" id="fs181">val iterations : int</div>
<div class="fsdocs-tip" id="fs182">val dispersionOfK : (int * float * float) []</div>
<div class="fsdocs-tip" id="fs183">Multiple items<br />module Array<br /><br />from FSharp.Stats.ML.DistanceMetrics<br /><br />--------------------<br />module Array<br /><br />from FSharp.Stats<br /><br />--------------------<br />module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="fsdocs-tip" id="fs184">val dispersion : float</div>
<div class="fsdocs-tip" id="fs185">val std : float</div>
<div class="fsdocs-tip" id="fs186">val kmeans : dist:Distance&lt;float []&gt; -&gt; factory:CentroidsFactory&lt;float []&gt; -&gt; dataset:float [] array -&gt; k:int -&gt; KClusteringResult&lt;float []&gt;</div>
<div class="fsdocs-tip" id="fs187">val DispersionOfClusterResult : kmeansResult:KClusteringResult&lt;&#39;a&gt; -&gt; float</div>
<div class="fsdocs-tip" id="fs188">val dispersions : float []</div>
<div class="fsdocs-tip" id="fs189">val mean : items:seq&lt;&#39;T&gt; -&gt; &#39;U (requires member ( + ) and member get_Zero and member DivideByInt and member ( / ))</div>
<div class="fsdocs-tip" id="fs190">val stDev : items:seq&lt;&#39;T&gt; -&gt; &#39;U (requires member ( - ) and member get_Zero and member DivideByInt and member ( + ) and member ( * ) and member ( + ) and member ( / ) and member Sqrt)</div>
<div class="fsdocs-tip" id="fs191">val elbowChart : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs192">static member Chart.Line : xy:seq&lt;#System.IConvertible * #System.IConvertible&gt; * ?Name:string * ?ShowMarkers:bool * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font * ?Dash:&#39;c * ?Width:&#39;d * ?StackGroup:string * ?Orientation:StyleParam.Orientation * ?GroupNorm:StyleParam.GroupNorm * ?UseWebGL:bool -&gt; GenericChart.GenericChart<br />static member Chart.Line : x:seq&lt;#System.IConvertible&gt; * y:seq&lt;#System.IConvertible&gt; * ?Name:string * ?ShowMarkers:bool * ?Showlegend:bool * ?MarkerSymbol:StyleParam.Symbol * ?Color:string * ?Opacity:float * ?Labels:seq&lt;string&gt; * ?TextPosition:StyleParam.TextPosition * ?TextFont:Font * ?Dash:&#39;c * ?Width:&#39;d * ?StackGroup:string * ?Orientation:StyleParam.Orientation * ?GroupNorm:StyleParam.GroupNorm * ?UseWebGL:bool -&gt; GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs193">static member Chart.withYErrorStyle : ?Array:&#39;a * ?Arrayminus:&#39;b * ?Symmetric:&#39;c * ?Color:&#39;d * ?Thickness:&#39;e * ?Width:&#39;f -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="fsdocs-tip" id="fs194">val aicBootstraps : int</div>
<div class="fsdocs-tip" id="fs195">val aicK : int []</div>
<div class="fsdocs-tip" id="fs196">val aicMeans : float []</div>
<div class="fsdocs-tip" id="fs197">val aicStd : float []</div>
<div class="fsdocs-tip" id="fs198">val aic : (int * float) [] []</div>
<div class="fsdocs-tip" id="fs199">val b : int</div>
<div class="fsdocs-tip" id="fs200">val calcAIC : bootstraps:int -&gt; iClustering:(int -&gt; KClusteringResult&lt;float []&gt;) -&gt; maxK:int -&gt; (int * float) []</div>
<div class="fsdocs-tip" id="fs201">val iteration : (int * float) []</div>
<div class="fsdocs-tip" id="fs202">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2</div>
<div class="fsdocs-tip" id="fs203">module JaggedArray<br /><br />from FSharp.Stats</div>
<div class="fsdocs-tip" id="fs204">val transpose : arr:&#39;T [] [] -&gt; &#39;T [] []</div>
<div class="fsdocs-tip" id="fs205">val aics : float []</div>
<div class="fsdocs-tip" id="fs206">val unzip3 : array:(&#39;T1 * &#39;T2 * &#39;T3) [] -&gt; &#39;T1 [] * &#39;T2 [] * &#39;T3 []</div>
<div class="fsdocs-tip" id="fs207">val aicChart : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs208">val silhouetteData : float [] []</div>
<div class="fsdocs-tip" id="fs209">System.IO.File.ReadAllLines(path: string) : string []<br />System.IO.File.ReadAllLines(path: string, encoding: System.Text.Encoding) : string []</div>
<div class="fsdocs-tip" id="fs210">val x : string</div>
<div class="fsdocs-tip" id="fs211">val tmp : string []</div>
<div class="fsdocs-tip" id="fs212">val sI : ClusterNumber.SilhouetteResult []</div>
<div class="fsdocs-tip" id="fs213">val silhouetteIndexKMeans : bootstraps:int -&gt; iClustering:(int -&gt; KClusteringResult&lt;float []&gt;) -&gt; data:float [] [] -&gt; maxK:int -&gt; ClusterNumber.SilhouetteResult []</div>
<div class="fsdocs-tip" id="fs214">val rawDataChart : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs215">val silhouetteIndicesChart : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs216">val x : ClusterNumber.SilhouetteResult</div>
<div class="fsdocs-tip" id="fs217">ClusterNumber.SilhouetteResult.ClusterNumber: int</div>
<div class="fsdocs-tip" id="fs218">ClusterNumber.SilhouetteResult.SilhouetteIndex: float</div>
<div class="fsdocs-tip" id="fs219">ClusterNumber.SilhouetteResult.SilhouetteIndexStDev: float</div>
<div class="fsdocs-tip" id="fs220">val combinedSilhouette : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs221">val gapStatisticsData : float [] []</div>
<div class="fsdocs-tip" id="fs222">val gapDataChart : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs223">module GapStatistics<br /><br />from FSharp.Stats.ML.Unsupervised</div>
<div class="fsdocs-tip" id="fs224">module PointGenerators<br /><br />from FSharp.Stats.ML.Unsupervised.GapStatistics</div>
<div class="fsdocs-tip" id="fs225">val generateUniformPoints : rnd:System.Random -&gt; data:float [] array -&gt; float [] []</div>
<div class="fsdocs-tip" id="fs226">val generateUniformPointsPCA : rnd:System.Random -&gt; data:float [] array -&gt; float [] []</div>
<div class="fsdocs-tip" id="fs227">static member Chart.withSize : width:float * height:float -&gt; (GenericChart.GenericChart -&gt; GenericChart.GenericChart)</div>
<div class="fsdocs-tip" id="fs228">val gaps : GapStatisticResult []</div>
<div class="fsdocs-tip" id="fs229">val calculate : rndPointGenerator:GenericPointGenerator&lt;&#39;a&gt; -&gt; bootstraps:int -&gt; calcDispersion:GenericClusterDispersion&lt;&#39;a&gt; -&gt; maxK:int -&gt; data:&#39;a array -&gt; GapStatisticResult []</div>
<div class="fsdocs-tip" id="fs230">module ClusterDispersionMetric<br /><br />from FSharp.Stats.ML.Unsupervised.GapStatistics</div>
<div class="fsdocs-tip" id="fs231">val logDispersionKMeansInitRandom : (float [] array -&gt; int -&gt; float)</div>
<div class="fsdocs-tip" id="fs232">val k : int []</div>
<div class="fsdocs-tip" id="fs233">val x : GapStatisticResult</div>
<div class="fsdocs-tip" id="fs234">GapStatisticResult.ClusterIndex: int</div>
<div class="fsdocs-tip" id="fs235">val disp : float []</div>
<div class="fsdocs-tip" id="fs236">GapStatisticResult.Dispersion: float</div>
<div class="fsdocs-tip" id="fs237">val dispRef : float []</div>
<div class="fsdocs-tip" id="fs238">GapStatisticResult.ReferenceDispersion: float</div>
<div class="fsdocs-tip" id="fs239">val gap : float []</div>
<div class="fsdocs-tip" id="fs240">GapStatisticResult.Gaps: float</div>
<div class="fsdocs-tip" id="fs241">val std : float []</div>
<div class="fsdocs-tip" id="fs242">GapStatisticResult.RefDispersionStDev: float</div>
<div class="fsdocs-tip" id="fs243">val gapStatisticsChart : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs244">val dispersions : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs245">val gaps : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs246">val sK : float []</div>
<div class="fsdocs-tip" id="fs247">val sd : float</div>
<div class="fsdocs-tip" id="fs248">val sqrt : value:&#39;T -&gt; &#39;U (requires member Sqrt)</div>
<div class="fsdocs-tip" id="fs249">val gapChart : GenericChart.GenericChart</div>
<div class="fsdocs-tip" id="fs250">val kOpt : string</div>
<div class="fsdocs-tip" id="fs251">val init : count:int -&gt; initializer:(int -&gt; &#39;T) -&gt; &#39;T []</div>
<div class="fsdocs-tip" id="fs252">property System.Array.Length: int with get</div>
<div class="fsdocs-tip" id="fs253">val findIndex : predicate:(&#39;T -&gt; bool) -&gt; array:&#39;T [] -&gt; int</div>
<div class="fsdocs-tip" id="fs254">val id : x:&#39;T -&gt; &#39;T</div>

    </div>

    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <script type="text/javascript">var fsdocs_search_baseurl = 'https://fslab.org/FSharp.Stats/'</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
    <script type="text/javascript" src="https://fslab.org/FSharp.Stats/content/fsdocs-search.js"></script>
    <!-- END SEARCH BOX: this adds support for the search box -->
</body>

</html>